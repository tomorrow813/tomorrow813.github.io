<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="java进阶之路">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>java进阶之路</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.2.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">java进阶之路</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle-o" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-list" style="zoom: 0.6;"></i>
      
      <span>Medias</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/musics">
          
          <i class="fas fa-music" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Musics</span>
        </a>
      </li>
      
      <li>
        <a href="/movies">
          
          <i class="fas fa-film" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Movies</span>
        </a>
      </li>
      
      <li>
        <a href="/books">
          
          <i class="fas fa-book" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Books</span>
        </a>
      </li>
      
      <li>
        <a href="/galleries">
          
          <i class="fas fa-image" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Galleries</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">java进阶之路</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle-o"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-list"></i>
			
			Medias
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>

                  <a href="/musics " style="margin-left:75px">
				  
				   <i class="fa fas fa-music" style="position: absolute;left:50px" ></i>
			      
		          <span>Musics</span>
                  </a>
                </li>
              
                <li>

                  <a href="/movies " style="margin-left:75px">
				  
				   <i class="fa fas fa-film" style="position: absolute;left:50px" ></i>
			      
		          <span>Movies</span>
                  </a>
                </li>
              
                <li>

                  <a href="/books " style="margin-left:75px">
				  
				   <i class="fa fas fa-book" style="position: absolute;left:50px" ></i>
			      
		          <span>Books</span>
                  </a>
                </li>
              
                <li>

                  <a href="/galleries " style="margin-left:75px">
				  
				   <i class="fa fas fa-image" style="position: absolute;left:50px" ></i>
			      
		          <span>Galleries</span>
                  </a>
                </li>
              
            </ul>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/0.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title"></h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-11-17
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2020-11-17
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    6k
                </div>
                

                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p><img src="avatar.png"><br>可爱的小姐姐头像镇楼～～～～～～<br>**<font color = "orange">今天打算把看过的源码总结一下。从集合框架开始咯～～～～<br>来个可爱的分隔符～！<br>话不多说正式开始总结啦！！！！<br></font>**</p>
<p><strong>那就先看看集合框架的总体介绍吧</strong>～<br>集合框架：总体分为Map和Collection两大类</p>
<ol>
<li><p>Collection接口：是单值集合的根接口。没有直接的实现类，但是具有更具体的子接口：List Set</p>
<ol>
<li><p>List 元素有序，可重复的集合  </p>
<ul>
<li>Arraylist： Object数组。 集合中的每个元素都有其对应的顺序索引。</li>
<li>Vector： Object数组</li>
<li>LinkedList： 双向链表(JDK1.6之前为循环链表， JDK1.7取消了循环)</li>
</ul>
</li>
<li><p>Set 元素无序(元素存放的顺序不保证)、不可重复的集合 </p>
<ul>
<li><p>HashSet: 基于 HashMap 实现的，既不能保证添加顺序，也不能保证大小顺序</p>
</li>
<li><p>LinkedHashSet： LinkedHashSet 继承于 HashSet，</p>
<pre><code>             比HashSet多维护了添加的顺序，LinkedHashSet插入性能略低于 HashSet,元素不可重复
           并且其内部是通过 LinkedHashMap 来实现的。
           有点类似于我们之前说的LinkedHashMap 
           其内部是基于 HashMap 实现⼀样，不过还是有⼀点点区别的</code></pre>
</li>
<li><p>TreeSet： 红黑树(⾃平衡的排序二叉树)，</p>
<pre><code>     元素不可重复，可以保证元素的大小排序
     一定要用到java.lang.Comparable  或者是java.util.Comparator
     TreeSet 两种排序方法：自然排序和定制排序。
     默认情况下，TreeSet 采用自然排序。TreeSet 会调用集合元素的 compareTo(Object obj) 方法来比较元素之间的关系，然后将集合元素按升序排列
    如果试图把一个对象大小添加到 TreeSet 时，则该对象的类必须实现 Comparable 接口。
    实现 Comparable 的类必须实现 compareTo(Object obj) 方法，两个对象即通过 compareTo(Object obj) 方法的返回值来比较大小。
    如果需要定制排序，比如降序排列，可通过Comparator接口的帮助。需要重写compare(T o1,T o2)方法。
    利用int compare(T o1,T o2)方法，比较o1和o2的大小：如果方法返回正整数，则表示o1大于o2；如果返回0，表示相等；返回负整数，表示o1小于o2。
    要实现定制排序，需要将实现Comparator接口的实例作为形参传递给TreeSet的构造器。
    此时，仍然只能向TreeSet中添加类型相同的对象。否则发生ClassCastException异常。
    使用定制排序判断两个元素相等的标准是：通过Comparator比较两个元素返回了0</code></pre>
<p>HashSet ,LinkedHashSet的不可重复性是怎么实现的？</p>
</li>
</ul>
<p>  – 现比较hash值，如果hash值不一样的话，说明一定是不相同的。<br>  – 如果说hash是一样的，再调用equals取比较大小</p>
</li>
<li><p>Queue</p>
</li>
</ol>
</li>
<li><p>Map</p>
<ol>
<li>HashMap： JDK1.8之前HashMap由数组+链表组成的，<pre><code>      数组是HashMap的主体，
      链表则是主要为了解决哈希冲突⽽存在的（“拉链法”解决冲突）。
       JDK1.8以后在解决哈希冲突时有了较⼤的变化，
       当链表⻓度⼤于阈值（默认为8）时，
       将链表转化为红⿊树，以减少搜索时间</code></pre>
</li>
<li>LinkedHashMap： LinkedHashMap 继承⾃ HashMap，<pre><code>           所以它的底层仍然是基于拉链式散列结构
           即由数组和链表或红⿊树组成。
           LinkedHashMap 在上⾯结构的基础上，
           增加了⼀条双向链表，
           使得上⾯的结构可以保持键值对的插⼊顺序。
           同时通过对链表进⾏相应的操作，
           实现了访问顺序相关逻辑。</code></pre>
</li>
<li>Hashtable： 数组+链表组成的，数组是 HashMap 的主体，<pre><code>        链表则是主要为了解决哈希冲突⽽存在的</code></pre>
</li>
</ol>
</li>
<li><p>TreeMap： 红⿊树（⾃平衡的排序⼆叉树）</p>
</li>
</ol>
<p>有点懵圈～，还是来看看List家族的源码吧，加深理解～<br>1.VECTOR</p>
<h2 id="1-1：vector数据结构"><a href="#1-1：vector数据结构" class="headerlink" title="1-1：vector数据结构"></a>1-1：vector数据结构</h2><p>底层数据结构为数组，支持快速随机访问</p>
<h2 id="1-2：vector构造器"><a href="#1-2：vector构造器" class="headerlink" title="1-2：vector构造器"></a>1-2：vector构造器</h2><p>Vector有四个不同的构造函数。 无参构造的容量默认值为10，容量增长系数CapacityIncrement为0<br>public Vector(int initialCapacity, int capacityIncrement) {<br>    super();<br>    if (initialCapacity &lt; 0)<br>        throw new IllegalArgumentException(“Illegal Capacity: “+<br>                                           initialCapacity);<br>    this.elementData = new Object[initialCapacity];<br>    this.capacityIncrement = capacityIncrement;<br>}</p>
<h2 id="1-3：vector-indexOf-object-o"><a href="#1-3：vector-indexOf-object-o" class="headerlink" title="1-3：vector  indexOf(object o)"></a>1-3：vector  indexOf(object o)</h2><p>Vector在查找给定元素索引值方法中，indexOf(object o )–&gt;<br>public int indexOf(Object o) {<br>    return indexOf(o, 0);<br>}<br>public synchronized int indexOf(Object o, int index) {<br>    if (o == null) {<br>        for (int i = index ; i &lt; elementCount ; i++)<br>            if (elementData[i]==null)<br>                return i;<br>    } else {<br>        for (int i = index ; i &lt; elementCount ; i++)<br>            if (o.equals(elementData[i]))<br>                return i;<br>    }<br>    return -1;<br>}</p>
<p>Vector中允许元素为null<br>源码都将该元素的值分为null和不为null两种情况处理，</p>
<h2 id="1-4：扩容机制"><a href="#1-4：扩容机制" class="headerlink" title="1-4：扩容机制"></a>1-4：扩容机制</h2><p>与ArrayList不同的是，<br>Vector在每次add增加元素(可能是1个，也可能是一组)时，<br>public synchronized boolean add(E e) {<br>    modCount++;<br>    ensureCapacityHelper(elementCount + 1);<br>    elementData[elementCount++] = e;<br>    return true;<br>}</p>
<p>都要调用ensureCapacityHelper方法来确保足够的容量。<br>private void ensureCapacityHelper(int minCapacity) {<br>    // overflow-conscious code<br>    if (minCapacity - elementData.length &gt; 0)<br>        grow(minCapacity);<br>}</p>
<p>当容量不足以容纳当前的元素个数时，即minCapacity（指的是当前元素数目elementCount + 1） - elementData.length &gt; 0，就会grow(minCapacity)扩容</p>
<p>private void grow(int minCapacity) {<br>    // overflow-conscious code<br>    int oldCapacity = elementData.length;<br>    int newCapacity = oldCapacity + ((capacityIncrement &gt; 0) ?<br>                                     capacityIncrement : oldCapacity);<br>    if (newCapacity - minCapacity &lt; 0)<br>        newCapacity = minCapacity;<br>    if (newCapacity - MAX_ARRAY_SIZE &gt; 0)<br>        newCapacity = hugeCapacity(minCapacity);<br>    elementData = Arrays.copyOf(elementData, newCapacity);<br>}</p>
<p>就看构造方法中传入的容量增长系数CapacityIncrement是否为0，<br>如果不为0，就设置新的容量为 旧容量 + 容量增长量；<br>如果为0，设置新的容量为旧的容量的2倍，<br>如果设置后的容量还不够，则直接新的容量设置为  传入参数所需要的容量<br>而后同样用Arrays.copyof()方法将元素拷贝到新的数组。</p>
<h2 id="1-5：Vector是保证线程安全的"><a href="#1-5：Vector是保证线程安全的" class="headerlink" title="1-5：Vector是保证线程安全的"></a>1-5：Vector是保证线程安全的</h2><p>由于vector中Add方法加了synchronized，来保证add操作是线程安全的<br>   哈哈哈哈哈哈，还挺好玩的，接着看！<br>2.ARRAYLIST</p>
<h3 id="2-1：数组-Array-和列表-ArrayList-有什么区别？"><a href="#2-1：数组-Array-和列表-ArrayList-有什么区别？" class="headerlink" title="2-1：数组(Array)和列表(ArrayList)有什么区别？"></a>2-1：数组(Array)和列表(ArrayList)有什么区别？</h3><ol>
<li>定义上： Array 可以包含基本类型和对象类型， ArrayList 只能包含对象类型。 </li>
<li>容量上： Array 大小固定， ArrayList 的大小是动态变化的。 </li>
<li>操作上： ArrayList 提供更多的方法和特性， </li>
</ol>
<p>使用基本数据类型或者知道数据元素数量的时候<br>可以考虑Array;<br>ArrayList处理固定数量<br>的基本类型数据类型时<br>会自动装箱来减少编码工作量，<br>但是相对较慢。</p>
<h2 id="2-1：ArrayList数据结构"><a href="#2-1：ArrayList数据结构" class="headerlink" title="2-1：ArrayList数据结构"></a>2-1：ArrayList数据结构</h2><p>private transient Object[] elementData;<br>底层使用数组实现, 其 API 都做了一层对数组底层访问的封装</p>
<p>并允许包括null在内的所有元素。</p>
<h3 id="2-1-：构造器"><a href="#2-1-：构造器" class="headerlink" title="2-1 ：构造器"></a>2-1 ：构造器</h3><p>有三种初始化办法：无参数直接初始化、指定大小初始化、指定初始数据初始化，源码如 下：<br>无参数直接初始化:<br>private static final Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = {};<br>public ArrayList() {<br>    this.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;<br>}<br>    ArrayList 无参构造器初始化时，默认大小是空数组，10 是在第一次 add 的时候扩容的数组值。<br>指定初始数据初始化<br>public ArrayList(Collection&lt;? extends E&gt; c) {<br>    elementData = c.toArray();<br>    if ((size = elementData.length) != 0) {<br>        // c.toArray might (incorrectly) not return Object[] (see 6260652)<br>//是当给定集合内的元素不是 Object 类型时，我们会转化成 Object 的类型<br>        if (elementData.getClass() != Object[].class)<br>            elementData = Arrays.copyOf(elementData, size, Object[].class);<br>    } else {<br>        // replace with empty array.<br>// 给定集合（c）无值，则默认空数组<br>        this.elementData = EMPTY_ELEMENTDATA;<br>    }<br>}<br>    为什么要创建空数组？<br>    因为开发中很多时候 创建了ArrayList对象，但是没有装元素，这个时候的话，直接初始化为10，就会浪费空间。</p>
<h3 id="2-4：ArrayList的add操作-以及-扩容"><a href="#2-4：ArrayList的add操作-以及-扩容" class="headerlink" title="2-4：ArrayList的add操作  以及 扩容"></a>2-4：ArrayList的add操作  以及 扩容</h3><p>新增就是往数组中添加元素，主要分成两步：<br>    判断是否需要扩容，如果需要执行扩容操作；<br>    直接赋值。</p>
<p>public boolean add(E e) {<br>//确保数组大小是否足够，不够执行扩容，size 为当前数组的大小<br>    ensureCapacityInternal(size + 1);  // Increments modCount!!<br>    elementData[size++] = e;<br>    return true;<br>}</p>
<p>private void ensureCapacityInternal(int minCapacity) {<br>    ensureExplicitCapacity(calculateCapacity(elementData, minCapacity));<br>}</p>
<p>private static int calculateCapacity(Object[] elementData, int minCapacity) {<br>//如果初始化数组大小时，有给定初始值，以给定的大小为准，不走 if 逻辑<br>    if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) {<br>        return Math.max(DEFAULT_CAPACITY, minCapacity);<br>    }<br>    return minCapacity;<br>}</p>
<p>private void ensureExplicitCapacity(int minCapacity) {<br>//记录数组被修改<br>    modCount++;</p>
<pre><code>// overflow-conscious code</code></pre>
<p>// 如果我们期望的最小容量大于目前数组的长度，那么就扩容<br>    if (minCapacity - elementData.length &gt; 0)<br>        grow(minCapacity);<br>}</p>
<p>// 如果我们期望的最小容量大于目前数组的长度，那么就扩容<br>private void grow(int minCapacity) {<br>    // overflow-conscious code<br>    int oldCapacity = elementData.length;<br>    int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);<br>// 如果扩容后的值 &lt; 我们的期望值，扩容后的值就等于我们的期望值<br>    if (newCapacity - minCapacity &lt; 0)<br>        newCapacity = minCapacity;<br>// 如果扩容后的值 &gt; jvm 所能分配的数组的最大值，那么就用 Integer 的最大值<br>    if (newCapacity - MAX_ARRAY_SIZE &gt; 0)<br>        newCapacity = hugeCapacity(minCapacity);<br>    // minCapacity is usually close to size, so this is a win:<br>    elementData = Arrays.copyOf(elementData, newCapacity);<br>}<br>我们看到，每当向数组中添加元素时， 都要去检查添加后元素的个数是否会超出当前数组的长度，如果超出，数组将会进行扩容， 以满足添加数据的需求。数组扩容通过一个公开的方法 ensureCapacity(int minCapacity) 来 实现。</p>
<ol>
<li><p>ArrayList第一次add元素时，扩容为长度为10的数组。<br>  当前数组是由默认构造方法生成的空数组并且第一次添加数据。<br>此时minCapacity等于默认的容量（10）<br>那么根据下面逻辑可以看到最后数组的容量会从0扩容成10。<br>而后的数组扩容才是按照当前容量的1.5倍进行扩容；</p>
</li>
<li><p>   扩容的规则并不是翻倍，是原来容量大小 + 容量大小的一半，直白来说，扩容后的大小是原 来容量的 1.5 倍；<br>当ArrayList数组超过当前容量时，扩容至1.5倍（遇到计算结果为小数的，向下取整），<br>第一次扩容后，容量为15，第二次扩容至22</p>
</li>
<li><p>private static int hugeCapacity(int minCapacity) {<br> if (minCapacity &lt; 0) // overflow</p>
<pre><code> throw new OutOfMemoryError();</code></pre>
<p> return (minCapacity &gt; MAX_ARRAY_SIZE) ?</p>
<pre><code> Integer.MAX_VALUE :
 MAX_ARRAY_SIZE;</code></pre>
<p>}</p>
</li>
</ol>
<p>ArrayList 中的数组的最大值是 Integer.MAX_VALUE，超过这个值，JVM 就不会给数组分配 内存空间了。这边也可以看到ArrayList允许的最大容量，就是Integer的最大值（-2的31次方~2的31次方减1）。<br>4.    新增时，并没有对值进行严格的校验，所以 ArrayList 是允许 null 值的。</p>
<ol start="5">
<li>不是原子操作，，没有任何锁控制，所以这里的操作是线程不安全的，原因主要是elementData[size++] = e可以继续进行拆分<br>private static int hugeCapacity(int minCapacity) {<br> if (minCapacity &lt; 0) // overflow<pre><code> throw new OutOfMemoryError();</code></pre>
 return (minCapacity &gt; MAX_ARRAY_SIZE) ?<pre><code> Integer.MAX_VALUE :
 MAX_ARRAY_SIZE;</code></pre>
}</li>
</ol>
<p>    扩容是通过这行代码来实现的： Arrays.copyOf(elementData, newCapacity); 这行代码描述的 本质是数组之间的拷贝，扩容是会先新建一个符合我们预期容量的新数组，然后把老数组的数据 拷贝过去，我们通过 System.arraycopy 方法进行拷贝<br>/** * @param src 被拷贝的数组 </p>
<ul>
<li>@param srcPos 从数组那里开始</li>
<li>@param dest 目标数组 </li>
<li>@param destPos 从目标数组那个索引位置开始拷贝 </li>
<li>@param length 拷贝的长度 </li>
<li>此方法是没有返回值的，通过 dest 的引用进行传值 */<br>public static native void arraycopy(Object src,  int  srcPos,<pre><code>                              Object dest, int destPos,
                              int length);</code></pre>
</li>
</ul>
<h3 id="2-4：remove"><a href="#2-4：remove" class="headerlink" title="2-4：remove"></a>2-4：remove</h3><p>ArrayList 删除元素有很多种方式，比如根据数组索引删除、根据值删除或批量删除等等，原理 和思路都差不多，我们选取根据值删除方式来进行源码说明：</p>
<p>我们需要注意的两点是：</p>
<p>新增的时候是没有对 null 进行校验的，所以删除的时候也是允许删除 null 值的； 找到值在数组中的索引位置，是通过 equals 来判断的，如果数组元素不是基本类型，需要我 们关注 equals 的具体实现。</p>
<p>上面代码已经找到要删除元素的索引位置了，下面代码是根据索引位置进行元素的删除：<br>public boolean remove(Object o) {<br>    if (o == null) {<br>        for (int index = 0; index &lt; size; index++)<br>            if (elementData[index] == null) {<br>                fastRemove(index);<br>                return true;<br>            }<br>    } else {<br>        for (int index = 0; index &lt; size; index++)<br>            if (o.equals(elementData[index])) {<br>                fastRemove(index);<br>                return true;<br>            }<br>    }<br>    return false;<br>}</p>
<p>private void fastRemove(int index) {<br>    modCount++;<br>    int numMoved = size - index - 1;<br>    if (numMoved &gt; 0)<br>// numMoved 表示删除 index 位置的元素后，需要从 index 后移动多少个元素到前面去<br>// 从 index +1 位置开始被拷贝，拷贝的起始位置是 index，长度是 num<br>        System.arraycopy(elementData, index+1, elementData, index,<br>                         numMoved);<br>// remove方法会让下标到数组末尾的元素向前移动一个单位，<br>并把最后一位的值置空，方便GC<br>    elementData[–size] = null; // clear to let GC do its work</p>
<p>}</p>
<h2 id="2-6：ArrayList线程不安全"><a href="#2-6：ArrayList线程不安全" class="headerlink" title="2-6：ArrayList线程不安全"></a>2-6：ArrayList线程不安全</h2><p>只有当 ArrayList 作为共享变量时，才会有线程安全问题，当 ArrayList 是 方法内的局部变量时，是没有线程安全的问题的。<br>ArrayList 有线程安全问题的本质，是因为 ArrayList 自身的 elementData、size、modConut 在进行各种操作时，都没有加锁，而且这些变量的类型并非是可见（volatile）的，所以如果多个线程对这些变量进行操作时，可能会有值被覆盖的情况。</p>
<h3 id="2-7：那如何解决ArrayList线程不安全问题呢？"><a href="#2-7：那如何解决ArrayList线程不安全问题呢？" class="headerlink" title="2-7：那如何解决ArrayList线程不安全问题呢？"></a>2-7：那如何解决ArrayList线程不安全问题呢？</h3><ol>
<li>用Collections.synchronizedList<ul>
<li>因为Collections.synchronizedList封装后的list，<br> list的所有操作方法都是带synchronized关键字的，<br> 相当于所有操作都会进行加锁，<br> 所以使用它是线程安全的，但是性能大大降低，<br>SynchronizedCollection(Collection<E> c) {<br>this.c = Objects.requireNonNull(c);<br>mutex = this;<br>}</li>
</ul>
</li>
</ol>
<p>public boolean add(E e) {<br>    synchronized (mutex) {return c.add(e);}<br>}</p>
<ol start="2">
<li>CopyOnWriteArrayList<ul>
<li>写操作：添加元素时，<pre><code>   不直接往当前容器添加，而是先拷贝一份数组，
   在新的数组中添加元素后，
   在将原容器的引用指向新的容器。
   因为数组时用volatile关键字修饰的，
   所以当array重新赋值后，
   其他线程可以立即知道（volatile的可见性）</code></pre>
</li>
<li>读操作：读取数组时，读老的数组，不需要加锁。</li>
<li>读写分离：写操作是copy了一份新的数组进行写，<pre><code>     读操作是读老的数组，所以是读写分离。</code></pre>
采用了Fail-Fast机制，<br>面对并发的修改时，迭代器很快就会完全失败，<br>而不是冒着在将来某个不确定时间发生任意不确定行为的风险<br>嗯嗯嗯不错不错，学习到了再来看看Linkedlist的源码吧</li>
</ul>
</li>
<li>LINKEDLIST<h2 id="3-1：linkedlist数据结构"><a href="#3-1：linkedlist数据结构" class="headerlink" title="3-1：linkedlist数据结构"></a>3-1：linkedlist数据结构</h2></li>
</ol>
<p>LinkedList是List接口的双向链表非同步实现，<br>并允许包括null在内的所有元素。<br>双向链表结构，链表中的每个节点都可以向前或者向后追溯，我们有几个概念如 下：</p>
<p>first 是双向链表的头节点，它的前一个节点是 null。<br>last 是双向链表的尾节点，它的后一个节点是 null；<br>当链表中没有数据时，first 和 last 是同一个节点，前后指向都是 null；<br>因为是个双向链表，只要机器内存足够强大，是没有大小限制的。<br>双向链表节点对应的类Node的实例，<br>Node中包含成员变量：prev，next，item。<br>prev是该节点的上一个节点，<br>next是该节点的下一个节点，<br>item是该节点所包含的值。</p>
<p>/**</p>
<ul>
<li><p>Returns the (non-null) Node at the specified element index.</p>
</li>
<li><p>/<br>Node<E> node(int index) {<br>  // assert isElementIndex(index);</p>
<p>  if (index &lt; (size &gt;&gt; 1)) {<br>// 如果 index 处于队列的前半部分，从头开始找，size &gt;&gt; 1 是 size 除以 2 的意思。</p>
<pre><code>  Node&lt;E&gt; x = first;</code></pre>
<p>// 直到 for 循环到 index 的前一个 node 停止</p>
<pre><code>  for (int i = 0; i &lt; index; i++)
      x = x.next;
  return x;</code></pre>
<p>  } else {<br>// 如果 index 处于队列的后半部分，从尾开始找</p>
<pre><code>  Node&lt;E&gt; x = last;</code></pre>
<p>// 直到 for 循环到 index 的后一个 node 停止</p>
<pre><code>  for (int i = size - 1; i &gt; index; i--)
      x = x.prev;
  return x;</code></pre>
<p>  }<br>}</p>
</li>
</ul>
<p>从源码中我们可以发现， LinkedList 并没有采用从头循环到尾的做法， 而是采取了简单二分 法， 首先看看 index 是在链表的前半部分， 还是后半部分。 如果是前半部分， 就从头开始寻 找，反之亦然。通过这种方式，使循环的次数至少降低了一半，提高了查找的性能，这种思想值 得我们借鉴。</p>
<h2 id="3-1：linkedlist-add"><a href="#3-1：linkedlist-add" class="headerlink" title="3-1：linkedlist  add"></a>3-1：linkedlist  add</h2><p>节点删除的方式和追加类似，我们可以选择从头部删除，也可以选择从尾部删除，删除操作会把 节点的值，前后指向节点都置为 null，帮助 GC 进行回收。<br>追加节点时，我们可以选择追加到链表头部，还是追加到链表尾部，add 方法默认是从尾部开 始追加，addFirst 方法是从头部开始追加，我们分别来看下两种不同的追加方式：<br>void linkLast(E e) {<br>// 把尾节点数据暂存<br>    final Node<E> l = last;<br>// 新建新的节点，初始化入参含义：<br>// l 是新节点的前一个节点，当前值是尾节点值<br>    final Node<E> newNode = new Node&lt;&gt;(l, e, null);<br>    last = newNode;<br>//如果链表为空（l 是尾节点，尾节点为空，链表即空），头部和尾部是同一个节点，都是新建的节<br>    if (l == null)<br>        first = newNode;<br>//否则把前尾节点的下一个节点，指向当前尾节点。<br>    else<br>        l.next = newNode;<br>//大小和版本更改<br>    size++;<br>    modCount++;<br>}<br>从头部追加（addFirst）<br>/**</p>
<ul>
<li>Links e as first element.</li>
<li>/<br>private void linkFirst(E e) {<br>  final Node<E> f = first;<br>  final Node<E> newNode = new Node&lt;&gt;(null, e, f);<br>  first = newNode;<br>  if (f == null)<pre><code>  last = newNode;</code></pre>
  else<pre><code>  f.prev = newNode;</code></pre>
  size++;<br>  modCount++;<br>}</li>
</ul>
<h2 id="3-1：linkedlist"><a href="#3-1：linkedlist" class="headerlink" title="3-1：linkedlist"></a>3-1：linkedlist</h2><p>private E unlinkLast(Node<E> l) {<br>    // assert l == last &amp;&amp; l != null;<br>    final E element = l.item;<br>    final Node<E> prev = l.prev;<br>    l.item = null;<br>    l.prev = null; // help GC<br>    last = prev;<br>    if (prev == null)<br>        first = null;<br>    else<br>        prev.next = null;<br>    size–;<br>    modCount++;<br>    return element;<br>}</p>
<p>private E unlinkFirst(Node<E> f) {<br>    // assert f == first &amp;&amp; f != null;<br>    final E element = f.item;<br>    final Node<E> next = f.next;<br>    f.item = null;<br>    f.next = null; // help GC<br>    first = next;<br>    if (next == null)<br>        last = null;<br>    else<br>        next.prev = null;<br>    size–;<br>    modCount++;<br>    return element;<br>}</p>
<p>List 源码会问哪些面试题<br>   手画一个小心心<br>源码扩容过程有什么值得借鉴的地方？<br>答：有两点：<br>    是扩容的思想值得学习，通过自动扩容的方式，让使用者不用关心底层数据结构的变化，封 装得很好，1.5 倍的扩容速度，可以让扩容速度在前期缓慢上升，在后期增速较快，大部分工作中要求数组的值并不是很大，所以前期增长缓慢有利于节省资源，在后期增速较快时， 也可快速扩容。<br>    扩容过程中，有数组大小溢出的意识，比如要求扩容后的数组大小，不能小于 0，不能大于 Integer 的最大值。</p>
<p>这两点在我们平时设计和写代码时都可以借鉴。</p>
<p>ArrayList 和 LinkedList 两者有没有最大容量</p>
<p>答：ArrayList 有最大容量的，为 Integer 的最大值，大于这个值 JVM 是不会为数组分配内存 空间的，LinkedList 底层是双向链表，理论上可以无限大。但源码中，LinkedList 实际大小用 的是 int 类型，这也说明了 LinkedList 不能超过 Integer 的最大值，不然会溢出。</p>
<h2 id="：vector、Arraylist区别和适用场景"><a href="#：vector、Arraylist区别和适用场景" class="headerlink" title="：vector、Arraylist区别和适用场景"></a>：vector、Arraylist区别和适用场景</h2><ol>
<li><p>线程：Vector是多线程安全的， Vector类中的方法很多有synchronized进行修饰，</p>
<pre><code>  只有当 ArrayList 作为共享变量时，才会有线程安全问题，当 ArrayList 是 方法内的局部变量时，是没有线程安全的问题的。
  ArrayList 有线程安全问题的本质，是因为 ArrayList 自身的 elementData、size、modConut 在进行各种操作时，都没有加锁，而且这些变量的类型并非是可见（volatile）的，所以如果多个线程对这些变量进行操作时，可能会有值被覆盖的情况。
  这样就导致了Vector在效率上无法与ArrayList相比</code></pre>
</li>
<li><p>底层：两个都是数组实现，支持快速随机访问，其 API 都做了一层对数组底层访问的封装</p>
</li>
<li><p>初始化：Vector无参构造器初始化时就生成了容量为10的空数组，ArrayList 无参构造器初始化时，默认大小是空数组，10 是在第一次 add 的时候扩容的数组值。</p>
<pre><code>  Vector可以设置增长因子CapacityIncrement，而ArrayList不可以</code></pre>
</li>
<li><p>扩容机制：<br>Vector在每次add增加元素(可能是1个，也可能是一组)时，都要调用ensureCapacityHelper方法来确保足够的容量，当容量不足以容纳当前的元素个数时，即minCapacity（指的是当前元素数目elementCount + 1） - elementData.length &gt; 0，就会grow(minCapacity)扩容，就看构造方法中传入的容量增长系数CapacityIncrement是否为0，</p>
<pre><code>  如果不为0，就设置新的容量为 旧容量 + 容量增长量；
  如果为0，设置新的容量为旧的容量的2倍，
  如果设置后的容量还不够，则直接新的容量设置为  传入参数所需要的容量 </code></pre>
<p>ArrayList在每次add增加元素(可能是1个，也可能是一组)时，都要调用nsureCapacityInternal方法来确保足够的容量,如果我们期望的最小容量大于目前数组的长度，那么就扩容.</p>
<ol>
<li>ArrayList第一次add元素时，扩容为长度为10的数组。<br>当前数组是由默认构造方法生成的空数组并且第一次添加数据。<br>此时minCapacity等于默认的容量（10）<br>那么根据下面逻辑可以看到最后数组的容量会从0扩容成10。<br>而后的数组扩容才是按照当前容量的1.5倍进行扩容；<br>arraylist、linkedlist区别和适用场景</li>
</ol>
</li>
<li><p>是否保证线程安全： ArrayList在单线程下是线程安全的，</p>
<pre><code>             多线程下由于多个线程不断抢夺资源，
             所以会出现不安全
             和 LinkedList 都是不同步的，也就是不保证线程安全；</code></pre>
</li>
<li><p>底层数据结构： Arraylist 底层使用的是 Object 数组；</p>
<pre><code>          LinkedList 底层使用的是 双向链表 数据结构</code></pre>
</li>
<li><p>插入和删除是否受元素位置的影响：<br>① ArrayList 采用数组存储，所以插入和删除元素的时间复杂度受元素位置的影响。<br>② LinkedList 采用链表存储，插入删除元素时间复杂度不受元素位置的影响，</p>
<pre><code>         如果是要在指定位置i插入和删除元素的话需要先移动到指定位置再插入。</code></pre>
</li>
<li><p>是否支持快速随机访问： LinkedList 不支持高效的随机元素访问，<br>LinkedList 并没有采用从头循环到尾的做法， 而是采取了简单二分 法， 首先看看 index 是在链表的前半部分， 还是后半部分。 如果是前半部分， 就从头开始寻 找，反之亦然。通过这种方式，使循环的次数至少降低了一半，提高了查找的性能，这种思想值 得我们借鉴。</p>
<pre><code>                 而 ArrayList 支持。
                 快速随机访问就是通过
                 元素的序号快速获取元素对象(对应于get(int index) 方法)。</code></pre>
</li>
<li><p>内存空间占用： ArrayList的空间浪费主要体现在在list列表的结尾会预留一定的容量空间，</p>
<pre><code>          而LinkedList的空间花费则体现在
          它的每一个元素都需要消耗比ArrayList更多的空间</code></pre>
<p>双向链表节点对应的类Node的实例，<br>Node中包含成员变量：prev，next，item。<br>prev是该节点的上一个节点，<br>next是该节点的下一个节点，<br>item是该节点所包含的值。</p>
<pre><code>          （因为要存放直接后继和直接前驱以及数据）</code></pre>
<p>当需要对数据进行对此访问的情况下选用ArrayList，<br>当需要对数据进行多次增加删除修改时采用LinkedList。<br>•    ArrayList与LinkedList集合各有所长，可以在不同场合根据具体需求选用:<br>–    ArrayList元素的检索速度高于LinkedList<br>–    LinkedList因为内存的不连续性，更适合于大批量数据的存放和管理<br>–    如果在非末端插入数据，LinkedList速度优于ArrayList</p>
</li>
</ol>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">小丸子</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://github.com/tomorrow813/2020/11/17/ArrayList/">https://github.com/tomorrow813/2020/11/17/ArrayList/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">小丸子</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/11/17/%E9%9B%86%E5%90%88/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/2.jpg" class="responsive-img" alt="集合">
                        
                        <span class="card-title">集合</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-11-17
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            小丸子
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/11/17/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/">
                    <div class="card-image">
                        
                        <img src="https://cdn.jsdelivr.net/gh/Tokisaki-Galaxy/res/site/medias/background.jpg" class="responsive-img" alt="我的第一篇博客">
                        
                        <span class="card-title">我的第一篇博客</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-11-17
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            小丸子
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/java/">
                        <span class="chip bg-color">java</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2019-2020</span>
            
            <span id="year">2019</span>
            <a href="/about" target="_blank">小丸子</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/blinkfox" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1181062873@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1181062873" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
