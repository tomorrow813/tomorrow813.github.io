<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title></title>
      <link href="2021/01/15/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/HTTPS/"/>
      <url>2021/01/15/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/HTTPS/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="2021/01/11/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
      <url>2021/01/11/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>hi.md</title>
      <link href="2021/01/07/hi-md/"/>
      <url>2021/01/07/hi-md/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public ListNode partition(ListNode head, int x) &#123;        ListNode l1 &#x3D; new ListNode(-1);        ListNode l2 &#x3D; new ListNode(-1);        ListNode cur &#x3D; head;        ListNode small &#x3D; l1;        ListNode large &#x3D; l2;        while(cur!&#x3D;null)&#123;            if(cur.val&lt;x)&#123;                small.next &#x3D;cur;                small &#x3D; small.next;            &#125;else&#123;                large.next &#x3D; cur;                large &#x3D; large.next;            &#125;            cur &#x3D; cur.next;        &#125;        large.next &#x3D; null;        small.next &#x3D; l2.next;        return l1.next;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ä¸é“¾è¡¨çš„åˆç›¸è¯†ğŸ’—</title>
      <link href="2021/01/06/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E9%93%BE%E8%A1%A8/"/>
      <url>2021/01/06/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E9%93%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<font color = 'gold' size = 5 align = 'center'><p>  å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦   </p><p>å®éªŒå®¤çš„å°ä¼™ä¼´ä¸€ç›´åœ¨å®éªŒå®¤æ‰“ç”µè¯<br>å“ ç”Ÿæ´»ä¸æ˜“ çŒªçŒªå¹æ°”  </p><p>æ—¢ç„¶ä¸èƒ½ä¸“å¿ƒåˆ·é¢˜ï¼Œ  </p><p>é‚£å°±æ¥å’Œé“¾è¡¨è¿™ä¸²ä¸²ğŸšªï¼Œå·©å›ºå·©å›ºå‹æƒ…æŠŠ </p><p>ï½ï½ï½<br></font >  </p><hr><font color = 'pink' size = 3> <p>ğŸ‘‡ å…ˆæ¥ä¸€é“ç®€å•çš„   </p><p>è°ƒæ•´è°ƒæ•´å¿ƒæ€  </p></font>ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸<h2 id="å“‘èŠ‚ç‚¹"><a href="#å“‘èŠ‚ç‚¹" class="headerlink" title="å“‘èŠ‚ç‚¹"></a>å“‘èŠ‚ç‚¹</h2><h3 id="203-ç§»é™¤é“¾è¡¨å…ƒç´ "><a href="#203-ç§»é™¤é“¾è¡¨å…ƒç´ " class="headerlink" title="203. ç§»é™¤é“¾è¡¨å…ƒç´ "></a>203. ç§»é™¤é“¾è¡¨å…ƒç´ </h3><p>åˆ é™¤é“¾è¡¨ä¸­ç­‰äºç»™å®šå€¼ val çš„<strong>æ‰€æœ‰èŠ‚ç‚¹</strong>ã€‚<br>ç¤ºä¾‹:<br>è¾“å…¥: 1-&gt;2-&gt;6-&gt;3-&gt;4-&gt;5-&gt;6, val = 6<br>è¾“å‡º: 1-&gt;2-&gt;3-&gt;4-&gt;5<br><code>è¿™é“é¢˜å¤ªç®€å•äº†å°±å¼„ä¸ªå“‘èŠ‚ç‚¹  ç„¶åéå†é“¾è¡¨  åªè¦é‡åˆ°ç›¸åŒçš„å°±æŠŠå½“å‰å…ƒç´ çš„preæŒ‡å‘curçš„nextå³å¯.å“¨å…µèŠ‚ç‚¹å¹¿æ³›åº”ç”¨äºæ ‘å’Œé“¾è¡¨ä¸­ï¼Œå¦‚ä¼ªå¤´ã€ä¼ªå°¾ã€æ ‡è®°ç­‰ï¼Œå®ƒä»¬æ˜¯çº¯åŠŸèƒ½çš„ï¼Œé€šå¸¸ä¸ä¿å­˜ä»»ä½•æ•°æ®ï¼Œå…¶ä¸»è¦ç›®çš„æ˜¯ä½¿é“¾è¡¨æ ‡å‡†åŒ–ï¼Œå¦‚ä½¿é“¾è¡¨æ°¸ä¸ä¸ºç©ºã€æ°¸ä¸æ— å¤´ã€ç®€åŒ–æ’å…¥å’Œåˆ é™¤ã€‚</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public ListNode removeElements(ListNode head, int val) &#123;        ListNode dummy &#x3D; new ListNode(-1);        dummy.next &#x3D; head;        ListNode cur &#x3D; head,pre &#x3D; dummy;        while(cur!&#x3D;null)&#123;            if(cur.val!&#x3D;val)&#123;                pre &#x3D; cur ;            &#125;else&#123;                pre.next &#x3D; cur.next ;            &#125;            cur &#x3D; cur.next;        &#125;        return dummy.next;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‰‘æŒ‡-Offer-18-åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹"><a href="#å‰‘æŒ‡-Offer-18-åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹" class="headerlink" title="å‰‘æŒ‡ Offer 18. åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹"></a>å‰‘æŒ‡ Offer 18. åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹</h2><p>ç»™å®šå•å‘é“¾è¡¨çš„å¤´æŒ‡é’ˆå’Œä¸€ä¸ªè¦åˆ é™¤çš„èŠ‚ç‚¹çš„å€¼ï¼Œå®šä¹‰ä¸€ä¸ªå‡½æ•°åˆ é™¤è¯¥èŠ‚ç‚¹ã€‚<br>è¿”å›åˆ é™¤åçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚<br>æ³¨æ„ï¼šæ­¤é¢˜å¯¹æ¯”åŸé¢˜æœ‰æ”¹åŠ¨<br>è¾“å…¥: head = [4,5,1,9], val = 5<br>è¾“å‡º: [4,1,9]<br>è§£é‡Š: ç»™å®šä½ é“¾è¡¨ä¸­å€¼ä¸º 5 çš„ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨äº†ä½ çš„å‡½æ•°ä¹‹åï¼Œè¯¥é“¾è¡¨åº”å˜ä¸º 4 -&gt; 1 -&gt; 9.</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public ListNode deleteNode(ListNode head, int val) &#123;    ListNode dummy &#x3D; new ListNode(-1);    dummy.next &#x3D; head;    ListNode pre &#x3D; dummy,cur&#x3D; head;    while(cur !&#x3D;null &amp;&amp;cur.val!&#x3D;val)&#123;        pre&#x3D; cur;        cur&#x3D; cur.next;    &#125;    if(cur&#x3D;&#x3D;null) return head;    pre.next&#x3D;cur.next;    return dummy.next;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="237-åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹"><a href="#237-åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹" class="headerlink" title="237. åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹"></a>237. åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹</h3><p>è¯·ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œä½¿å…¶å¯ä»¥åˆ é™¤æŸä¸ªé“¾è¡¨ä¸­ç»™å®šçš„ï¼ˆéæœ«å°¾ï¼‰èŠ‚ç‚¹ã€‚ä¼ å…¥å‡½æ•°çš„å”¯ä¸€å‚æ•°ä¸º è¦è¢«åˆ é™¤çš„èŠ‚ç‚¹<br>ç°æœ‰ä¸€ä¸ªé“¾è¡¨ â€“ head = [4,5,1,9]ï¼Œå®ƒå¯ä»¥è¡¨ç¤ºä¸º:<br><img src=https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2019/01/19/237_example.png  /><br>è¾“å…¥ï¼šhead = [4,5,1,9], node = 5<br>è¾“å‡ºï¼š[4,1,9]<br>è§£é‡Šï¼šç»™å®šä½ é“¾è¡¨ä¸­å€¼ä¸º 5 çš„ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨äº†ä½ çš„å‡½æ•°ä¹‹åï¼Œè¯¥é“¾è¡¨åº”å˜ä¸º 4 -&gt; 1 -&gt; 9.</p><p><code>ä¸ºäº†åˆ©ç”¨node.next=node.next.next;  </code><br><code>å°±æŠŠnode.nextèŠ‚ç‚¹æ›¿æ¢nodeçš„val</code><br><code>åˆ é™¤çš„å…¶å®æ˜¯node.nextèŠ‚ç‚¹</code><br><img src=https://pic.leetcode-cn.com/ec23cc1b03e264cf28c84133699326b6f8f2479c0acfaa1d56efee876c43bb1f-image.png  /></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public void deleteNode(ListNode node) &#123;    node.val &#x3D;node.next.val;    node.next&#x3D;node.next.next;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><hr><p>ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸</p><h3 id="2-ä¸¤æ•°ç›¸åŠ "><a href="#2-ä¸¤æ•°ç›¸åŠ " class="headerlink" title="2. ä¸¤æ•°ç›¸åŠ "></a>2. ä¸¤æ•°ç›¸åŠ </h3><p>ç»™ä½ ä¸¤ä¸ª éç©º çš„é“¾è¡¨ï¼Œè¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å®ƒä»¬æ¯ä½æ•°å­—éƒ½æ˜¯æŒ‰ç…§ é€†åº çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ ä¸€ä½ æ•°å­—ã€‚<br>è¯·ä½ å°†ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œå¹¶ä»¥ç›¸åŒå½¢å¼è¿”å›ä¸€ä¸ªè¡¨ç¤ºå’Œçš„é“¾è¡¨ã€‚<br>ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚<br>è¾“å…¥ï¼šl1 = [2,4,3], l2 = [5,6,4]<br>è¾“å‡ºï¼š[7,0,8]<br>è§£é‡Šï¼š342 + 465 = 807.</p><p><code>å°†ä¸¤ä¸ªé“¾è¡¨çœ‹æˆæ˜¯ç›¸åŒé•¿åº¦çš„è¿›è¡Œéå†ï¼Œå¦‚æœä¸€ä¸ªé“¾è¡¨è¾ƒçŸ­åˆ™åœ¨å‰é¢è¡¥ 00ï¼Œæ¯”å¦‚ 987 + 23 = 987 + 023 = 1010 æ¯ä¸€ä½è®¡ç®—çš„åŒæ—¶éœ€è¦è€ƒè™‘ä¸Šä¸€ä½çš„è¿›ä½é—®é¢˜ï¼Œè€Œå½“å‰ä½è®¡ç®—ç»“æŸååŒæ ·éœ€è¦æ›´æ–°è¿›ä½å€¼</code><br><code>å¦‚æœä¸¤ä¸ªé“¾è¡¨å…¨éƒ¨éå†å®Œæ¯•åï¼Œè¿›ä½å€¼ä¸º 1ï¼Œåˆ™åœ¨æ–°é“¾è¡¨æœ€å‰æ–¹æ·»åŠ èŠ‚ç‚¹ 1</code><br><code>**å°æŠ€å·§**ï¼šå¯¹äºé“¾è¡¨é—®é¢˜ï¼Œè¿”å›ç»“æœä¸ºå¤´ç»“ç‚¹æ—¶ï¼Œé€šå¸¸éœ€è¦å…ˆåˆå§‹åŒ–ä¸€ä¸ªé¢„å…ˆæŒ‡é’ˆ preï¼Œè¯¥æŒ‡é’ˆçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘çœŸæ­£çš„å¤´ç»“ç‚¹headã€‚ä½¿ç”¨é¢„å…ˆæŒ‡é’ˆçš„ç›®çš„åœ¨äºé“¾è¡¨åˆå§‹åŒ–æ—¶æ— å¯ç”¨èŠ‚ç‚¹å€¼ï¼Œè€Œä¸”é“¾è¡¨æ„é€ è¿‡ç¨‹éœ€è¦æŒ‡é’ˆç§»åŠ¨ï¼Œè¿›è€Œä¼šå¯¼è‡´å¤´æŒ‡é’ˆä¸¢å¤±ï¼Œæ— æ³•è¿”å›ç»“æœ</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public ListNode addTwoNumbers(ListNode head1, ListNode head2) &#123;        ListNode nummy &#x3D; new ListNode(0);        ListNode cur &#x3D; nummy,l1&#x3D;head1,l2&#x3D;head2;        int carry &#x3D; 0 ;        while(l1!&#x3D;null||l2!&#x3D;null)&#123;            int num1 &#x3D; l1!&#x3D;null?l1.val:0;            int num2 &#x3D; l2!&#x3D;null?l2.val:0;            int sum &#x3D; num1+num2+carry;            carry&#x3D;sum&#x2F;10;            cur.next&#x3D;new ListNode(sum%10);            cur&#x3D;cur.next;            if(l1!&#x3D;null) l1&#x3D;l1.next;            if(l2!&#x3D;null) l2&#x3D;l2.next;        &#125;        if(carry&gt;0)  cur.next &#x3D; new ListNode(carry);        return nummy.next;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="21-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"><a href="#21-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨" class="headerlink" title="21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"></a>21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</h3><p>å°†ä¸¤ä¸ªå‡åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„ å‡åº é“¾è¡¨å¹¶è¿”å›ã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚ </p><p>ç¤ºä¾‹ï¼š<br>è¾“å…¥ï¼š1-&gt;2-&gt;4, 1-&gt;3-&gt;4<br>è¾“å‡ºï¼š1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public ListNode mergeTwoLists(ListNode l1, ListNode l2) &#123;        if(l1&#x3D;&#x3D;null) return l2;        if(l2&#x3D;&#x3D;null) return l1;        ListNode nummy &#x3D; new ListNode(-1);        ListNode p &#x3D; nummy;&#x2F;&#x2F;å› ä¸ºNummyæ˜¯äºšèŠ‚ç‚¹ å›ºå®šçš„ï¼Œå¼„ä¸€ä¸ªæ¸¸æ ‡        while(l1!&#x3D;null&amp;&amp;l2!&#x3D;null)&#123;            if(l1.val&lt;&#x3D;l2.val)&#123;                p.next&#x3D;l1;                l1&#x3D;l1.next;            &#125;else&#123;                p.next&#x3D;l2;                l2&#x3D;l2.next;            &#125;            p&#x3D;p.next;        &#125;        p.next&#x3D;(l1&#x3D;&#x3D;null)?l2:l1;        return nummy.next;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><p>ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸</p><hr><font color = 'pink' size = 3> <p>ğŸ‘‡ å°çš„ä¸²ä¸€ä¸²ï¼Œå¤§çš„ä¸²ä¸€ä¸²ï¼Œæœ€åä¸¤ä¸²è¿ä¸€ä¸²â€¦â€¦</p></font>---<p>ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸</p><h3 id="86-åˆ†éš”é“¾è¡¨-ä¸‹ä¸€é“é¢˜å˜å½¢é¢˜"><a href="#86-åˆ†éš”é“¾è¡¨-ä¸‹ä¸€é“é¢˜å˜å½¢é¢˜" class="headerlink" title="86. åˆ†éš”é“¾è¡¨(ä¸‹ä¸€é“é¢˜å˜å½¢é¢˜)"></a>86. åˆ†éš”é“¾è¡¨(ä¸‹ä¸€é“é¢˜å˜å½¢é¢˜)</h3><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨å’Œä¸€ä¸ªç‰¹å®šå€¼ x ï¼Œè¯·ä½ å¯¹é“¾è¡¨è¿›è¡Œåˆ†éš”ï¼Œä½¿å¾—æ‰€æœ‰å°äº x çš„èŠ‚ç‚¹éƒ½å‡ºç°åœ¨å¤§äºæˆ–ç­‰äº x çš„èŠ‚ç‚¹ä¹‹å‰ã€‚<br><strong>ä½ åº”å½“ä¿ç•™ä¸¤ä¸ªåˆ†åŒºä¸­æ¯ä¸ªèŠ‚ç‚¹çš„åˆå§‹ç›¸å¯¹ä½ç½®ã€‚</strong><br>è¾“å…¥ï¼šhead = 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;2, x = 3<br>è¾“å‡ºï¼š1-&gt;2-&gt;2-&gt;4-&gt;3-&gt;5<br><code>éå†ç»“æŸåï¼Œæˆ‘ä»¬å°†largeçš„next æŒ‡é’ˆç½®ç©ºï¼Œ</code><br><code>è¿™æ˜¯å› ä¸ºå½“å‰èŠ‚ç‚¹å¤ç”¨çš„æ˜¯åŸé“¾è¡¨çš„èŠ‚ç‚¹ï¼Œè€Œå…¶next æŒ‡é’ˆå¯èƒ½æŒ‡å‘ä¸€ä¸ªå°äº x çš„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦åˆ‡æ–­è¿™ä¸ªå¼•ç”¨</code><br><font color = 'MediumSlateBlue' size = 3><br>largeæœ€åæ˜¯åˆå¹¶é“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œæœ€åä¸€ä¸ªå…ƒç´ çš„nextæŒ‡å‘null<br>å¦‚æœæœ€åä¸€ä¸ªlargeåˆšå¥½æŒ‡å‘ä¸€ä¸ªsmallçš„èŠ‚ç‚¹ï¼Œå°±ä¼šæœ‰ç¯äº†<br></font></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public ListNode partition(ListNode head, int x) &#123;        ListNode l1 &#x3D; new ListNode(-1);        ListNode l2 &#x3D; new ListNode(-1);        ListNode cur &#x3D; head;        ListNode small &#x3D; l1;        ListNode large &#x3D; l2;        while(cur!&#x3D;null)&#123;            if(cur.val&lt;x)&#123;                small.next &#x3D;cur;                small &#x3D; small.next;            &#125;else&#123;                large.next &#x3D; cur;                large &#x3D; large.next;            &#125;            cur &#x3D; cur.next;        &#125;        large.next &#x3D; null;        small.next &#x3D; l2.next;        return l1.next;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h2 id="åŒæŒ‡é’ˆ"><a href="#åŒæŒ‡é’ˆ" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h2><p>ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸<br><strong>å˜Ÿå˜Ÿå˜Ÿå˜Ÿå˜Ÿå˜Ÿï¼Œè¿˜æœ‰å’Œä»–ç›¸ä¼¼çš„ä¸€é“é¢˜</strong></p><hr><h3 id="é¢è¯•é¢˜-02-04-åˆ†å‰²é“¾è¡¨ï¼ˆç±»ä¼¼ä¸‹ä¸€é“ï¼‰"><a href="#é¢è¯•é¢˜-02-04-åˆ†å‰²é“¾è¡¨ï¼ˆç±»ä¼¼ä¸‹ä¸€é“ï¼‰" class="headerlink" title="é¢è¯•é¢˜ 02.04. åˆ†å‰²é“¾è¡¨ï¼ˆç±»ä¼¼ä¸‹ä¸€é“ï¼‰"></a>é¢è¯•é¢˜ 02.04. åˆ†å‰²é“¾è¡¨ï¼ˆç±»ä¼¼ä¸‹ä¸€é“ï¼‰</h3><p>ç¼–å†™ç¨‹åºä»¥ x ä¸ºåŸºå‡†åˆ†å‰²é“¾è¡¨ï¼Œä½¿å¾—æ‰€æœ‰å°äº x çš„èŠ‚ç‚¹æ’åœ¨å¤§äºæˆ–ç­‰äº x çš„èŠ‚ç‚¹ä¹‹å‰ã€‚å¦‚æœé“¾è¡¨ä¸­åŒ…å« xï¼Œx åªéœ€å‡ºç°åœ¨å°äº x çš„å…ƒç´ ä¹‹å(å¦‚ä¸‹æ‰€ç¤º)ã€‚åˆ†å‰²å…ƒç´  x åªéœ€å¤„äºâ€œå³åŠéƒ¨åˆ†â€å³å¯ï¼Œå…¶ä¸éœ€è¦è¢«ç½®äºå·¦å³ä¸¤éƒ¨åˆ†ä¹‹é—´ã€‚<br><code>é¢˜ç›®è¦æ±‚æ˜¯åªè¦æŠŠå°äºxçš„æ•°ç§»åŠ¨åˆ°æ‰€æœ‰xçš„å·¦æ–¹å°±è¡Œ,æ²¡æœ‰é¡ºåºè¦æ±‚ï¼Œè€Œä¸”ç­‰äºx,å¤§äºxè¿™äº›å…ƒç´ æ²¡æœ‰è¦æ±‚ï¼</code></p><p><strong>æ‰€ä»¥è¿ç”¨åŒæŒ‡é’ˆ</strong>,<br>    <code>ç¬¬ä¸€ä¸ªæŒ‡é’ˆè½åœ¨ä¸å°äºxçš„èŠ‚ç‚¹ä¸Š,ç¬¬äºŒä¸ªå‘å‰ç§»åŠ¨ã€‚å¦‚æœç¬¬äºŒä¸ªæŒ‡é’ˆé‡åˆ°å°äºxçš„èŠ‚ç‚¹,äº¤æ¢äºŒè€…çš„å€¼,ç„¶åç¬¬ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘nextã€‚ç¬¬äºŒä¸ªæŒ‡é’ˆè‚¯å®šèµ°å¾—æ›´å¿«,æ‰€ä»¥ç¬¬ä¸€ä¸ªæŒ‡é’ˆä¸€ç›´å¤„äºä¸å°äºxçš„èŠ‚ç‚¹çš„ä½ç½®ï¼Œæˆ–è€…å°±æ˜¯ä¸¤ä¸ªæŒ‡é’ˆé‡å ,è¿™æ—¶å€™è¿˜æ˜¯ç¤¼è²Œæ€§åœ°äº¤æ¢ä¸€ä¸‹ç½¢äº†ã€‚</code></p><p> // [1, 4, 3, 2, 5, 2]. prev = 1, cur = 1<br> // [1, 4, 3, 2, 5, 2]. prev = 1, cur = 1 å°äº,äº¤æ¢äºŒè€…,æ²¡æœ‰å˜åŒ–<br> // [1, 4, 3, 2, 5, 2]. prev = 4, cur = 4 ç»§ç»­å¾€ånext<br> // [1, 4, 3, 2, 5, 2]. prev = 4, cur = 3 æ— åºäº¤æ¢, åªä¿®æ”¹curæŒ‡é’ˆ<br> // [1, 4, 3, 2, 5, 2]. prev = 4, cur = 2 åŒä¸Š<br> // [1, 2, 3, 4, 5, 2]. prev = 2, cur = 4 2 &lt; 3,äº¤æ¢äºŒè€…<br> // [1, 2, 3, 4, 5, 2]. prev = 3, cur = 5 äºŒè€…åŒæ—¶å¾€ånext<br> // [1, 2, 3, 4, 5, 2]. prev = 3, cur = 2<br> // [1, 2, 2, 4, 5, 3] over</p><p>`</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public ListNode partition(ListNode head, int x) &#123;        ListNode cur &#x3D; head, prev &#x3D; head;        while (cur !&#x3D; null) &#123;            if (cur.val &lt; x) &#123;                int tmp &#x3D; prev.val;                prev.val &#x3D; cur.val;                cur.val &#x3D; tmp;                prev &#x3D; prev.next;            &#125;            cur &#x3D; cur.next;        &#125;        return head;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><font color = 'MediumSlateBlue' size = 3> å…¶å®æœ‰æ²¡æœ‰æ„Ÿè§‰è¿™ä¸¤é“é¢˜æ€è·¯æŒºç›¸åƒçš„ï¼Œéƒ½æ˜¯åŒæŒ‡é’ˆç„¶åç”¨ä¸€ä¸ªæŒ‡é’ˆè¡¨ç¤ºå°äºçš„æ•°æˆ–è€…å¥‡æ•°çš„ä½ç½®ï¼Œå½“æ»¡è¶³æ¡ä»¶æ˜¯åšå¤„ç†ç„¶åç§»åŠ¨è¯¥æŒ‡é’ˆå’Œéå†çš„æŒ‡é’ˆï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶ä»…ä»…åªæ˜¯ç§»åŠ¨éå†çš„æŒ‡é’ˆï¼›</font><h3 id="å‰‘æŒ‡-Offer-21-è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢"><a href="#å‰‘æŒ‡-Offer-21-è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢" class="headerlink" title="å‰‘æŒ‡ Offer 21. è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢"></a>å‰‘æŒ‡ Offer 21. è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢</h3><pre class="line-numbers language-none"><code class="language-none">class Solution &#123;    public int[] exchange(int[] nums) &#123;        int i &#x3D; 0 ;         for(int j &#x3D; 0 ; j &lt; nums.length;j++)&#123;             if(nums[j]%2!&#x3D;0)&#123;                 int tmp &#x3D; nums[j];                 nums[j]&#x3D;nums[i];                 nums[i]&#x3D;tmp;                 i++;             &#125;         &#125;         return nums;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><p>ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸ğŸ·ï¸</p><h3 id="å‰‘æŒ‡-Offer-24-åè½¬é“¾è¡¨"><a href="#å‰‘æŒ‡-Offer-24-åè½¬é“¾è¡¨" class="headerlink" title="å‰‘æŒ‡ Offer 24. åè½¬é“¾è¡¨"></a>å‰‘æŒ‡ Offer 24. åè½¬é“¾è¡¨</h3><p>å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œåè½¬è¯¥é“¾è¡¨å¹¶è¾“å‡ºåè½¬åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚<br>è¾“å…¥: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL<br>è¾“å‡º: 5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public ListNode reverseList(ListNode head) &#123;        if(head&#x3D;&#x3D;null) return null;        ListNode pre&#x3D; null;        ListNode cur &#x3D; head;        while(cur!&#x3D;null)&#123;            ListNode tmp &#x3D; cur.next;            cur.next &#x3D; pre ;            pre &#x3D; cur;            cur &#x3D; tmp;        &#125;        return pre ;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="234-å›æ–‡é“¾è¡¨ï¼ˆé¢è¯•é¢˜-02-06-å›æ–‡é“¾è¡¨-ï¼‰"><a href="#234-å›æ–‡é“¾è¡¨ï¼ˆé¢è¯•é¢˜-02-06-å›æ–‡é“¾è¡¨-ï¼‰" class="headerlink" title="234. å›æ–‡é“¾è¡¨ï¼ˆé¢è¯•é¢˜ 02.06    å›æ–‡é“¾è¡¨  ï¼‰"></a>234. å›æ–‡é“¾è¡¨ï¼ˆé¢è¯•é¢˜ 02.06    å›æ–‡é“¾è¡¨  ï¼‰</h3><p>è¯·åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚<br>è¾“å…¥: 1-&gt;2<br>è¾“å‡º: false<br>è¾“å…¥: 1-&gt;2-&gt;2-&gt;1<br>è¾“å‡º: true<br><code>æ•´ä¸ªæµç¨‹å¯ä»¥åˆ†ä¸ºä»¥ä¸‹äº”ä¸ªæ­¥éª¤</code>ï¼š<br><code>æ‰¾åˆ°å‰åŠéƒ¨åˆ†é“¾è¡¨çš„å°¾èŠ‚ç‚¹ã€‚</code><br><code>åè½¬ååŠéƒ¨åˆ†é“¾è¡¨ã€‚</code><br><code>åˆ¤æ–­æ˜¯å¦å›æ–‡ã€‚</code><br><code>æ¢å¤é“¾è¡¨</code>ã€‚<br><code>è¿”å›ç»“æœã€‚</code></p><p><code>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆåœ¨ä¸€æ¬¡éå†ä¸­æ‰¾åˆ°ï¼šæ…¢æŒ‡é’ˆä¸€æ¬¡èµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆä¸€æ¬¡èµ°ä¸¤æ­¥ï¼Œå¿«æ…¢æŒ‡é’ˆåŒæ—¶å‡ºå‘ã€‚å½“å¿«æŒ‡é’ˆç§»åŠ¨åˆ°é“¾è¡¨çš„æœ«å°¾æ—¶ï¼Œæ…¢æŒ‡é’ˆæ°å¥½åˆ°é“¾è¡¨çš„ä¸­é—´ã€‚é€šè¿‡æ…¢æŒ‡é’ˆå°†é“¾è¡¨åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚</code></p><p><code>è‹¥é“¾è¡¨æœ‰å¥‡æ•°ä¸ªèŠ‚ç‚¹ï¼Œåˆ™ä¸­é—´çš„èŠ‚ç‚¹åº”è¯¥çœ‹ä½œæ˜¯å‰åŠéƒ¨åˆ†ã€‚</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public boolean isPalindrome(ListNode head) &#123;        if(head&#x3D;&#x3D;null||head.next&#x3D;&#x3D;null) return true;       &#x2F;&#x2F;æ‰¾åˆ°ç¬¬ä¸€ä¸ªé“¾è¡¨çš„æœ«å°¾èŠ‚ç‚¹        ListNode last&#x3D;findMid(head);       &#x2F;&#x2F;åè½¬ç¬¬äºŒä¸ªé“¾è¡¨,startæ˜¯ç¬¬äºŒä¸ªé“¾è¡¨çš„é¦–èŠ‚ç‚¹        ListNode start&#x3D;reverse(last.next);        ListNode l1 &#x3D; head;        ListNode l2 &#x3D; start;        boolean ans &#x3D; true;        while(ans&amp;&amp;l2!&#x3D;null)&#123;            if(l1.val!&#x3D;l2.val) ans &#x3D; false;            l1&#x3D;l1.next;            l2&#x3D;l2.next;        &#125;        &#x2F;&#x2F;å›å¤é“¾è¡¨        last.next &#x3D; reverse(start);        return ans;    &#125;    &#x2F;&#x2F;å¿«æ…¢æŒ‡é’ˆ    &#x2F;&#x2F;å¦‚æœæ˜¯å¥‡æ•°çš„è¯æ­£å¥½æ˜¯ä¸­é—´çš„èŠ‚ç‚¹    &#x2F;&#x2F;å¦‚æœæ˜¯å¶æ•°çš„è¯-å·¦ä¸­ä½æ•° æ¯”å¦‚1234 è¿”å›2    public ListNode findMid(ListNode head)&#123;        ListNode slow &#x3D; head;        ListNode fast &#x3D; head;        while(fast.next!&#x3D;null&amp;&amp;fast.next.next!&#x3D;null)&#123;            slow &#x3D; slow.next;            fast &#x3D; fast.next.next;        &#125;        return slow;    &#125;    &#x2F;&#x2F;åè½¬é“¾è¡¨ è¿”å›é¦–èŠ‚ç‚¹    public ListNode reverse(ListNode head)&#123;        ListNode cur &#x3D; head,pre &#x3D; null;        while(cur!&#x3D;null)&#123;            ListNode next &#x3D; cur.next;            cur.next &#x3D; pre;            pre &#x3D; cur;            cur &#x3D; next;        &#125;        return pre;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¿«æ…¢æŒ‡é’ˆ"><a href="#å¿«æ…¢æŒ‡é’ˆ" class="headerlink" title="å¿«æ…¢æŒ‡é’ˆ"></a>å¿«æ…¢æŒ‡é’ˆ</h2><hr><p><code>ä¸‹é¢ä¸¤é“é¢˜å‚è€ƒå¤§ä½¬çš„å›¾è§£å¾ˆæ˜ç™½ </code><br><code>https://leetcode-cn.com/problems/linked-list-cycle-ii/solution/142-huan-xing-lian-biao-ii-by-ac_fun-zshd/</code><br>ğŸ’—ğŸ’—ğŸ’—ğŸ’—ğŸ’—ğŸ’—ğŸ’—ğŸ’—</p><h3 id="141-ç¯å½¢é“¾è¡¨"><a href="#141-ç¯å½¢é“¾è¡¨" class="headerlink" title="141. ç¯å½¢é“¾è¡¨"></a>141. ç¯å½¢é“¾è¡¨</h3><p>ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚</p><p><code>ç»å…¸è§£æ³•å°±æ˜¯ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªè·‘å¾—å¿«ï¼Œä¸€ä¸ªè·‘å¾—æ…¢ã€‚å¦‚æœä¸å«æœ‰ç¯ï¼Œè·‘å¾—å¿«çš„é‚£ä¸ªæŒ‡é’ˆæœ€ç»ˆä¼šé‡åˆ° nullï¼Œè¯´æ˜é“¾è¡¨ä¸å«ç¯ï¼›å¦‚æœå«æœ‰ç¯ï¼Œå¿«æŒ‡é’ˆæœ€ç»ˆä¼šè¶…æ…¢æŒ‡é’ˆä¸€åœˆï¼Œå’Œæ…¢æŒ‡é’ˆç›¸é‡ï¼Œè¯´æ˜é“¾è¡¨å«æœ‰ç¯ã€‚</code><br><code>å› ä¸ºå¿«æŒ‡é’ˆç§»åŠ¨é€Ÿåº¦æ˜¯æ…¢æŒ‡é’ˆçš„2å€ï¼Œé‚£ä¹ˆå½“é“¾è¡¨ä¸­æœ‰ç¯æ—¶ï¼Œåˆ™å¿«æŒ‡é’ˆä¼šåœ¨ç¯ä¸­ä¸æ…¢æŒ‡é’ˆç›¸é‡ã€‚</code><br><code>ç¬¬ä¸€æ¬¡ç›¸é‡æ—¶ï¼Œå‡è®¾æ…¢æŒ‡é’ˆ slow èµ°äº† k æ­¥ï¼Œé‚£ä¹ˆå¿«æŒ‡é’ˆ fast ä¸€å®šèµ°äº† 2k æ­¥ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯” slow å¤šèµ°äº† k æ­¥ï¼ˆä¹Ÿå°±æ˜¯ç¯çš„é•¿åº¦ï¼‰</code><br><img src =https://pic.leetcode-cn.com/1609224521-roALTq-image.png /></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public boolean hasCycle(ListNode head) &#123;        ListNode slow &#x3D; head,fast &#x3D; head;        while(fast!&#x3D;null&amp;&amp;fast.next!&#x3D;null)&#123;            slow&#x3D;slow.next;            fast&#x3D;fast.next.next;            if(slow&#x3D;&#x3D;fast) return true;        &#125;        return false;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="142-ç¯å½¢é“¾è¡¨-II"><a href="#142-ç¯å½¢é“¾è¡¨-II" class="headerlink" title="142. ç¯å½¢é“¾è¡¨ II"></a>142. ç¯å½¢é“¾è¡¨ II</h3><p>ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› nullã€‚</p><img src=https://pic.leetcode-cn.com/1609224575-xrjBjO-image.png /><pre class="line-numbers language-java" data-language="java"><code class="language-java">public ListNode detectCycle(ListNode head) &#123;        ListNode slow &#x3D; head,fast &#x3D; head;        while(fast!&#x3D;null&amp;&amp;fast.next!&#x3D;null)&#123;            fast&#x3D;fast.next.next;            slow&#x3D;slow.next;            if(fast&#x3D;&#x3D;slow) break;        &#125;        if(fast&#x3D;&#x3D;null||fast.next&#x3D;&#x3D;null) return null;        fast &#x3D; head;        while(fast!&#x3D;slow)&#123;            fast&#x3D;fast.next;            slow&#x3D;slow.next;        &#125;        return fast;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="å‰‘æŒ‡-Offer-52-ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹"><a href="#å‰‘æŒ‡-Offer-52-ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹" class="headerlink" title="å‰‘æŒ‡ Offer 52. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹"></a>å‰‘æŒ‡ Offer 52. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹</h3><p>ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾åˆ°ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„èµ·å§‹èŠ‚ç‚¹ã€‚</p><p><code>pAèµ°è¿‡çš„è·¯å¾„ä¸ºAé“¾+Bé“¾,pBèµ°è¿‡çš„è·¯å¾„ä¸ºBé“¾+Aé“¾</code><br><code>pAå’ŒpBèµ°è¿‡çš„é•¿åº¦éƒ½ç›¸åŒï¼Œéƒ½æ˜¯Aé“¾å’ŒBé“¾çš„é•¿åº¦ä¹‹å’Œï¼Œ</code><br><code>ç›¸å½“äºå°†ä¸¤æ¡é“¾ä»å°¾ç«¯å¯¹é½ï¼Œ</code><br><code>å¦‚æœç›¸äº¤ï¼Œåˆ™ä¼šæå‰åœ¨ç›¸äº¤ç‚¹ç›¸é‡ï¼Œå¦‚æœæ²¡æœ‰ç›¸äº¤ç‚¹ï¼Œ</code><br><code>åˆ™ä¼šåœ¨æœ€åç›¸é‡</code></p><p><img src="1.png"></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public class Solution &#123;    public ListNode getIntersectionNode(ListNode headA, ListNode headB) &#123;        &#x2F;&#x2F;ä¸¤ä¸ªé“¾è¡¨ç›¸äº¤ï¼Œç›¸äº¤åçš„é•¿åº¦æ˜¯ç›¸åŒçš„ã€‚æ­¤æ—¶éœ€è¦æ¶ˆé™¤é“¾è¡¨çš„é•¿åº¦å·®        if(headA&#x3D;&#x3D;null||headB&#x3D;&#x3D;null) return null;        ListNode ha&#x3D;headA,hb&#x3D;headB;        while(ha!&#x3D;hb)&#123;            ha&#x3D;(ha&#x3D;&#x3D;null)?headB:ha.next;            hb&#x3D;(hb&#x3D;&#x3D;null)?headA:hb.next;        &#125;        return ha;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å‰‘æŒ‡-Offer-22-é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹"><a href="#å‰‘æŒ‡-Offer-22-é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹" class="headerlink" title="å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹"></a>å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹</h3><p>è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œè¾“å‡ºè¯¥é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ã€‚ä¸ºäº†ç¬¦åˆå¤§å¤šæ•°äººçš„ä¹ æƒ¯ï¼Œæœ¬é¢˜ä»1å¼€å§‹è®¡æ•°ï¼Œå³é“¾è¡¨çš„å°¾èŠ‚ç‚¹æ˜¯å€’æ•°ç¬¬1ä¸ªèŠ‚ç‚¹ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªé“¾è¡¨æœ‰6ä¸ªèŠ‚ç‚¹ï¼Œä»å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œå®ƒä»¬çš„å€¼ä¾æ¬¡æ˜¯1ã€2ã€3ã€4ã€5ã€6ã€‚è¿™ä¸ªé“¾è¡¨çš„å€’æ•°ç¬¬3ä¸ªèŠ‚ç‚¹æ˜¯å€¼ä¸º4çš„èŠ‚ç‚¹ã€‚<br>ç»™å®šä¸€ä¸ªé“¾è¡¨: 1-&gt;2-&gt;3-&gt;4-&gt;5, å’Œ k = 2.<br>è¿”å›é“¾è¡¨ 4-&gt;5.<br><code>ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆçš„æ€è·¯</code><br><code>ä¸€å¼€å§‹å¿«æŒ‡é’ˆå’Œæ…¢æŒ‡é’ˆéƒ½æŒ‡å‘é“¾è¡¨å¤´</code><br><code>ç„¶åè®©å¿«æŒ‡é’ˆå…ˆèµ°kæ­¥ï¼Œèµ°å®Œkæ­¥ä¹‹åè®©å¿«æŒ‡é’ˆå’Œæ…¢æŒ‡é’ˆä¸€èµ·èµ°</code><br><code>æœ€åæ…¢æŒ‡é’ˆæ‰€æŒ‡å‘çš„ä½ç½®å°±æ˜¯n-kçš„ä½ç½®ï¼Œå³å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public ListNode getKthFromEnd(ListNode head, int k) &#123;        ListNode fast &#x3D; head;        ListNode slow &#x3D; head;        for(int i &#x3D; 0;i&lt;&#x3D;k-1;i++)&#123;            fast&#x3D;fast.next;        &#125;        while(fast!&#x3D;null)&#123;            fast&#x3D;fast.next;            slow&#x3D;slow.next;        &#125;        return slow;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><font color = 'Red' size = 5 align = 'center'><p>åˆ°ç°åœ¨ä¸ºæ­¢å‘¢ ï¼Œä¸Šé¢çš„åä¸‰é“é¢˜ç›®ç®—æ˜¯å…¥é—¨äº†å­ï½ï½ï½  </p><p>ç»™è‡ªå·±é¼“ä¸ªæŒğŸ‘  </p></font><h1 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h1><p>å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨<br>è¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œä»å°¾åˆ°å¤´åè¿‡æ¥è¿”å›æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼ˆç”¨æ•°ç»„è¿”å›ï¼‰ã€‚<br>è¾“å…¥ï¼šhead = [1,3,2]<br>è¾“å‡ºï¼š[2,3,1]</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public int[] reversePrint(ListNode head) &#123;        LinkedList&lt;Integer&gt; stack &#x3D; new LinkedList&lt;&gt;();        ListNode cur &#x3D; head;        while(cur!&#x3D;null)&#123;            stack.addLast(cur.val);            cur&#x3D;cur.next;        &#125;        int[] ans &#x3D;new int[stack.size()];        for(int i &#x3D; 0 ; i &lt; ans.length;i++)&#123;            ans[i]&#x3D;stack.removeLast();        &#125;        return ans;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> é“¾è¡¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é“¾è¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸é“¾è¡¨çš„å†ç›¸è¯†ğŸ’—</title>
      <link href="2021/01/06/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E9%93%BE%E8%A1%A81/"/>
      <url>2021/01/06/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E9%93%BE%E8%A1%A81/</url>
      
        <content type="html"><![CDATA[<hr><font color = 'gold' size = 5 align = 'center'><p>  å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦   </p><p>å‰é¢éƒ½æ˜¯æ¯”è¾ƒåŸºç¡€çš„é¢˜ç›®<br>æ ¹æ®ä¸Šé¢è¿™äº›çŸ¥è¯†å†æ¥å‡ é“æŠŠï½<br>å­¦ä»¥è‡´ç”¨</p><p>ï½ï½ï½<br></font >  </p><hr><p>æœ¬æ–‡çš„å›¾å‚è€ƒ<br><code>https://leetcode-cn.com/problems/swap-nodes-in-pairs/solution/dong-hua-yan-shi-24-liang-liang-jiao-huan-lian-bia/</code><br>â€“</p><h3 id="328-å¥‡å¶é“¾è¡¨"><a href="#328-å¥‡å¶é“¾è¡¨" class="headerlink" title="328. å¥‡å¶é“¾è¡¨"></a>328. å¥‡å¶é“¾è¡¨</h3><p>ç»™å®šä¸€ä¸ªå•é“¾è¡¨ï¼ŒæŠŠæ‰€æœ‰çš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹åˆ†åˆ«æ’åœ¨ä¸€èµ·ã€‚è¯·æ³¨æ„ï¼Œ<strong>è¿™é‡Œçš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹æŒ‡çš„æ˜¯èŠ‚ç‚¹ç¼–å·çš„å¥‡å¶æ€§ï¼Œè€Œä¸æ˜¯èŠ‚ç‚¹çš„å€¼çš„å¥‡å¶æ€§ã€‚</strong><br>è¯·å°è¯•ä½¿ç”¨åŸåœ°ç®—æ³•å®Œæˆã€‚ä½ çš„ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦åº”ä¸º O(1)ï¼Œæ—¶é—´å¤æ‚åº¦åº”ä¸º O(nodes)ï¼Œnodes ä¸ºèŠ‚ç‚¹æ€»æ•°ã€‚<br>è¾“å…¥: 2-&gt;1-&gt;3-&gt;5-&gt;6-&gt;4-&gt;7-&gt;NULL<br>è¾“å‡º: 2-&gt;3-&gt;6-&gt;7-&gt;1-&gt;5-&gt;4-&gt;NULL</p><hr><h4 id="è§£æ³•1-å“‘èŠ‚ç‚¹çš„è®¾ç½®"><a href="#è§£æ³•1-å“‘èŠ‚ç‚¹çš„è®¾ç½®" class="headerlink" title="è§£æ³•1: å“‘èŠ‚ç‚¹çš„è®¾ç½®"></a>è§£æ³•1: å“‘èŠ‚ç‚¹çš„è®¾ç½®</h4><p><code>ç±»ä¼¼å‰é¢çš„åˆ†å‰²é“¾è¡¨  è®¾ç½®å“‘èŠ‚ç‚¹çš„å€¼  ä½†æ˜¯æ³¨æ„è¿™é‡Œçš„è¯éœ€è¦è®¾ç½®ä¸€ä¸ªevenflag æ¥åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¥‡æ•°èŠ‚ç‚¹è¿˜æ˜¯å¶æ•°èŠ‚ç‚¹</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public ListNode oddEvenList(ListNode head) &#123;        if(head&#x3D;&#x3D;null) return head;        ListNode odddummy &#x3D; new ListNode(-1);        ListNode evendummy &#x3D; new ListNode(-1);        ListNode cur  &#x3D; head;        ListNode odd &#x3D; odddummy;        ListNode even &#x3D; evendummy;        boolean evenflag &#x3D; true;        while(cur!&#x3D;null)&#123;            if(evenflag)&#123;                odd.next &#x3D; cur;                odd&#x3D;odd.next;                evenflag &#x3D; false;            &#125;else&#123;                even.next &#x3D; cur;                even &#x3D; even.next;                evenflag &#x3D; true;            &#125;            cur&#x3D;cur.next;        &#125;        even.next&#x3D;null;        odd.next&#x3D; evendummy.next;        return odddummy.next;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è§£æ³•2-åŒæŒ‡é’ˆ"><a href="#è§£æ³•2-åŒæŒ‡é’ˆ" class="headerlink" title="è§£æ³•2: åŒæŒ‡é’ˆ"></a>è§£æ³•2: åŒæŒ‡é’ˆ</h4><img src = https://pic.leetcode-cn.com/1605227711-BsDKjR-image.png /><pre class="line-numbers language-java" data-language="java"><code class="language-java">public ListNode oddEvenList(ListNode head) &#123;        if(head&#x3D;&#x3D;null) return head;        ListNode odd &#x3D; head;        ListNode even &#x3D; head.next;        ListNode evenHead &#x3D; head.next;        while(even!&#x3D;null&amp;&amp;even.next!&#x3D;null)&#123;            odd.next &#x3D; even.next;            odd &#x3D; even.next;            even.next &#x3D; odd.next;            even &#x3D; odd.next;        &#125;        odd.next &#x3D; evenHead;        return head;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="876-é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹-å¿«æ…¢æŒ‡é’ˆ"><a href="#876-é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹-å¿«æ…¢æŒ‡é’ˆ" class="headerlink" title="876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹ å¿«æ…¢æŒ‡é’ˆ"></a>876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹ å¿«æ…¢æŒ‡é’ˆ</h3><p>ç»™å®šä¸€ä¸ªå¤´ç»“ç‚¹ä¸º head çš„éç©ºå•é“¾è¡¨ï¼Œè¿”å›é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹ã€‚<br>å¦‚æœæœ‰ä¸¤ä¸ªä¸­é—´ç»“ç‚¹ï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªä¸­é—´ç»“ç‚¹ã€‚</p><hr><p><code>å¿«æŒ‡é’ˆèƒ½ç»§ç»­èµ°çš„æ—¶å€™ç»§ç»­èµ°å°±è¡Œ,åŒºåˆ«å·¦ä¸­é—´èŠ‚ç‚¹çš„æ¡ä»¶æ˜¯fast.next!=null&amp;&amp;fast.next.next!=null</code><br><img  src =https://pic.leetcode-cn.com/1606462980-RIpDUY-file_1606462980633 /><br> <pre class="line-numbers language-java" data-language="java"><code class="language-java">public ListNode middleNode(ListNode head) &#123;        ListNode slow &#x3D; head,fast&#x3D;head;        while(fast!&#x3D;null&amp;&amp;fast.next!&#x3D;null)&#123;            slow&#x3D;slow.next;            fast&#x3D;fast.next.next;        &#125;        return slow;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p><hr><h3 id="24-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹-å“‘èŠ‚ç‚¹"><a href="#24-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹-å“‘èŠ‚ç‚¹" class="headerlink" title="24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ å“‘èŠ‚ç‚¹"></a>24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ å“‘èŠ‚ç‚¹</h3><p>ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åçš„é“¾è¡¨ã€‚</p><p>ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚<br>è¾“å…¥ï¼šhead = [1,2,3,4]<br>è¾“å‡ºï¼š[2,1,4,3]<br><img   src= https://pic.leetcode-cn.com/42c91b69e3f38d63a0d0153c440724e69bd2d24b95091b4dcc5c68172f8f4e1e-%E8%BF%AD%E4%BB%A3.gif    /></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public ListNode swapPairs(ListNode head) &#123;        ListNode dummy &#x3D; new ListNode(-1);        dummy.next &#x3D; head;        ListNode cur &#x3D; head;        ListNode pre &#x3D; dummy;        while(cur!&#x3D;null&amp;&amp;cur.next!&#x3D;null)&#123;            ListNode first &#x3D; cur;            ListNode second &#x3D; cur.next;            pre.next &#x3D; second;            first.next &#x3D; second.next;            second.next &#x3D; first;            pre &#x3D; first;            cur &#x3D; first.next;&#x2F;&#x2F;ä¸ºä¸‹ä¸€è½®ä½œå‡†å¤‡        &#125;        return dummy.next;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="19-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹-å‰‘æŒ‡-Offer-22-é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹-å¿«æ…¢æŒ‡é’ˆ-å“‘èŠ‚ç‚¹"><a href="#19-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹-å‰‘æŒ‡-Offer-22-é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹-å¿«æ…¢æŒ‡é’ˆ-å“‘èŠ‚ç‚¹" class="headerlink" title="19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹(å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹) å¿«æ…¢æŒ‡é’ˆ å“‘èŠ‚ç‚¹"></a>19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹(å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹) å¿«æ…¢æŒ‡é’ˆ å“‘èŠ‚ç‚¹</h3><p>ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œ<strong>åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹ï¼Œ</strong>å¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚<br>ç»™å®šä¸€ä¸ªé“¾è¡¨: 1-&gt;2-&gt;3-&gt;4-&gt;5, å’Œ n = 2.<br>å½“åˆ é™¤äº†å€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹åï¼Œé“¾è¡¨å˜ä¸º 1-&gt;2-&gt;3-&gt;5.</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public ListNode removeNthFromEnd(ListNode head, int n) &#123;        ListNode dummy &#x3D; new ListNode(-1);        dummy.next &#x3D; head;        ListNode fast &#x3D; dummy;        ListNode slow &#x3D; dummy;        for(int i &#x3D; 0 ; i&lt; n;i++)&#123;            fast &#x3D; fast.next;        &#125;        &#x2F;&#x2F;è¿™é‡Œfast.next!&#x3D;nullèµ°å®Œçš„è¯å°±æ‰¾åˆ°äº†å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹        while(fast.next!&#x3D;null)&#123;            slow&#x3D;slow.next;            fast&#x3D;fast.next;        &#125;        slow.next&#x3D;slow.next.next;        return dummy.next;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="92-åè½¬é“¾è¡¨-II"><a href="#92-åè½¬é“¾è¡¨-II" class="headerlink" title="92. åè½¬é“¾è¡¨ II"></a>92. åè½¬é“¾è¡¨ II</h3><p><strong>åè½¬ä»ä½ç½® m åˆ° n çš„é“¾è¡¨</strong>ã€‚è¯·ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®Œæˆåè½¬ã€‚</p><p>è¯´æ˜:<br>1 â‰¤ m â‰¤ n â‰¤ é“¾è¡¨é•¿åº¦ã€‚<br><code>ç¬¬ä¸€æ­¥ï¼šæ‰¾åˆ°å¾…åè½¬èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹</code>ã€‚<br><code>ç¬¬äºŒæ­¥ï¼šåè½¬måˆ°nè¿™éƒ¨åˆ†ã€‚</code><br><code>ç¬¬ä¸‰æ­¥ï¼šå°†åè½¬çš„èµ·ç‚¹çš„nextæŒ‡å‘åè½¬çš„åé¢ä¸€éƒ¨åˆ†ã€‚</code><br><code>ç¬¬å››æ­¥ï¼šå°†ç¬¬ä¸€æ­¥æ‰¾åˆ°çš„èŠ‚ç‚¹æŒ‡å‘åè½¬ä»¥åçš„å¤´èŠ‚ç‚¹ã€‚</code><br><img src = https://pic.leetcode-cn.com/3158b23f7e6919d47a11a2f57e921b5645fceb84212450336f2256f5659fa9e7.jpg /><br>å‚è€ƒé“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/reverse-linked-list-ii/solution/ji-bai-liao-100de-javayong-hu-by-reedfan-6/">https://leetcode-cn.com/problems/reverse-linked-list-ii/solution/ji-bai-liao-100de-javayong-hu-by-reedfan-6/</a></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public ListNode reverseBetween(ListNode head, int m, int n) &#123;        ListNode dummy &#x3D; new ListNode(-1);        dummy.next &#x3D; head;        ListNode node &#x3D; dummy;        for(int i &#x3D; 0 ;i&lt;m-1;i++)&#123;            node&#x3D;node.next;        &#125;        ListNode reverseHead &#x3D; node.next;        ListNode pre &#x3D; null;        ListNode cur &#x3D; reverseHead;        for(int i &#x3D; m ;i &lt;&#x3D;n;i++)&#123;            ListNode next &#x3D; cur.next;            cur.next &#x3D; pre;            pre &#x3D; cur;            cur &#x3D; next;        &#125;         reverseHead.next &#x3D; cur;        node.next &#x3D; pre;        return dummy.next;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="83-åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ -åŒæŒ‡é’ˆ"><a href="#83-åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ -åŒæŒ‡é’ˆ" class="headerlink" title="83. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  åŒæŒ‡é’ˆ"></a>83. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  åŒæŒ‡é’ˆ</h3><p>ç»™å®šä¸€ä¸ªæ’åºé“¾è¡¨ï¼Œåˆ é™¤æ‰€æœ‰é‡å¤çš„å…ƒç´ ï¼Œä½¿å¾—æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ã€‚</p><p>ç¤ºä¾‹ 1:</p><p>è¾“å…¥: 1-&gt;1-&gt;2<br>è¾“å‡º: 1-&gt;2<br>ç¤ºä¾‹ 2:</p><p>è¾“å…¥: 1-&gt;1-&gt;2-&gt;3-&gt;3<br>è¾“å‡º: 1-&gt;2-&gt;3</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public ListNode deleteDuplicates(ListNode head) &#123;        if(head&#x3D;&#x3D;null||head.next&#x3D;&#x3D;null) return head;        ListNode cur &#x3D; head;        while(cur!&#x3D;null&amp;&amp;cur.next!&#x3D;null)&#123;            if(cur.val&#x3D;&#x3D;cur.next.val)&#123;                cur.next&#x3D;cur.next.next;            &#125;else&#123;                cur &#x3D; cur.next;            &#125;        &#125;        return head;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="82-åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ -II"><a href="#82-åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ -II" class="headerlink" title="82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II"></a>82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II</h3><p>ç»™å®šä¸€ä¸ªæ’åºé“¾è¡¨ï¼Œåˆ é™¤æ‰€æœ‰å«æœ‰é‡å¤æ•°å­—çš„èŠ‚ç‚¹ï¼Œåªä¿ç•™åŸå§‹é“¾è¡¨ä¸­ æ²¡æœ‰é‡å¤å‡ºç° çš„æ•°å­—ã€‚</p><p>ç¤ºä¾‹ 1:</p><p>è¾“å…¥: 1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5<br>è¾“å‡º: 1-&gt;2-&gt;5<br>ç¤ºä¾‹ 2:</p><p>è¾“å…¥: 1-&gt;1-&gt;1-&gt;2-&gt;3<br>è¾“å‡º: 2-&gt;3<br><code>è¿™é“é¢˜æ˜¯è‡ªå·±æƒ³çš„è§£æ³•  è‰¾ç   è¿™æ®µä»£ç è°ƒäº†å¾—æœ‰ä¸€ä¸ªå¤šå°æ—¶  è®°å½•ä¸€ä¸‹</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public ListNode deleteDuplicates(ListNode head) &#123;        ListNode dummy &#x3D;new ListNode(-1);        ListNode pre &#x3D;dummy;        ListNode cur &#x3D;head;        while(cur!&#x3D;null)&#123;            if(cur.next!&#x3D;null&amp;&amp;cur.val!&#x3D;cur.next.val)&#123;                pre.next &#x3D; new ListNode(cur.val);                pre &#x3D; pre.next;            &#125;            &#x2F;&#x2F;å½“æ¡ä»¶æˆç«‹æ˜¯è¯´æ˜å½“å‰curæ˜¯æœ€åä¸€ä¸ªå€¼ï¼Œä¸”å’Œå‰é¢çš„éƒ½ä¸ç›¸ç­‰            if(cur.next&#x3D;&#x3D;null)&#123;                pre.next &#x3D; new ListNode(cur.val);                            &#125;            int val &#x3D; cur.val;            &#x2F;&#x2F;æŠŠæ‰€æœ‰ç›¸åŒçš„å€¼éƒ½è·³è¿‡å»            while(cur!&#x3D;null&amp;&amp;val&#x3D;&#x3D;cur.val)&#123;                cur&#x3D;cur.next;            &#125;                    &#125;        return dummy.next;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="61-æ—‹è½¬é“¾è¡¨"><a href="#61-æ—‹è½¬é“¾è¡¨" class="headerlink" title="61. æ—‹è½¬é“¾è¡¨"></a>61. æ—‹è½¬é“¾è¡¨</h3><p>ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œæ—‹è½¬é“¾è¡¨ï¼Œå°†é“¾è¡¨æ¯ä¸ªèŠ‚ç‚¹å‘å³ç§»åŠ¨ k ä¸ªä½ç½®ï¼Œå…¶ä¸­ k æ˜¯éè´Ÿæ•°ã€‚<br>è¾“å…¥: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL, k = 2<br>è¾“å‡º: 4-&gt;5-&gt;1-&gt;2-&gt;3-&gt;NULL<br>è§£é‡Š:<br>å‘å³æ—‹è½¬ 1 æ­¥: 5-&gt;1-&gt;2-&gt;3-&gt;4-&gt;NULL<br>å‘å³æ—‹è½¬ 2 æ­¥: 4-&gt;5-&gt;1-&gt;2-&gt;3-&gt;NULL</p><hr><p><code>å‚è€ƒhttps://leetcode-cn.com/problems/rotate-list/solution/dong-tu-suan-fa-xuan-zhuan-lian-biao-si-chong-ji-3/</code><br>    <code>å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥æŠŠé“¾è¡¨è½¬æˆç¯ï¼Œç„¶ååœ¨ç¯ä¸­æ‰¾åˆ°kçš„ä½ç½®å°†å…¶æ‰“æ–­ï½</code></p><img src=https://pic.leetcode-cn.com/221a9b004ce8b55e7e190789711850154408609d1af11881e48680c65f5e32f1-file_1597038479852 /><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public ListNode rotateRight(ListNode head, int k) &#123;        &#x2F;&#x2F; æ€è·¯ï¼šå…ˆå°†é“¾è¡¨è¿æˆä¸€ä¸ªç¯ï¼Œåœ¨æ‰¾æ–­ç‚¹        &#x2F;&#x2F; å…ˆè€ƒè™‘è¾¹ç•Œæƒ…å†µ        if(head &#x3D;&#x3D; null)&#123;            return null;        &#125;        ListNode tmp &#x3D; head;        &#x2F;&#x2F; æ‰¾åˆ°é“¾è¡¨æœ€åä¸€ä¸ªèŠ‚ç‚¹        int length &#x3D; 1;        while(tmp.next !&#x3D; null)&#123;            tmp &#x3D; tmp.next;            length ++;        &#125;        tmp.next &#x3D; head;  &#x2F;&#x2F; æ„æˆä¸€ä¸ªç¯        ListNode c_list &#x3D; head;  &#x2F;&#x2F; å¤´ç»“ç‚¹        ListNode prev &#x3D; tmp; &#x2F;&#x2F; è®¾ç½®å°¾ç»“ç‚¹        &#x2F;&#x2F; é€šè¿‡å¾ªç¯æ‰¾åˆ°æ–°çš„å¤´ç»“ç‚¹ï¼Œå‘å³è½¬næ¬¡åˆ™éœ€è¦next length-k%length æ¬¡        for(int i&#x3D;1; i&lt;&#x3D;length - k%length; i++)&#123;            c_list &#x3D; c_list.next;            prev &#x3D; prev.next;        &#125;        prev.next &#x3D; null;        return c_list;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="143-é‡æ’é“¾è¡¨"><a href="#143-é‡æ’é“¾è¡¨" class="headerlink" title="143. é‡æ’é“¾è¡¨"></a>143. é‡æ’é“¾è¡¨</h3><p>ç»™å®šä¸€ä¸ªå•é“¾è¡¨ Lï¼šL0â†’L1â†’â€¦â†’Ln-1â†’Ln ï¼Œ<br>å°†å…¶é‡æ–°æ’åˆ—åå˜ä¸ºï¼š L0â†’Lnâ†’L1â†’Ln-1â†’L2â†’Ln-2â†’â€¦</p><p>ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚</p><p>ç¤ºä¾‹ 1:</p><p>ç»™å®šé“¾è¡¨ 1-&gt;2-&gt;3-&gt;4, é‡æ–°æ’åˆ—ä¸º 1-&gt;4-&gt;2-&gt;3.<br>ç¤ºä¾‹ 2:<br>ç»™å®šé“¾è¡¨ 1-&gt;2-&gt;3-&gt;4-&gt;5, é‡æ–°æ’åˆ—ä¸º 1-&gt;5-&gt;2-&gt;4-&gt;3.  </p><hr><p><code>å¯»æ‰¾é“¾è¡¨ä¸­ç‚¹ + é“¾è¡¨é€†åº + åˆå¹¶é“¾è¡¨</code><br><code>æ³¨æ„åˆ°ç›®æ ‡é“¾è¡¨å³ä¸ºå°†åŸé“¾è¡¨çš„å·¦åŠç«¯å’Œåè½¬åçš„å³åŠç«¯åˆå¹¶åçš„ç»“æœã€‚</code></p><p><code>è¿™æ ·æˆ‘ä»¬çš„ä»»åŠ¡å³å¯åˆ’åˆ†ä¸ºä¸‰æ­¥ï¼š æ‰¾åˆ°åŸé“¾è¡¨çš„ä¸­ç‚¹ï¼ˆå‚è€ƒã€Œ876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹ã€ï¼‰ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ¥ O(N)åœ°æ‰¾åˆ°é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹ã€‚ å°†åŸé“¾è¡¨çš„å³åŠç«¯åè½¬ï¼ˆå‚è€ƒã€Œ206. åè½¬é“¾è¡¨ã€ï¼‰ã€‚ å°†åŸé“¾è¡¨çš„ä¸¤ç«¯åˆå¹¶ã€‚ å› ä¸ºä¸¤é“¾è¡¨é•¿åº¦ç›¸å·®ä¸è¶…è¿‡ 1ï¼Œå› æ­¤ç›´æ¥åˆå¹¶å³å¯ã€‚</code><br>`</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public void reorderList(ListNode head) &#123;        if(head&#x3D;&#x3D;null) return ;        ListNode left &#x3D; head;        ListNode mid &#x3D; findMid(head);        ListNode right &#x3D; mid.next;        mid.next&#x3D;null;&#x2F;&#x2F;å¾ˆé‡è¦ åˆ«å¿˜äº†        right &#x3D; reverse(right);        merge(left,right);    &#125;    &#x2F;&#x2F;è¿”å›å·¦ä¸­èŠ‚ç‚¹    public ListNode findMid(ListNode head)&#123;        ListNode fast &#x3D; head;        ListNode slow &#x3D; head;        while(fast.next!&#x3D;null&amp;&amp;fast.next.next!&#x3D;null)&#123;            fast&#x3D;fast.next.next;            slow&#x3D;slow.next;        &#125;        return slow;    &#125;    public ListNode reverse(ListNode head)&#123;        if(head&#x3D;&#x3D;null) return null;        ListNode pre &#x3D; null;        ListNode cur &#x3D; head;        while(cur!&#x3D;null)&#123;            ListNode next &#x3D; cur.next;            cur.next&#x3D; pre;            pre &#x3D;cur;            cur&#x3D;next;        &#125;        return pre;    &#125;    public void merge(ListNode left,ListNode right)&#123;        ListNode l1 &#x3D;left;        ListNode l2&#x3D; right;        while(l1!&#x3D;null&amp;&amp;l2!&#x3D;null)&#123;            ListNode l1next &#x3D; l1.next;            ListNode l2next &#x3D; l2.next;            l1.next &#x3D; l2;            l2.next&#x3D;l1next;            l1 &#x3D; l1next;            l2&#x3D;l2next;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><p><strong>é€’å½’ç‰ˆæœ¬</strong> </p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public ListNode sortList(ListNode head) &#123;        &#x2F;&#x2F;å½’å¹¶æ’åº        if(head&#x3D;&#x3D;null||head.next&#x3D;&#x3D;null) return head;        ListNode slow &#x3D; head;        ListNode fast &#x3D; head;        ListNode first &#x3D; head;        while(fast.next!&#x3D;null&amp;&amp;fast.next.next!&#x3D;null)&#123;            fast &#x3D; fast.next.next;            slow &#x3D; slow.next;        &#125;        ListNode second &#x3D; slow.next;        slow.next&#x3D;null;        first &#x3D; sortList(first);        second &#x3D; sortList(second);        ListNode node &#x3D; merge(first,second);        return node;    &#125;    public ListNode merge(ListNode first,ListNode second)&#123;        ListNode l1&#x3D;first;        ListNode l2 &#x3D; second;        ListNode dummy &#x3D; new ListNode(-1);        ListNode cur &#x3D; dummy;        while(l1!&#x3D;null&amp;&amp;l2!&#x3D;null)&#123;            if(l1.val&lt;l2.val)&#123;                cur.next &#x3D; l1;                l1&#x3D;l1.next;            &#125;else&#123;                cur.next&#x3D;l2;                l2&#x3D;l2.next;            &#125;            cur &#x3D; cur.next;        &#125;        cur.next &#x3D; (l1&#x3D;&#x3D;null)?l2:l1;        return dummy.next;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> é“¾è¡¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é“¾è¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°ç»„åˆ·é¢˜ç¬”è®°</title>
      <link href="2021/01/06/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E7%BB%84/"/>
      <url>2021/01/06/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<font color = 'gold' size = 4>ä»Šå¤©æƒ³å¤ä¹ ä¸€ä¸‹ä»¥å‰åˆ·è¿‡çš„æ•°ç»„é¢˜ç›®    <p>ç»ƒç»ƒæ‰‹æ„Ÿ  </p><p>æ‰¾æ‰¾æ•°ç»„çš„æ„Ÿè§‰  </p><p>å’Œæ•°ç»„æˆä¸ºå¥½æœ‹å‹çš„ç¬¬ä¸€å¤©ï¼Œå“ˆå“ˆå“ˆå“ˆ<br>ï½ï½ï½<br></font >  </p><hr><font color = 'pink' size = 3>åŒæŒ‡é’ˆ  ğŸ’—  <p>ğŸ‘‡<br></font></p><hr><h2 id="977-æœ‰åºæ•°ç»„çš„å¹³æ–¹"><a href="#977-æœ‰åºæ•°ç»„çš„å¹³æ–¹" class="headerlink" title="977. æœ‰åºæ•°ç»„çš„å¹³æ–¹"></a>977. æœ‰åºæ•°ç»„çš„å¹³æ–¹</h2><p>ç»™ä½ ä¸€ä¸ªæŒ‰ éé€’å‡é¡ºåº æ’åºçš„æ•´æ•°æ•°ç»„ numsï¼Œè¿”å› æ¯ä¸ªæ•°å­—çš„å¹³æ–¹ ç»„æˆçš„æ–°æ•°ç»„ï¼Œè¦æ±‚ä¹ŸæŒ‰ éé€’å‡é¡ºåº æ’åºã€‚<br>è¾“å…¥ï¼šnums = [-4,-1,0,3,10]<br>è¾“å‡ºï¼š[0,1,9,16,100]<br>è§£é‡Šï¼šå¹³æ–¹åï¼Œæ•°ç»„å˜ä¸º [16,1,0,9,100]<br>æ’åºåï¼Œæ•°ç»„å˜ä¸º [0,1,9,16,100]</p><hr><p><strong>æ€è·¯</strong><br><code>æ•°ç»„å…¶å®æ˜¯æœ‰åºçš„ï¼Œ åªä¸è¿‡è´Ÿæ•°å¹³æ–¹ä¹‹åå¯èƒ½æˆä¸ºæœ€å¤§æ•°äº†ã€‚ é‚£ä¹ˆæ•°ç»„å¹³æ–¹çš„æœ€å¤§å€¼å°±åœ¨æ•°ç»„çš„ä¸¤ç«¯ï¼Œä¸æ˜¯æœ€å·¦è¾¹å°±æ˜¯æœ€å³è¾¹ï¼Œä¸å¯èƒ½æ˜¯ä¸­é—´ã€‚ æ­¤æ—¶å¯ä»¥è€ƒè™‘åŒæŒ‡é’ˆæ³•äº†ï¼ŒiæŒ‡å‘å…¶å®ä½ç½®ï¼ŒjæŒ‡å‘ç»ˆæ­¢ä½ç½®ã€‚ å®šä¹‰ä¸€ä¸ªæ–°æ•°ç»„resultï¼Œå’ŒAæ•°ç»„ä¸€æ ·çš„å¤§å°ï¼Œè®©kæŒ‡å‘resultæ•°ç»„ç»ˆæ­¢ä½ç½®ã€‚ </code><br>å‚è€ƒå¤§ä½¬åŠ¨å›¾<br>â€“åŸé“¾æ¥<br><a href="https://leetcode-cn.com/problems/squares-of-a-sorted-array/solution/977-you-xu-shu-zu-de-ping-fang-pai-xu-shuang-zhi-z/">https://leetcode-cn.com/problems/squares-of-a-sorted-array/solution/977-you-xu-shu-zu-de-ping-fang-pai-xu-shuang-zhi-z/</a></p><img src=https://pic.leetcode-cn.com/1602811839-xiaxXW-977.%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E5%B9%B3%E6%96%B9.gif  /><pre class="line-numbers language-java" data-language="java"><code class="language-java">public int[] sortedSquares(int[] nums) &#123;        int i &#x3D; 0 ,j &#x3D; nums.length -1;        int k &#x3D; nums.length-1;        int[] arr &#x3D; new int[nums.length];        while(i&lt;&#x3D;j)&#123;            if(nums[i]+nums[j]&lt;0)&#123;                arr[k--]&#x3D;nums[i]*nums[i++];            &#125;else&#123;                arr[k--]&#x3D;nums[j]*nums[j--];            &#125;        &#125;        return arr;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><font color = 'pink' size = 3>åŒæŒ‡é’ˆ  ğŸ’—  <p>ğŸ‘‡<br></font></p><h2 id="88-åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„"><a href="#88-åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„" class="headerlink" title="88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„"></a>88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„</h2><hr><p><code>topé¢˜åº“</code><br>ç»™ä½ ä¸¤ä¸ªæœ‰åºæ•´æ•°æ•°ç»„ nums1 å’Œ nums2ï¼Œè¯·ä½ å°† nums2 åˆå¹¶åˆ° nums1 ä¸­ï¼Œä½¿ nums1 æˆä¸ºä¸€ä¸ªæœ‰åºæ•°ç»„ã€‚<br>åˆå§‹åŒ– nums1 å’Œ nums2 çš„å…ƒç´ æ•°é‡åˆ†åˆ«ä¸º m å’Œ n ã€‚<br>ä½ å¯ä»¥å‡è®¾ nums1 æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼ˆç©ºé—´å¤§å°å¤§äºæˆ–ç­‰äº m + nï¼‰æ¥ä¿å­˜ nums2 ä¸­çš„å…ƒç´ ã€‚<br>è¾“å…¥ï¼š<br>nums1 = [1,2,3,0,0,0], m = 3<br>nums2 = [2,5,6],       n = 3<br>è¾“å‡ºï¼š[1,2,2,3,5,6]</p><hr><p><strong>æ€è·¯</strong><br><code>ä»åå¾€å‰éå†æ•°ç»„ï¼š</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public void merge(int[] nums1, int m, int[] nums2, int n) &#123;       int i &#x3D; nums1.length-1;       m--;n--;       while(m&gt;&#x3D;0&amp;&amp;n&gt;&#x3D;0)&#123;           nums1[i--]&#x3D;nums1[m]&gt;&#x3D;nums2[n]?nums1[m--]:nums2[n--];       &#125;       while(n&gt;&#x3D;0)&#123;           nums1[i--]&#x3D;nums2[n--];       &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><p><strong>æ€è·¯</strong><br>    <code>å‚è€ƒå¿«é€Ÿæ’åº partitionè¿‡ç¨‹</code></p><h2 id="75-é¢œè‰²åˆ†ç±»"><a href="#75-é¢œè‰²åˆ†ç±»" class="headerlink" title="75. é¢œè‰²åˆ†ç±»"></a>75. é¢œè‰²åˆ†ç±»</h2><p><code>topé¢˜åº“</code><br>ç»™å®šä¸€ä¸ªåŒ…å«çº¢è‰²ã€ç™½è‰²å’Œè“è‰²ï¼Œä¸€å…± n ä¸ªå…ƒç´ çš„æ•°ç»„ï¼ŒåŸåœ°å¯¹å®ƒä»¬è¿›è¡Œæ’åºï¼Œä½¿å¾—ç›¸åŒé¢œè‰²çš„å…ƒç´ ç›¸é‚»ï¼Œå¹¶æŒ‰ç…§çº¢è‰²ã€ç™½è‰²ã€è“è‰²é¡ºåºæ’åˆ—ã€‚<br>æ­¤é¢˜ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° 0ã€ 1 å’Œ 2 åˆ†åˆ«è¡¨ç¤ºçº¢è‰²ã€ç™½è‰²å’Œè“è‰²ã€‚<br>ä½ èƒ½æƒ³å‡ºä¸€ä¸ªä»…ä½¿ç”¨<strong>å¸¸æ•°ç©ºé—´</strong>çš„ä¸€è¶Ÿæ‰«æç®—æ³•å—ï¼Ÿ<br>ç¤ºä¾‹ 1ï¼š<br>è¾“å…¥ï¼šnums = [2,0,2,1,1,0]<br>è¾“å‡ºï¼š[0,0,1,1,2,2]</p><hr><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public void sortColors(int[] nums) &#123;        partition(nums,0,nums.length-1,1);    &#125;    public void partition(int[] nums,int l , int r, int pivot)&#123;        int start &#x3D; l-1;        int end &#x3D; r+1;        int i &#x3D; 0;        while(i&lt;end)&#123;            if(nums[i]&lt;pivot)&#123;                swap(nums,++start,i++);            &#125;else if(nums[i]&#x3D;&#x3D;pivot)&#123;                i++;            &#125;else&#123;                swap(nums,--end,i);            &#125;        &#125;    &#125;    public void swap(int[] nums , int i , int j )&#123;        int tmp &#x3D; nums[i];        nums[i] &#x3D; nums[j];        nums[j] &#x3D; tmp;     &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h2 id="é¢è¯•é¢˜-16-16-éƒ¨åˆ†æ’åº"><a href="#é¢è¯•é¢˜-16-16-éƒ¨åˆ†æ’åº" class="headerlink" title="é¢è¯•é¢˜ 16.16. éƒ¨åˆ†æ’åº"></a>é¢è¯•é¢˜ 16.16. éƒ¨åˆ†æ’åº</h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ‰¾å‡ºç´¢å¼•må’Œnï¼Œåªè¦å°†ç´¢å¼•åŒºé—´[m,n]çš„å…ƒç´ æ’å¥½åºï¼Œæ•´ä¸ªæ•°ç»„å°±æ˜¯æœ‰åºçš„ã€‚æ³¨æ„ï¼šn-må°½é‡æœ€å°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰¾å‡ºç¬¦åˆæ¡ä»¶çš„æœ€çŸ­åºåˆ—ã€‚å‡½æ•°è¿”å›å€¼ä¸º[m,n]ï¼Œè‹¥ä¸å­˜åœ¨è¿™æ ·çš„må’Œnï¼ˆä¾‹å¦‚æ•´ä¸ªæ•°ç»„æ˜¯æœ‰åºçš„ï¼‰ï¼Œè¯·è¿”å›[-1,-1]ã€‚<br>è¾“å…¥ï¼š [1,2,4,7,10,11,7,12,6,7,16,18,19]<br>è¾“å‡ºï¼š [3,9]</p><hr><p><strong>æ€è·¯</strong><br>    <code>    ä¹Ÿæ˜¯åŒæŒ‡é’ˆï¼Œ     lçš„å€¼å°±æ˜¯ä»åå¾€å‰éå†æ•°ç»„ï¼Œæ‰¾åˆ°æ¯”minå¤§çš„å…ƒç´ å°±æ›´æ–°lçš„å€¼ï¼Œæ‰¾åˆ°å’Œminå°çš„å…ƒç´ å°±æ›´æ–°minçš„å€¼     rçš„å€¼å°±æ˜¯ä»å·¦å¾€â¡ï¸éå†æ•°ç»„ï¼Œæ‰¾åˆ°æ¯”maxå¤§çš„å…ƒç´ å°±æ›´æ–°maxçš„å€¼ï¼Œæ‰¾åˆ°å’Œminå°çš„å…ƒç´ å°±æ›´æ–°rçš„å€¼    </code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public int[] subSort(int[] array) &#123;        if(array.length&#x3D;&#x3D;0) return new int[]&#123;-1,-1&#125;;        int l &#x3D; -1;        int r &#x3D; -1;        &#x2F;&#x2F;ä»å·¦å¾€åæ‰¾rçš„å€¼         int max &#x3D; array[0];        for(int i &#x3D; 1; i &lt; array.length ; i ++ )&#123;            if(array[i]&gt;&#x3D;max)&#123;                max &#x3D; array[i];            &#125;else&#123;                r &#x3D; i;            &#125;        &#125;        if(r&#x3D;&#x3D;-1) return new int[]&#123;-1,-1&#125;;        &#x2F;&#x2F;ä»åå¾€å·¦æ‰¾lçš„å€¼         int min &#x3D; array[array.length-1];        for(int j &#x3D; array.length -2;j&gt;&#x3D;0;j--)&#123;            if(array[j]&lt;&#x3D;min)&#123;                min&#x3D;array[j];            &#125;else&#123;                l &#x3D; j;            &#125;        &#125;        return new int[]&#123;l,r&#125;;    &#125; &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•°ç»„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°ç»„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTPå·¥ä½œåŸç†ä»¥åŠHTTP1.0-HTTP3ç‰ˆæœ¬çš„æ”¹è¿›</title>
      <link href="2021/01/06/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/HTTP/"/>
      <url>2021/01/06/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/HTTP/</url>
      
        <content type="html"><![CDATA[<!-- TOC --><ul><li><a href="#http-10">HTTP-1.0</a><ul><li><a href="#http-10%E4%BC%98%E7%BC%BA%E7%82%B9">HTTP-1.0ä¼˜ç¼ºç‚¹</a></li><li><a href="#http%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF%E6%97%A0%E8%BF%9E%E6%8E%A5%E5%92%8C%E6%97%A0%E7%8A%B6%E6%80%81%E7%9A%84">Httpä¸ºä»€ä¹ˆæ˜¯æ— è¿æ¥å’Œæ— çŠ¶æ€çš„</a></li></ul></li><li><a href="#http-11">HTTP-1.1</a><ul><li><a href="#http11%E7%9B%B8%E5%AF%B9%E4%BA%8Ehttp10%E6%94%B9%E5%96%84">HTTP/1.1ç›¸å¯¹äºHTTP1.0æ”¹å–„</a></li><li><a href="#http11%E7%BC%BA%E7%82%B9">HTTP1.1ç¼ºç‚¹</a></li></ul></li><li><a href="#http-2">HTTP-2</a><ul><li><a href="#http2-%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88%E4%BC%98%E5%8C%96">HTTP/2 åšäº†ä»€ä¹ˆä¼˜åŒ–</a></li><li><a href="#http2%E6%9C%89%E5%93%AA%E4%BA%9B%E7%BC%BA%E9%99%B7">HTTP/2æœ‰å“ªäº›ç¼ºé™·</a></li></ul></li><li><a href="#http-3">HTTP-3</a><ul><li><a href="#http3%E5%81%9A%E4%BA%86%E5%93%AA%E4%BA%9B%E4%BC%98%E5%8C%96">HTTP/3åšäº†å“ªäº›ä¼˜åŒ–</a></li></ul></li><li><a href="#http%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86">HTTPåŸºæœ¬çŸ¥è¯†</a><ul><li><a href="#http%E8%AF%B7%E6%B1%82%E7%BB%84%E6%88%90">HTTPè¯·æ±‚ç»„æˆ</a></li><li><a href="#get%E4%B8%8Epost">Getä¸Post</a></li><li><a href="#%E7%8A%B6%E6%80%81%E7%A0%81">çŠ¶æ€ç </a></li></ul></li><li><a href="#%E4%B8%80%E4%B8%AA-tcp-%E8%BF%9E%E6%8E%A5%E5%90%8E%E6%98%AF%E5%90%A6%E4%BC%9A%E5%9C%A8%E4%B8%80%E4%B8%AA-http-%E8%AF%B7%E6%B1%82%E5%AE%8C%E6%88%90%E5%90%8E%E6%96%AD%E5%BC%80%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E4%BC%9A%E6%96%AD%E5%BC%80">ä¸€ä¸ª TCP è¿æ¥åæ˜¯å¦ä¼šåœ¨ä¸€ä¸ª HTTP è¯·æ±‚å®Œæˆåæ–­å¼€ï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹ä¼šæ–­å¼€ï¼Ÿ</a></li><li><a href="#uri%E5%92%8Curl%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88">URIå’ŒURLçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ?</a></li><li><a href="#http%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B-%E8%BE%93%E5%85%A5%E7%BD%91%E5%9D%80%E8%BF%87%E7%A8%8B">httpå·¥ä½œæµç¨‹-è¾“å…¥ç½‘å€è¿‡ç¨‹</a><ul><li><a href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%9F%9F%E5%90%8D%E8%A6%81%E5%88%86%E7%BA%A7%E8%AE%BE%E8%AE%A1">ä¸ºä»€ä¹ˆåŸŸåè¦åˆ†çº§è®¾è®¡</a></li><li><a href="#%E9%87%8D%E5%AE%9A%E5%90%91%E5%8E%9F%E5%9B%A0">é‡å®šå‘åŸå› </a></li></ul></li></ul><!-- /TOC --><h2 id="HTTP-1-0"><a href="#HTTP-1-0" class="headerlink" title="HTTP-1.0"></a>HTTP-1.0</h2><h3 id="HTTP-1-0ä¼˜ç¼ºç‚¹"><a href="#HTTP-1-0ä¼˜ç¼ºç‚¹" class="headerlink" title="HTTP-1.0ä¼˜ç¼ºç‚¹"></a>HTTP-1.0ä¼˜ç¼ºç‚¹</h3><p><font color=pink size='3'>I.ä¼˜ç‚¹</font></p><ol><li>HTTPåŸºæœ¬çš„æŠ¥â½‚æ ¼å¼å°±æ˜¯header + bodyï¼Œå¤´éƒ¨ä¿¡æ¯ä¹Ÿæ˜¯key-valueç®€å•â½‚æœ¬çš„å½¢å¼ã€‚</li><li>HTTPåè®®â¾¥çš„å„ç±»è¯·æ±‚â½…æ³•ã€URI/URLã€çŠ¶æ€ç ã€å¤´å­—æ®µç­‰æ¯ä¸ªç»„æˆè¦æ±‚éƒ½æ²¡æœ‰è¢«å›ºå®šæ­»ï¼Œ<br>éƒ½å…è®¸å¼€å‘â¼ˆå‘˜â¾ƒå®šä¹‰å’Œæ‰©å……ã€‚</li><li>HTTPç”±äºæ˜¯â¼¯ä½œåœ¨åº”â½¤å±‚ï¼Œåˆ™å®ƒä¸‹å±‚å¯ä»¥éšæ„å˜åŒ–ã€‚</li><li>åº”â½¤â¼´æ³›å’Œè·¨å¹³å°</li></ol><p><font color=pink size='3'>II.ç¼ºç‚¹</font></p><ol><li>â½†çŠ¶æ€<br>ç”±äºâ½†çŠ¶æ€ï¼Œå®ƒåœ¨å®Œæˆæœ‰å…³è”æ€§çš„æ“ä½œæ—¶ä¼šâ¾®å¸¸éº»çƒ¦ã€‚<br>ä¾‹å¦‚ç™»å½•-&gt;æ·»åŠ è´­ç‰©â»‹-&gt;ä¸‹å•-&gt;ç»“ç®—-&gt;â½€ä»˜ï¼Œè¿™ç³»åˆ—æ“ä½œéƒ½è¦çŸ¥é“â½¤æˆ·çš„èº«ä»½æ‰â¾ã€‚<br>ä½†æœåŠ¡å™¨ä¸çŸ¥é“è¿™äº›è¯·æ±‚æ˜¯æœ‰å…³è”çš„ï¼Œæ¯æ¬¡éƒ½è¦é—®â¼€éèº«ä»½ä¿¡æ¯ã€‚</li><li>æ˜â½‚ä¼ è¾“<br>æ˜â½‚æ„å‘³ç€åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„ä¿¡æ¯ï¼Œæ˜¯å¯â½…ä¾¿é˜…è¯»çš„ï¼Œ<br>é€šè¿‡æµè§ˆå™¨çš„æ§åˆ¶å°æˆ–æŠ“åŒ…è½¯ä»¶éƒ½å¯ä»¥ç›´æ¥â¾çœ¼æŸ¥çœ‹ï¼Œ<br>ä¿¡æ¯çš„å†…å®¹éƒ½æ¯«â½†éšç§å¯â¾”ï¼Œå¾ˆå®¹æ˜“å°±èƒ½è¢«çªƒå–ã€‚<h3 id="Httpä¸ºä»€ä¹ˆæ˜¯æ— è¿æ¥å’Œæ— çŠ¶æ€çš„"><a href="#Httpä¸ºä»€ä¹ˆæ˜¯æ— è¿æ¥å’Œæ— çŠ¶æ€çš„" class="headerlink" title="Httpä¸ºä»€ä¹ˆæ˜¯æ— è¿æ¥å’Œæ— çŠ¶æ€çš„"></a>Httpä¸ºä»€ä¹ˆæ˜¯æ— è¿æ¥å’Œæ— çŠ¶æ€çš„</h3></li></ol><p>ä¸€.æ— è¿æ¥<br>æ¯ä¸€ä¸ªè®¿é—®éƒ½æ˜¯æ— è¿æ¥ï¼Œ<br>æœåŠ¡å™¨æŒ¨ä¸ªå¤„ç†è®¿é—®é˜Ÿåˆ—é‡Œçš„è®¿é—®ï¼Œ<br>å¤„ç†å®Œä¸€ä¸ªå°±å…³é—­è¿æ¥ï¼Œå°±ç»“æŸäº†ï¼Œ<br>ç„¶åå¤„ç†ä¸‹ä¸€ä¸ªæ–°çš„<br>æ— è¿æ¥çš„å«ä¹‰æ˜¯é™åˆ¶æ¯æ¬¡è¿æ¥åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ã€‚<br>æœåŠ¡å™¨å¤„ç†å®Œå®¢æˆ·çš„è¯·æ±‚ï¼Œå¹¶æ”¶åˆ°å®¢æˆ·çš„åº”ç­”åï¼Œå³æ–­å¼€è¿æ¥</p><p>äºŒ.æ— çŠ¶æ€<br>1.åè®®å¯¹äºäº‹åŠ¡å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›<br>2.å¯¹åŒä¸€ä¸ªurlè¯·æ±‚æ²¡æœ‰ä¸Šä¸‹æ–‡å…³ç³»<br>3.æ¯æ¬¡çš„è¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œ<br>  å®ƒçš„æ‰§è¡Œæƒ…å†µå’Œç»“æœä¸<br>  å‰é¢çš„è¯·æ±‚å’Œä¹‹åçš„è¯·æ±‚<br>  æ˜¯æ— ç›´æ¥å…³ç³»çš„ï¼Œ<br>  å®ƒä¸ä¼šå—å‰é¢çš„è¯·æ±‚åº”ç­”æƒ…å†µ<br>  ç›´æ¥å½±å“ï¼Œ<br>  ä¹Ÿä¸ä¼šç›´æ¥å½±å“åé¢çš„è¯·æ±‚åº”ç­”æƒ…å†µ</p><h2 id="HTTP-1-1"><a href="#HTTP-1-1" class="headerlink" title="HTTP-1.1"></a>HTTP-1.1</h2><h3 id="HTTP-1-1ç›¸å¯¹äºHTTP1-0æ”¹å–„"><a href="#HTTP-1-1ç›¸å¯¹äºHTTP1-0æ”¹å–„" class="headerlink" title="HTTP/1.1ç›¸å¯¹äºHTTP1.0æ”¹å–„"></a>HTTP/1.1ç›¸å¯¹äºHTTP1.0æ”¹å–„</h3><ol><li>å› ä¸ºæ—©æœŸHTTP/1.0ï¼Œé‚£å°±æ˜¯æ¯å‘èµ·â¼€ä¸ªè¯·æ±‚éœ€è¦ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹ç­‰ç­‰æ“ä½œï¼Œ<br>å¢åŠ äº†é€šä¿¡å¼€é”€ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œ<br>HTTP/1.1æå‡ºäº†<code>â»“è¿æ¥</code>çš„é€šä¿¡â½…å¼åªè¦ä»»æ„â¼€ç«¯æ²¡æœ‰æ˜ç¡®æå‡ºæ–­å¼€è¿æ¥ï¼Œ<br>åˆ™ä¿æŒ TCP è¿æ¥çŠ¶æ€ã€‚</li><li>HTTP/1.1 é‡‡â½¤äº†<code>ç®¡é“ä¼ è¾“</code> çš„â½…å¼ï¼Œ<br>å¯åœ¨åŒâ¼€ä¸ª TCP è¿æ¥â¾¥â¾¯ï¼Œå®¢æˆ·ç«¯å¯ä»¥å‘èµ·å¤šä¸ªè¯·æ±‚ï¼Œ<br>åªè¦ç¬¬â¼€ä¸ªè¯·æ±‚å‘å‡ºå»äº†ï¼Œä¸å¿…ç­‰å…¶å›æ¥ï¼Œå°±å¯ä»¥å‘ç¬¬â¼†ä¸ªè¯·æ±‚å‡ºå»ï¼Œ<br>å¯ä»¥å‡å°‘æ•´ä½“çš„å“åº”æ—¶é—´ã€‚</li><li>HTTP1.0ä¸­ï¼Œå­˜åœ¨â¼€äº›æµªè´¹å¸¦å®½çš„ç°è±¡ï¼Œ<br>ä¾‹å¦‚å®¢æˆ·ç«¯åªæ˜¯éœ€è¦æŸä¸ªå¯¹è±¡çš„â¼€éƒ¨åˆ†ï¼Œâ½½æœåŠ¡å™¨å´å°†æ•´ä¸ªå¯¹è±¡é€è¿‡æ¥äº†ï¼Œ<br>å¹¶ä¸”ä¸â½€æŒæ–­ç‚¹ç»­ä¼ åŠŸèƒ½ï¼ŒHTTP1.1åˆ™åœ¨è¯·æ±‚å¤´å¼•â¼Šäº†rangeå¤´åŸŸï¼Œ<br>å®ƒå…è®¸åªè¯·æ±‚èµ„æºçš„æŸä¸ªéƒ¨åˆ†<!-- 3. é”™è¯¯çŠ¶æ€å“åº”ç ï¼ŒHTTP1.1æ–°å¢äº†å¾ˆå¤šé”™è¯¯è£…å¡«å“åº”ç ï¼Œè®©å¼€å‘è€…æ›´åŠ äº†è§£é”™è¯¯æ ¹æº</li><li>åœ¨HTTP1.0ä¸­ä¸»è¦ä½¿â½¤headerâ¾¥çš„<br>If-Modified-Since,Expiresæ¥åšä¸ºç¼“å­˜åˆ¤æ–­çš„æ ‡å‡†ï¼Œ<br>åœ¨HTTP1.1ä¸­å¼•â¼Šäº†æ›´å¤šçš„ç¼“å­˜æ§åˆ¶ç­–ç•¥ â€“&gt;</li></ol><h3 id="HTTP1-1ç¼ºç‚¹"><a href="#HTTP1-1ç¼ºç‚¹" class="headerlink" title="HTTP1.1ç¼ºç‚¹"></a>HTTP1.1ç¼ºç‚¹</h3><ol><li>æœåŠ¡å™¨æ˜¯æŒ‰è¯·æ±‚çš„é¡ºåºå“åº”çš„ï¼Œå¦‚æœæœåŠ¡å™¨å“åº”æ…¢ï¼Œ<br>ä¼šæ‹›è‡´å®¢æˆ·ç«¯â¼€ç›´è¯·æ±‚ä¸åˆ°æ•°æ®ï¼Œä¹Ÿå°±æ˜¯<code>é˜Ÿå¤´é˜»å¡</code>ï¼›</li><li>è¯·æ±‚åªèƒ½ä»å®¢æˆ·ç«¯å¼€å§‹ï¼ŒæœåŠ¡å™¨åªèƒ½è¢«åŠ¨å“åº”ã€‚</li></ol><h2 id="HTTP-2"><a href="#HTTP-2" class="headerlink" title="HTTP-2"></a>HTTP-2</h2><h3 id="HTTP-2-åšäº†ä»€ä¹ˆä¼˜åŒ–"><a href="#HTTP-2-åšäº†ä»€ä¹ˆä¼˜åŒ–" class="headerlink" title="HTTP/2 åšäº†ä»€ä¹ˆä¼˜åŒ–"></a>HTTP/2 åšäº†ä»€ä¹ˆä¼˜åŒ–</h3><p><code>HTTP/2æ˜¯åŸºäºHTTPSçš„ï¼Œæ‰€ä»¥è¯´HTTP2çš„å®‰å…¨æ€§ä¹Ÿæ˜¯æœ‰ä¿éšœçš„</code></p><ol><li>HTTP/2 ä¼šå‹ç¼©å¤´å¦‚æœä½ åŒæ—¶å‘å‡ºå¤šä¸ªè¯·æ±‚ï¼Œ<br>ä»–ä»¬çš„å¤´æ˜¯â¼€æ ·çš„æˆ–æ˜¯ç›¸ä¼¼çš„ï¼Œé‚£ä¹ˆï¼Œåè®®ä¼šå¸®ä½ æ¶ˆé™¤é‡å¤çš„éƒ¨åˆ†ã€‚<br>ä½¿ç”¨HPACK ç®—æ³•ï¼šåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åŒæ—¶ç»´æŠ¤â¼€å¼ å¤´ä¿¡æ¯è¡¨ï¼Œæ‰€æœ‰å­—æ®µéƒ½ä¼šå­˜â¼Šè¿™ä¸ªè¡¨ï¼Œ<br>â½£æˆâ¼€ä¸ªç´¢å¼•å·ï¼Œä»¥åå°±ä¸å‘é€åŒæ ·å­—æ®µäº†ï¼Œåªå‘é€ç´¢å¼•å·ï¼Œè¿™æ ·å°±æâ¾¼é€Ÿåº¦äº†ã€‚</li><li>HTTP/2å…¨â¾¯é‡‡â½¤äº†<code>â¼†è¿›åˆ¶æ ¼å¼</code>ï¼Œå¤´ä¿¡æ¯å’Œæ•°æ®ä½“éƒ½æ˜¯â¼†è¿›åˆ¶ï¼Œ<pre><code>  è®¡ç®—æœºæ”¶åˆ°æŠ¥â½‚åï¼Œç›´æ¥è§£æâ¼†è¿›åˆ¶æŠ¥â½‚ï¼Œè¿™å¢åŠ äº†æ•°æ®ä¼ è¾“çš„æ•ˆç‡ã€‚</code></pre></li><li>HTTP/2çš„æ•°æ®åŒ…ä¸æ˜¯æŒ‰é¡ºåºå‘é€çš„</li><li>HTTP/2æ˜¯å¯ä»¥åœ¨â¼€ä¸ªè¿æ¥ä¸­å¹¶å‘å¤šä¸ªè¯·æ±‚æˆ–å›åº”ã€‚</li><li>HTTP/2 è¿˜åœ¨â¼€å®šç¨‹åº¦ä¸Šæ”¹å–„äº†ä¼ ç»Ÿçš„ã€Œè¯·æ±‚ - åº”ç­”ã€â¼¯ä½œæ¨¡å¼ï¼Œ<pre><code>   æœåŠ¡ä¸å†æ˜¯è¢«åŠ¨åœ°å“åº”ï¼Œä¹Ÿå¯ä»¥`ä¸»åŠ¨å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯`ã€‚</code></pre></li></ol><h3 id="HTTP-2æœ‰å“ªäº›ç¼ºé™·"><a href="#HTTP-2æœ‰å“ªäº›ç¼ºé™·" class="headerlink" title="HTTP/2æœ‰å“ªäº›ç¼ºé™·"></a>HTTP/2æœ‰å“ªäº›ç¼ºé™·</h3><p><code>å¤šä¸ªHTTPè¯·æ±‚åœ¨å¤â½¤â¼€ä¸ªTCPè¿æ¥</code>ï¼Œ<code>ä¸‹å±‚çš„TCPåè®®æ˜¯ä¸çŸ¥é“æœ‰å¤šå°‘ä¸ªHTTPè¯·æ±‚çš„</code>ã€‚<br>æ‰€ä»¥â¼€æ—¦å‘â½£äº†<code>ä¸¢åŒ…</code>ç°è±¡ï¼Œå°±ä¼šè§¦å‘<code>TCPçš„é‡ä¼ æœºåˆ¶ï¼Œ</code><br>è¿™æ ·åœ¨â¼€ä¸ªTCPè¿æ¥ä¸­çš„<code>æ‰€æœ‰çš„ HTTPè¯·æ±‚éƒ½å¿…é¡»ç­‰å¾…è¿™ä¸ªä¸¢äº†çš„åŒ…è¢«é‡ä¼ å›æ¥</code>ã€‚</p><h2 id="HTTP-3"><a href="#HTTP-3" class="headerlink" title="HTTP-3"></a>HTTP-3</h2><h3 id="HTTP-3åšäº†å“ªäº›ä¼˜åŒ–"><a href="#HTTP-3åšäº†å“ªäº›ä¼˜åŒ–" class="headerlink" title="HTTP/3åšäº†å“ªäº›ä¼˜åŒ–"></a>HTTP/3åšäº†å“ªäº›ä¼˜åŒ–</h3><p>HTTP/3ä½¿ç”¨åŸºäº<code>UDPåè®®</code>çš„QUICåè®®æ¥å®ç°çš„</p><p>HTTP/3æŠŠHTTPä¸‹å±‚çš„TCPåè®®æ”¹æˆäº†UDP</p><p> <code>å› ä¸ºUDPå‘â½£æ˜¯ä¸ç®¡é¡ºåºï¼Œä¹Ÿä¸ç®¡ä¸¢åŒ…çš„ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°HTTP/1.1çš„é˜Ÿå¤´é˜»å¡å’ŒHTTP/2çš„â¼€ä¸ªä¸¢åŒ…å…¨éƒ¨é‡ä¼ é—®é¢˜ã€‚</code></p><p>ä½†æ˜¯ç”±äºUDPæ˜¯ä¸å¯é ä¼ è¾“çš„ï¼Œè€ŒåŸºäºUDPçš„QUICåè®®å¯ä»¥å®ç°ç±»ä¼¼TCPçš„å¯é æ€§ä¼ è¾“ã€‚ä¸»è¦æ˜¯ä¾èµ–</p><ol><li>å½“æŸä¸ªæµå‘â½£ä¸¢åŒ…æ—¶ï¼Œåªä¼šé˜»å¡è¿™ä¸ªæµï¼Œ å…¶ä»–æµä¸ä¼šå—åˆ°å½±å“ã€‚</li><li>æ›´æ”¹äº†å¤´éƒ¨å‹ç¼©ç®—æ³•ï¼Œå‡çº§æˆäº† QPack ã€‚</li><li>QUIC ç›´æ¥æŠŠä»¥å¾€çš„TCPå’ŒTLS/1.3çš„6æ¬¡äº¤äº’åˆå¹¶æˆäº†3æ¬¡ï¼Œå‡å°‘äº†äº¤äº’æ¬¡æ•°ã€‚</li></ol><h2 id="HTTPåŸºæœ¬çŸ¥è¯†"><a href="#HTTPåŸºæœ¬çŸ¥è¯†" class="headerlink" title="HTTPåŸºæœ¬çŸ¥è¯†"></a>HTTPåŸºæœ¬çŸ¥è¯†</h2><h3 id="HTTPè¯·æ±‚ç»„æˆ"><a href="#HTTPè¯·æ±‚ç»„æˆ" class="headerlink" title="HTTPè¯·æ±‚ç»„æˆ"></a>HTTPè¯·æ±‚ç»„æˆ</h3><p><code>ä¸€ä¸ªHTTPè¯·æ±‚æŠ¥æ–‡ç”±å››ä¸ªéƒ¨åˆ†ç»„æˆï¼šè¯·æ±‚è¡Œã€è¯·æ±‚å¤´ã€ç©ºè¡Œã€è¯·æ±‚æ•°æ®ã€‚</code></p><ol><li><p>è¯·æ±‚è¡Œ<br>è¯·æ±‚è¡Œç”±è¯·æ±‚æ–¹æ³•å­—æ®µã€URLå­—æ®µå’ŒHTTPåè®®ç‰ˆæœ¬å­—æ®µ3ä¸ªå­—æ®µç»„æˆï¼Œ<br>å®ƒä»¬ç”¨ç©ºæ ¼åˆ†éš”ã€‚æ¯”å¦‚ GET /data/info.html HTTP/1.1</p></li><li><p>è¯·æ±‚å¤´éƒ¨<br>HTTPå®¢æˆ·ç¨‹åº(ä¾‹å¦‚æµè§ˆå™¨)ï¼Œå‘æœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™å¿…é¡»æŒ‡æ˜è¯·æ±‚ç±»å‹(ä¸€èˆ¬æ˜¯GETæˆ–è€… POST)ã€‚<br>å¦‚æœ‰å¿…è¦ï¼Œå®¢æˆ·ç¨‹åºè¿˜å¯ä»¥é€‰æ‹©å‘é€å…¶ä»–çš„è¯·æ±‚å¤´ã€‚å¤§å¤šæ•°è¯·æ±‚å¤´å¹¶ä¸æ˜¯å¿…éœ€çš„ï¼Œã€‚<br>å¸¸è§çš„è¯·æ±‚å¤´å­—æ®µä»¥åŠä»–çš„å«ä¹‰ï¼š</p><ol><li><code>Accept</code>ï¼šæµè§ˆå™¨å¯æ¥å—çš„MIMEç±»å‹ã€‚</li><li><code>Accept-Charset</code>ï¼šæµè§ˆå™¨å¯æ¥å—çš„å­—ç¬¦é›†ã€‚</li><li><code>Accept-Encoding</code>ï¼šæµè§ˆå™¨èƒ½å¤Ÿè¿›è¡Œè§£ç çš„æ•°æ®ç¼–ç æ–¹å¼ï¼Œ<pre><code>             æ¯”å¦‚gzipã€‚Servletèƒ½å¤Ÿå‘æ”¯æŒgzipçš„æµè§ˆå™¨             è¿”å›ç»gzipç¼–ç çš„HTMLé¡µé¢ã€‚è®¸å¤šæƒ…å½¢ä¸‹è¿™å¯ä»¥å‡å°‘5åˆ°10å€çš„ä¸‹è½½æ—¶é—´ã€‚</code></pre></li><li><code>Accept-Languag</code>eï¼šæµè§ˆå™¨è¯­è¨€ç§ç±»ï¼Œ</li><li>Authorizationï¼šæˆæƒä¿¡æ¯ï¼Œé€šå¸¸å‡ºç°åœ¨å¯¹æœåŠ¡å™¨å‘é€çš„WWW-Authenticateå¤´åº”ç­”</li><li><code>Content-Length</code>ï¼šè¡¨ç¤ºè¯·æ±‚æ¶ˆæ¯æ­£æ–‡çš„é•¿åº¦ã€‚</li><li><code>Host</code>ï¼š å®¢æˆ·æœºå‘Šè¯‰æœåŠ¡å™¨ï¼Œæƒ³è®¿é—®çš„ä¸»æœºåã€‚</li><li>If-Modified-Sinceï¼šå®¢æˆ·æœºå‘Šè¯‰æœåŠ¡å™¨ï¼Œèµ„æºçš„ç¼“å­˜æ—¶é—´ã€‚</li><li><code>Referer</code>ï¼šå®¢æˆ·æœºå‘Šè¯‰æœåŠ¡å™¨ï¼Œå®ƒæ˜¯ä»å“ªä¸ªèµ„æºæ¥è®¿é—®æœåŠ¡å™¨çš„(é˜²ç›—é“¾)ã€‚</li><li><code>User-Agent</code>ï¼šUser-Agentå¤´åŸŸçš„å†…å®¹åŒ…å«å‘å‡ºè¯·æ±‚çš„ç”¨æˆ·ä¿¡æ¯ã€‚</li><li>Cookieï¼šå®¢æˆ·æœºé€šè¿‡è¿™ä¸ªå¤´å¯ä»¥å‘æœåŠ¡å™¨å¸¦æ•°æ®ï¼Œè¿™æ˜¯æœ€é‡è¦çš„è¯·æ±‚å¤´ä¿¡æ¯ä¹‹ä¸€ã€‚</li></ol></li><li><p>ç©ºè¡Œ<br>å®ƒçš„ä½œç”¨æ˜¯é€šè¿‡ä¸€ä¸ªç©ºè¡Œï¼Œ<code>å‘Šè¯‰æœåŠ¡å™¨è¯·æ±‚å¤´éƒ¨åˆ°æ­¤ä¸ºæ­¢</code>ã€‚</p></li><li><p>è¯·æ±‚æ•°æ®</p><p>è‹¥æ–¹æ³•å­—æ®µæ˜¯<code>POST</code>,åˆ™é€šå¸¸æ¥è¯´æ­¤å¤„æ”¾ç½®çš„å°±æ˜¯è¦<code>æäº¤çš„æ•°æ®</code></p></li></ol><h3 id="Getä¸Post"><a href="#Getä¸Post" class="headerlink" title="Getä¸Post"></a>Getä¸Post</h3><ol><li>Getæ˜¯è¯·æ±‚ä»æœåŠ¡å™¨è·å–èµ„æºï¼ŒPostç”¨äº<code>ä¼ è¾“å®ä½“æœ¬ä½“</code></li><li>getå’Œpostè¯·æ±‚éƒ½èƒ½ä½¿ç”¨é¢å¤–çš„<code>å‚æ•°</code>ï¼Œ<br>getå‚æ•°æ˜¯ä»¥æŸ¥è¯¢å­—ç¬¦ä¸²å‡ºç°åœ¨URLä¸­ï¼Œpostå‚æ•°å­˜å‚¨åœ¨å®ä½“ä¸»ä½“ä¸­</li><li>Httpæ–¹æ³•ä¸ä¼šæ”¹å˜æœåŠ¡å™¨çŠ¶æ€ï¼Œgetæ–¹æ³•æ˜¯<code>å®‰å…¨</code>çš„ï¼Œ<br>è€Œpostç”±äºæ˜¯ä¼ é€å®ä½“ä¸»ä½“å†…å®¹ï¼Œè¿™ä¸ªå†…å®¹å¯èƒ½æ˜¯ç”¨æˆ·ä¸Šä¼ çš„è¡¨å•æ•°æ®ï¼Œ<br>ä¸Šä¼ æˆåŠŸåï¼ŒæœåŠ¡å™¨å¯èƒ½æŠŠè¿™ä¸ªæ•°æ®å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œå› æ­¤çŠ¶æ€ä¹Ÿå°±å‘ç”Ÿäº†å˜åŒ–</li><li>getåœ¨è°ƒç”¨å¤šæ¬¡æ—¶ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æ˜¯å¹‚ç­‰ï¼›<br>postè°ƒç”¨å¤šæ¬¡ï¼Œä¼šå¢åŠ å¤šè¡Œè®°å½•ï¼Œä¸æ˜¯<code>å¹‚ç­‰</code></li></ol><h3 id="çŠ¶æ€ç "><a href="#çŠ¶æ€ç " class="headerlink" title="çŠ¶æ€ç "></a>çŠ¶æ€ç </h3><p>2xx ï¼ˆ3ç§ï¼‰</p><ol><li>200 ï¼šè¡¨ç¤ºä»å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡å™¨çš„è¯·æ±‚è¢«æ­£å¸¸å¤„ç†å¹¶è¿”å›ï¼›</li><li>204 ï¼šè¡¨ç¤ºå®¢æˆ·ç«¯å‘é€ç»™å®¢æˆ·ç«¯çš„è¯·æ±‚å¾—åˆ°äº†æˆåŠŸå¤„ç†ï¼Œ</li><li>206 ï¼šè¡¨ç¤ºå®¢æˆ·ç«¯è¿›è¡Œäº†èŒƒå›´è¯·æ±‚ã€‚<br>3xx ï¼ˆ5ç§ï¼‰</li><li>301 Moved Permanentlyï¼šæ°¸ä¹…æ€§é‡å®šå‘ï¼Œè¡¨ç¤ºè¯·æ±‚çš„èµ„æºè¢«åˆ†é…äº†æ–°çš„URLï¼Œä¹‹ååº”ä½¿ç”¨æ›´æ”¹çš„URLï¼›</li><li>302 Foundï¼šä¸´æ—¶æ€§é‡å®šå‘ï¼Œè¡¨ç¤ºè¯·æ±‚çš„èµ„æºè¢«åˆ†é…äº†æ–°çš„URLï¼Œå¸Œæœ›æœ¬æ¬¡è®¿é—®ä½¿ç”¨æ–°çš„URLï¼›<br>   301ä¸302çš„åŒºåˆ«ï¼šå‰è€…æ˜¯æ°¸ä¹…ç§»åŠ¨ï¼Œåè€…æ˜¯ä¸´æ—¶ç§»åŠ¨ï¼ˆä¹‹åå¯èƒ½è¿˜ä¼šæ›´æ”¹URLï¼‰</li><li>303 See Otherï¼šè¡¨ç¤ºè¯·æ±‚çš„èµ„æºè¢«åˆ†é…äº†æ–°çš„URLï¼Œåº”ä½¿ç”¨GETæ–¹æ³•å®šå‘è·å–è¯·æ±‚çš„èµ„æºï¼›<br>   302ä¸303çš„åŒºåˆ«ï¼šåè€…æ˜ç¡®è¡¨ç¤ºå®¢æˆ·ç«¯åº”å½“é‡‡ç”¨GETæ–¹å¼è·å–èµ„æº</li><li>304 Not Modifiedï¼šè¡¨ç¤ºå®¢æˆ·ç«¯å‘é€é™„å¸¦æ¡ä»¶<pre><code>             ï¼ˆæ˜¯æŒ‡é‡‡ç”¨GETæ–¹æ³•çš„è¯·æ±‚æŠ¥æ–‡ä¸­åŒ…å«if-Matchã€If-Modified-Sinceã€               If-None-Matchã€If-Rangeã€If-Unmodified-Sinceä¸­ä»»ä¸€é¦–éƒ¨ï¼‰               çš„è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ç«¯å…è®¸è®¿é—®èµ„æºï¼Œä½†æ˜¯è¯·æ±‚ä¸ºæ»¡è¶³æ¡ä»¶çš„æƒ…å†µä¸‹è¿”å›æ”¹çŠ¶æ€ç ï¼›</code></pre></li><li>307 Temporary Redirectï¼šä¸´æ—¶é‡å®šå‘ï¼Œä¸303æœ‰ç€ç›¸åŒçš„å«ä¹‰ï¼Œ<br>307ä¼šéµç…§æµè§ˆå™¨æ ‡å‡†ä¸ä¼šä»POSTå˜æˆGETï¼›ï¼ˆä¸åŒæµè§ˆå™¨å¯èƒ½ä¼šå‡ºç°ä¸åŒçš„æƒ…å†µï¼‰ï¼›<br>4xx ï¼ˆ4ç§ï¼‰</li><li>400 Bad Requestï¼šè¡¨ç¤ºè¯·æ±‚æŠ¥æ–‡ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯ï¼›</li><li>401 Unauthorizedï¼šæœªç»è®¸å¯ï¼Œéœ€è¦é€šè¿‡HTTPè®¤è¯ï¼›</li><li>403 Forbiddenï¼šæœåŠ¡å™¨æ‹’ç»è¯¥æ¬¡è®¿é—®ï¼ˆè®¿é—®æƒé™å‡ºç°é—®é¢˜ï¼‰</li><li>404 Not Foundï¼šè¡¨ç¤ºæœåŠ¡å™¨ä¸Šæ— æ³•æ‰¾åˆ°è¯·æ±‚çš„èµ„æºï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œ<pre><code>           ä¹Ÿå¯ä»¥åœ¨æœåŠ¡å™¨æ‹’ç»è¯·æ±‚ä½†ä¸æƒ³ç»™æ‹’ç»åŸå› æ—¶ä½¿ç”¨ï¼›</code></pre>5xx ï¼ˆ2ç§ï¼‰</li><li>500 Inter Server Errorï¼šè¡¨ç¤ºæœåŠ¡å™¨åœ¨æ‰§è¡Œè¯·æ±‚æ—¶å‘ç”Ÿäº†é”™è¯¯ï¼Œ<pre><code>                    ä¹Ÿæœ‰å¯èƒ½æ˜¯webåº”ç”¨å­˜åœ¨çš„bugæˆ–æŸäº›ä¸´æ—¶çš„é”™è¯¯æ—¶ï¼›</code></pre></li><li>503 Server Unavailableï¼šè¡¨ç¤ºæœåŠ¡å™¨æš‚æ—¶å¤„äºè¶…è´Ÿè½½æˆ–æ­£åœ¨è¿›è¡Œåœæœºç»´æŠ¤ï¼Œ<pre><code>                    æ— æ³•å¤„ç†è¯·æ±‚ï¼›</code></pre></li></ol><h2 id="ä¸€ä¸ª-TCP-è¿æ¥åæ˜¯å¦ä¼šåœ¨ä¸€ä¸ª-HTTP-è¯·æ±‚å®Œæˆåæ–­å¼€ï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹ä¼šæ–­å¼€ï¼Ÿ"><a href="#ä¸€ä¸ª-TCP-è¿æ¥åæ˜¯å¦ä¼šåœ¨ä¸€ä¸ª-HTTP-è¯·æ±‚å®Œæˆåæ–­å¼€ï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹ä¼šæ–­å¼€ï¼Ÿ" class="headerlink" title="ä¸€ä¸ª TCP è¿æ¥åæ˜¯å¦ä¼šåœ¨ä¸€ä¸ª HTTP è¯·æ±‚å®Œæˆåæ–­å¼€ï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹ä¼šæ–­å¼€ï¼Ÿ"></a>ä¸€ä¸ª TCP è¿æ¥åæ˜¯å¦ä¼šåœ¨ä¸€ä¸ª HTTP è¯·æ±‚å®Œæˆåæ–­å¼€ï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹ä¼šæ–­å¼€ï¼Ÿ</h2><p>åœ¨ HTTP/1.0 ä¸­ï¼Œ<code>ä¸€ä¸ªæœåŠ¡å™¨åœ¨å‘é€å®Œä¸€ä¸ª HTTP å“åº”å</code>ï¼Œä¼šæ–­å¼€ TCP é“¾æ¥ã€‚<br>ä½†æ˜¯è¿™æ ·æ¯æ¬¡è¯·æ±‚éƒ½ä¼šé‡æ–°å»ºç«‹å’Œæ–­å¼€ TCP è¿æ¥ï¼Œä»£ä»·è¿‡å¤§ã€‚æ‰€ä»¥è™½ç„¶æ ‡å‡†ä¸­æ²¡æœ‰è®¾å®šï¼Œ<br>æŸäº›æœåŠ¡å™¨å¯¹ <code>Connection: keep-alive çš„ Header </code>è¿›è¡Œäº†æ”¯æŒã€‚<br>æ„æ€æ˜¯è¯´ï¼Œå®Œæˆè¿™ä¸ª HTTP è¯·æ±‚ä¹‹åï¼Œä¸è¦æ–­å¼€ HTTP è¯·æ±‚ä½¿ç”¨çš„ TCP è¿æ¥ã€‚<br>è¿™æ ·çš„å¥½å¤„æ˜¯è¿æ¥å¯ä»¥è¢«é‡æ–°ä½¿ç”¨   ï¼Œ <code>ä¹‹åå‘é€ HTTP è¯·æ±‚çš„æ—¶å€™ä¸éœ€è¦é‡æ–°å»ºç«‹ TCP è¿æ¥ï¼Œ</code><br>ä»¥åŠå¦‚æœç»´æŒè¿æ¥ï¼Œé‚£ä¹ˆ SSL çš„å¼€é”€ä¹Ÿå¯ä»¥é¿å…</p><h2 id="URIå’ŒURLçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"><a href="#URIå’ŒURLçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" class="headerlink" title="URIå’ŒURLçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ?"></a>URIå’ŒURLçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ?</h2><p><strong>URI(Uniform Resource Identifier) æ˜¯<code>ç»Ÿâ¼€èµ„æºæ ‡å¿—ç¬¦</code>ï¼Œå¯ä»¥å”¯â¼€æ ‡è¯†â¼€ä¸ªèµ„æºã€‚<br>URL(Uniform Resource Location) æ˜¯ç»Ÿâ¼€èµ„æºå®šä½.URLæ˜¯URIçš„ä¸€ä¸ªå­é›†ã€‚å®ƒæ˜¯â¼€ç§å…·ä½“çš„URIï¼Œå³ URL å¯ä»¥â½¤æ¥æ ‡è¯†â¼€ä¸ªèµ„æºï¼Œ<code>â½½ä¸”è¿˜æŒ‡æ˜äº†å¦‚ä½• locate è¿™ä¸ªèµ„æº</code>ã€‚<br>URLä¸€èˆ¬ç”±ä¸‰éƒ¨ç»„æˆ<br>â‘ <code>åè®®(</code>æˆ–ç§°ä¸ºæœåŠ¡æ–¹å¼)<br>â‘¡<code>å­˜æœ‰è¯¥èµ„æºçš„ä¸»æœºIPåœ°å€</code>(æœ‰æ—¶ä¹ŸåŒ…æ‹¬ç«¯å£å·)<br>â‘¢<code>ä¸»æœºèµ„æºçš„å…·ä½“åœ°å€ã€‚å¦‚ç›®å½•å’Œæ–‡ä»¶åç­‰ã€‚</code><br>ä¾‹å¦‚ï¼š<a href="http://www.jianshu.com/u/606fd5f5448c">http://www.jianshu.com/u/606fd5f5448c</a><br>URLæ˜¯URIçš„å­é›†ï¼Œæ‰€æœ‰çš„URLéƒ½æ˜¯URIï¼Œä½†ä¸æ˜¯æ¯ä¸ªURIéƒ½æ˜¯URLï¼Œè¿˜æœ‰å¯èƒ½æ˜¯URN.</strong></p><h2 id="httpå·¥ä½œæµç¨‹-è¾“å…¥ç½‘å€è¿‡ç¨‹"><a href="#httpå·¥ä½œæµç¨‹-è¾“å…¥ç½‘å€è¿‡ç¨‹" class="headerlink" title="httpå·¥ä½œæµç¨‹-è¾“å…¥ç½‘å€è¿‡ç¨‹"></a>httpå·¥ä½œæµç¨‹-è¾“å…¥ç½‘å€è¿‡ç¨‹</h2><p>åŸŸåè§£æ -&gt; ä¸‰æ¬¡æ¡æ‰‹ -&gt; å‘èµ·HTTPè¯·æ±‚ -&gt; å“åº”HTTPè¯·æ±‚å¹¶å¾—åˆ°HTMLä»£ç <br>-&gt; æµè§ˆå™¨è§£æHTMLä»£ç   -&gt; æµè§ˆå™¨å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“å‘ˆç°ç»™ç”¨æˆ·</p><ol><li>è¾“å…¥åœ°å€,å¯¹URLè¿›â¾è§£æï¼Œä»â½½â½£æˆå‘é€ç»™WebæœåŠ¡å™¨çš„è¯·æ±‚ä¿¡æ¯ã€‚</li><li>æµè§ˆå™¨æŸ¥æ‰¾åŸŸåçš„IPåœ°å€,å› ä¸ºå§”æ‰˜æ“ä½œç³»ç»Ÿå‘é€æ¶ˆæ¯æ—¶ï¼Œå¿…é¡»æä¾›é€šä¿¡å¯¹è±¡çš„ IP åœ°å€ã€‚ã€€<ol><li>æµè§ˆå™¨ä¼šé¦–å…ˆæŸ¥çœ‹æœ¬åœ°ç¡¬ç›˜çš„hostsæ–‡ä»¶ï¼Œçœ‹çœ‹å…¶ä¸­æœ‰æ²¡æœ‰å’Œè¿™ä¸ªåŸŸåå¯¹åº”çš„è§„åˆ™ï¼Œ<br>å¦‚æœæœ‰çš„è¯å°±ç›´æ¥ä½¿ç”¨hostsæ–‡ä»¶é‡Œé¢çš„ipåœ°å€ã€‚</li><li>å¦‚æœåœ¨æœ¬åœ°çš„hostsæ–‡ä»¶æ²¡æœ‰èƒ½å¤Ÿæ‰¾åˆ°å¯¹åº”çš„ipåœ°å€ï¼Œ<br>æµè§ˆå™¨ä¼šå‘å‡ºä¸€ä¸ªDNSè¯·æ±‚åˆ°<code>æœ¬åœ°DNSæœåŠ¡å™¨</code></li><li>æŸ¥è¯¢ä½ è¾“å…¥çš„ç½‘å€çš„DNSè¯·æ±‚åˆ°è¾¾æœ¬åœ°DNSæœåŠ¡å™¨ä¹‹åï¼Œ<br>æœ¬åœ°DNSæœåŠ¡å™¨ä¼šé¦–å…ˆæŸ¥è¯¢å®ƒçš„ç¼“å­˜è®°å½•ï¼Œå¦‚æœç¼“å­˜ä¸­æœ‰æ­¤æ¡è®°å½•ï¼Œ<br>å°±å¯ä»¥ç›´æ¥è¿”å›ç»“æœï¼Œæ­¤è¿‡ç¨‹æ˜¯é€’å½’çš„æ–¹å¼è¿›è¡ŒæŸ¥è¯¢ã€‚<br>å¦‚æœæ²¡æœ‰ï¼Œæœ¬åœ°DNSæœåŠ¡å™¨è¿˜è¦å‘DNSæ ¹æœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ã€‚</li><li>æ ¹DNSæœåŠ¡å™¨æ²¡æœ‰è®°å½•å…·ä½“çš„åŸŸåå’ŒIPåœ°å€çš„å¯¹åº”å…³ç³»ï¼Œ<br>è€Œæ˜¯å‘Šè¯‰æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œä½ å¯ä»¥åˆ°<code>åŸŸæœåŠ¡å™¨ä¸Š</code>å»ç»§ç»­æŸ¥è¯¢ï¼Œ<br>å¹¶ç»™å‡ºåŸŸæœåŠ¡å™¨çš„åœ°å€ã€‚è¿™ç§è¿‡ç¨‹æ˜¯è¿­ä»£çš„è¿‡ç¨‹ã€‚</li><li>æœ¬åœ°DNSæœåŠ¡å™¨ç»§ç»­å‘åŸŸæœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œæ¯”å¦‚è¯´è¯·æ±‚çš„å¯¹è±¡æ˜¯.comåŸŸæœåŠ¡å™¨ã€‚<br>.comåŸŸæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ä¹‹åï¼Œä¹Ÿä¸ä¼šç›´æ¥è¿”å›åŸŸåå’ŒIPåœ°å€çš„å¯¹åº”å…³ç³»ï¼Œ<br>è€Œæ˜¯å‘Šè¯‰æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œ<code>ä½ çš„åŸŸåçš„è§£ææœåŠ¡å™¨</code>çš„åœ°å€</li><li>æœ€åï¼Œæœ¬åœ°DNSæœåŠ¡å™¨å‘åŸŸåçš„è§£ææœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œè¿™æ—¶å°±èƒ½æ”¶åˆ°ä¸€ä¸ªåŸŸåå’ŒIPåœ°å€å¯¹åº”å…³ç³»ï¼Œ<br><code>æœ¬åœ°DNSæœåŠ¡å™¨ä¸ä»…è¦æŠŠIPåœ°å€è¿”å›ç»™ç”¨æˆ·ç”µè„‘ï¼Œè¿˜è¦æŠŠè¿™ä¸ªå¯¹åº”å…³ç³»ä¿å­˜åœ¨ç¼“å­˜ä¸­ï¼Œ</code><br>ä»¥å¤‡ä¸‹æ¬¡åˆ«çš„ç”¨æˆ·æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥ç›´æ¥è¿”å›ç»“æœï¼Œ<code>åŠ å¿«ç½‘ç»œè®¿é—®ã€‚</code></li></ol></li><li>æµè§ˆå™¨å‘webæœåŠ¡å™¨å‘é€ä¸€ä¸ªHTTPè¯·æ±‚<br>   é€šè¿‡DNSè·å–åˆ°IPåï¼Œå°±å¯ä»¥æŠŠHTTPçš„ä¼ è¾“â¼¯ä½œäº¤ç»™æ“ä½œç³»ç»Ÿä¸­çš„åè®®æ ˆã€‚<br>   åè®®æ ˆçš„å†…éƒ¨åˆ†ä¸ºâ¼ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ‰¿æ‹…ä¸åŒçš„â¼¯ä½œã€‚<br>   ä¸Šä¸‹å…³ç³»æ˜¯æœ‰â¼€å®šçš„è§„åˆ™çš„ï¼Œä¸Šâ¾¯çš„éƒ¨åˆ†ä¼šå‘ä¸‹â¾¯çš„éƒ¨åˆ†å§”æ‰˜â¼¯ä½œï¼Œ<br>   ä¸‹â¾¯çš„éƒ¨åˆ†æ”¶åˆ°å§”æ‰˜çš„â¼¯ä½œå¹¶æ‰§â¾ã€‚<br>   åº”â½¤ç¨‹åºä¹Ÿå°±æ˜¯æµè§ˆå™¨é€šè¿‡è°ƒâ½¤ Socket åº“ï¼Œæ¥å§”æ‰˜åè®®æ ˆâ¼¯ä½œã€‚<br>   åè®®æ ˆçš„ä¸ŠåŠéƒ¨åˆ†æœ‰ä¸¤å—ï¼Œåˆ†åˆ«æ˜¯è´Ÿè´£æ”¶å‘æ•°æ®çš„ TCP å’Œ UDP åè®®ï¼Œ<br>   å®ƒä»¬ä¸¤ä¼šæ¥å—åº”â½¤å±‚çš„å§”æ‰˜æ‰§â¾æ”¶å‘æ•°æ®çš„æ“ä½œã€‚<br>   åè®®æ ˆçš„ä¸‹â¼€åŠæ˜¯â½¤IPåè®®æ§åˆ¶â½¹ç»œåŒ…æ”¶å‘æ“ä½œï¼Œ<br>   åœ¨äº’è”â½¹ä¸Šä¼ æ•°æ®æ—¶ï¼Œæ•°æ®ä¼šè¢«åˆ‡åˆ†æˆâ¼€å—å—çš„â½¹ç»œåŒ…ï¼Œ<br>   â½½å°†â½¹ç»œåŒ…å‘é€ç»™å¯¹â½…çš„æ“ä½œå°±æ˜¯ç”± IP è´Ÿè´£çš„ã€‚<br>   IP ä¸‹â¾¯çš„â½¹å¡é©±åŠ¨ç¨‹åºè´Ÿè´£æ§åˆ¶â½¹å¡ç¡¬ä»¶ï¼Œ<br>   â½½æœ€ä¸‹â¾¯çš„â½¹å¡åˆ™è´Ÿè´£å®Œæˆå®é™…çš„æ”¶å‘æ“ä½œï¼Œ<br>   ä¹Ÿå°±æ˜¯å¯¹â½¹çº¿ä¸­çš„ä¿¡å·æ‰§â¾å‘é€å’Œæ¥æ”¶æ“ä½œã€‚<br>   æ‹¿åˆ°åŸŸåå¯¹åº”çš„IPåœ°å€ä¹‹åï¼Œ<br>   æµè§ˆå™¨ä¼šä»¥ä¸€ä¸ªéšæœºç«¯å£å‘æœåŠ¡å™¨çš„WEBç¨‹åº80ç«¯å£å‘èµ·TCPçš„è¿æ¥è¯·æ±‚ã€‚<br>   è¿™ä¸ªè¿æ¥è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ç«¯åï¼Œè¿›å…¥åˆ°ç½‘å¡ï¼Œç„¶åæ˜¯è¿›å…¥åˆ°å†…æ ¸çš„TCP/IPåè®®æ ˆï¼Œ<br>   è¿˜æœ‰å¯èƒ½è¦ç»è¿‡é˜²ç«å¢™çš„è¿‡æ»¤ï¼Œæœ€ç»ˆåˆ°è¾¾WEBç¨‹åºï¼Œæœ€ç»ˆå»ºç«‹äº†TCP/IPçš„è¿æ¥ã€‚</li><li>æœåŠ¡å™¨å¤„ç†è¯·æ±‚<br>   httpè¯·æ±‚å‘é€åˆ°äº†æœåŠ¡å™¨ï¼Œåç«¯ä»åœ¨å›ºå®šçš„ç«¯å£æ¥æ”¶åˆ°TCPæŠ¥æ–‡å¼€å§‹ï¼Œ<br>   å®ƒä¼šå¯¹TCPè¿æ¥è¿›è¡Œå¤„ç†ï¼Œå¯¹HTTPåè®®è¿›è¡Œè§£æï¼Œ<br>   å¹¶æŒ‰ç…§æŠ¥æ–‡æ ¼å¼è¿›ä¸€æ­¥å°è£…æˆHTTP Requestå¯¹è±¡ï¼Œä¾›ä¸Šå±‚ä½¿ç”¨ã€‚</li><li>æœåŠ¡å™¨è¿”å›ä¸€ä¸ªHTTPå“åº”ã€€<br>   æœåŠ¡å™¨æ”¶åˆ°äº†æˆ‘ä»¬çš„è¯·æ±‚ï¼Œä¹Ÿå¤„ç†æˆ‘ä»¬çš„è¯·æ±‚ï¼Œ<br>   åˆ°è¿™ä¸€æ­¥ï¼Œå®ƒä¼šæŠŠå®ƒçš„å¤„ç†ç»“æœè¿”å›ï¼Œä¹Ÿå°±æ˜¯è¿”å›ä¸€ä¸ªHTPPå“åº”ã€‚</li><li>æµè§ˆå™¨æ˜¾ç¤º HTML,å¹¶è¯·æ±‚è·å–åµŒå…¥åœ¨HTMLçš„èµ„æº</li></ol><h3 id="ä¸ºä»€ä¹ˆåŸŸåè¦åˆ†çº§è®¾è®¡"><a href="#ä¸ºä»€ä¹ˆåŸŸåè¦åˆ†çº§è®¾è®¡" class="headerlink" title="ä¸ºä»€ä¹ˆåŸŸåè¦åˆ†çº§è®¾è®¡"></a>ä¸ºä»€ä¹ˆåŸŸåè¦åˆ†çº§è®¾è®¡</h3><p>DNS ä¸­çš„åŸŸåéƒ½æ˜¯â½¤å¥ç‚¹æ¥åˆ†éš”çš„ï¼Œä»£è¡¨äº†ä¸åŒå±‚æ¬¡ä¹‹é—´çš„ç•Œé™ã€‚</p><p>åŸŸåçš„å±‚çº§å…³ç³»ç±»ä¼¼â¼€ä¸ªæ ‘çŠ¶ç»“æ„ï¼š<br>æ ¹ DNS æœåŠ¡å™¨<br>é¡¶çº§åŸŸ DNS æœåŠ¡å™¨ï¼ˆcomï¼‰<br>æƒå¨ DNS æœåŠ¡å™¨ï¼ˆserver.comï¼‰</p><p>å› æ­¤ï¼Œå®¢æˆ·ç«¯åªè¦èƒ½å¤Ÿæ‰¾åˆ°ä»»æ„â¼€å° DNS æœåŠ¡å™¨ï¼Œ<br>å°±å¯ä»¥é€šè¿‡å®ƒæ‰¾åˆ°æ ¹åŸŸ DNS æœåŠ¡å™¨ï¼Œç„¶åå†â¼€è·¯é¡º<br>è—¤æ‘¸â½ æ‰¾åˆ°ä½äºä¸‹å±‚çš„æŸå°â½¬æ ‡ DNS æœåŠ¡å™¨ã€‚</p><h3 id="é‡å®šå‘åŸå› "><a href="#é‡å®šå‘åŸå› " class="headerlink" title="é‡å®šå‘åŸå› "></a>é‡å®šå‘åŸå› </h3><ol><li>ç½‘ç«™è°ƒæ•´ï¼ˆå¦‚æ”¹å˜ç½‘é¡µç›®å½•ç»“æ„ï¼‰ï¼›</li><li>ç½‘é¡µè¢«ç§»åˆ°ä¸€ä¸ªæ–°åœ°å€ï¼›</li><li>ç½‘é¡µæ‰©å±•åæ”¹å˜(å¦‚åº”ç”¨éœ€è¦æŠŠ.phpæ”¹æˆ.Htmlæˆ–.shtml)ã€‚</li></ol><p>è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœä¸åšé‡å®šå‘ï¼Œåˆ™ç”¨æˆ·æ”¶è—å¤¹æˆ–æœç´¢å¼•æ“æ•°æ®åº“ä¸­<br>æ—§åœ°å€åªèƒ½è®©è®¿é—®å®¢æˆ·å¾—åˆ°ä¸€ä¸ª404é¡µé¢é”™è¯¯ä¿¡æ¯ï¼Œè®¿é—®æµé‡ç™½ç™½ä¸§å¤±ï¼›<br>è¿˜æœ‰å°±æ˜¯æŸäº›æ³¨å†Œäº†å¤šä¸ªåŸŸåçš„ç½‘ç«™ï¼Œ<br>ä¹Ÿéœ€è¦é€šè¿‡é‡å®šå‘è®©è®¿é—®è¿™äº›åŸŸåçš„ç”¨æˆ·è‡ªåŠ¨è·³è½¬åˆ°ä¸»ç«™ç‚¹ç­‰</p>]]></content>
      
      
      <categories>
          
          <category> HTTP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="2020/12/29/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/offer/-%E6%9C%80%E5%B0%8F%E7%9A%84k%E4%B8%AA%E6%95%B0/"/>
      <url>2020/12/29/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/offer/-%E6%9C%80%E5%B0%8F%E7%9A%84k%E4%B8%AA%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="heap"><a href="#heap" class="headerlink" title="heap"></a>heap</h2><p>class Solution {<br>    public int[] getLeastNumbers(int[] nums, int k) {<br>        int[] arr = new int[k];<br>        if(k==0) return arr;<br>        PriorityQueue<Integer> queue= new PriorityQueue&lt;&gt;((o1,o2)-&gt;o2-o1);</p><pre><code>    for(int num :nums)&#123;        queue.add(num);        if(queue.size()&gt;k)&#123;            queue.poll();        &#125;    &#125;    for(int i = 0 ; i &lt; arr.length;i++)&#123;        arr[i]=queue.poll();    &#125;    return arr;&#125;</code></pre><p>}<br>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogk)ï¼Œå…¶ä¸­ nn æ˜¯æ•°ç»„ arr çš„é•¿åº¦ã€‚ç”±äºå¤§æ ¹å †å®æ—¶ç»´æŠ¤å‰ kk å°å€¼ï¼Œæ‰€ä»¥æ’å…¥åˆ é™¤éƒ½æ˜¯ O(\log k)O(logk) çš„æ—¶é—´å¤æ‚åº¦ï¼Œæœ€åæƒ…å†µä¸‹æ•°ç»„é‡Œ nn ä¸ªæ•°éƒ½ä¼šæ’å…¥ï¼Œæ‰€ä»¥ä¸€å…±éœ€è¦ O(nlogk) çš„æ—¶é—´å¤æ‚åº¦ã€‚</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(k)ï¼Œå› ä¸ºå¤§æ ¹å †é‡Œæœ€å¤š k ä¸ªæ•°ã€‚</p><h2 id="quickselect"><a href="#quickselect" class="headerlink" title="quickselect"></a>quickselect</h2>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="2020/12/29/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/offer/-%E8%B0%83%E6%95%B4%E6%95%B0%E7%BB%84%E9%A1%BA%E5%BA%8F%E4%BD%BF%E5%A5%87%E6%95%B0%E4%BD%8D%E4%BA%8E%E5%81%B6%E6%95%B0%E5%89%8D%E9%9D%A2/"/>
      <url>2020/12/29/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/offer/-%E8%B0%83%E6%95%B4%E6%95%B0%E7%BB%84%E9%A1%BA%E5%BA%8F%E4%BD%BF%E5%A5%87%E6%95%B0%E4%BD%8D%E4%BA%8E%E5%81%B6%E6%95%B0%E5%89%8D%E9%9D%A2/</url>
      
        <content type="html"><![CDATA[<hr><p>è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢</p><p>ç±»æ¯”å¿«é€Ÿæ’åºpaitition</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public int[] exchange(int[] nums) &#123;        int cur &#x3D; 0;        for(int i &#x3D; 0 ; i &lt;nums.length;i++)&#123;            if(nums[i]%2&#x3D;&#x3D;1)&#123;                int tmp &#x3D; nums[cur];nums[cur] &#x3D; nums[i];nums[i]&#x3D;tmp;                cur++;            &#125;        &#125;        return nums;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å¿«é€Ÿæ’åº--é¢œè‰²åˆ†ç±»é—®é¢˜(è·å…°å›½æ——),æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ ,</title>
      <link href="2020/12/28/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E5%BC%95%E5%8F%91%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>2020/12/28/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E5%BC%95%E5%8F%91%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ "><a href="#æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ " class="headerlink" title="æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ "></a>æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ </h2><p>åœ¨æœªæ’åºçš„æ•°ç»„ä¸­æ‰¾åˆ°ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ã€‚è¯·æ³¨æ„ï¼Œä½ éœ€è¦æ‰¾çš„æ˜¯æ•°ç»„æ’åºåçš„ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œè€Œä¸æ˜¯ç¬¬ k ä¸ªä¸åŒçš„å…ƒç´ ã€‚</p><hr><p><code>ç¤ºä¾‹ 1: è¾“å…¥: [3,2,1,5,6,4] å’Œ k = 2 è¾“å‡º: 5</code></p><hr><h3 id="å…ˆæ’åºå†æŸ¥æ‰¾"><a href="#å…ˆæ’åºå†æŸ¥æ‰¾" class="headerlink" title="å…ˆæ’åºå†æŸ¥æ‰¾"></a>å…ˆæ’åºå†æŸ¥æ‰¾</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public int findKthLargest(int[] nums, int k) &#123;        Arrays.sort(nums);        return nums[nums.length-k];    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä½¿ç”¨æœ€å°å †"><a href="#ä½¿ç”¨æœ€å°å †" class="headerlink" title="ä½¿ç”¨æœ€å°å †"></a>ä½¿ç”¨æœ€å°å †</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æœ€å°å †æ¥è§£å†³ï¼Œä¸€ä¸ªä¸ªéå†åŸæ•°ç»„çš„å€¼ï¼Œæ·»åŠ åˆ°å †ä¸­ï¼Œå¦‚æœå †ä¸­å…ƒç´ çš„ä¸ªæ•°å°äºç­‰äºkçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¾€å †ä¸­æ·»åŠ ï¼Œæ·»åŠ ä¹‹åå¦‚æœå †ä¸­å…ƒç´ ä¸ªæ•°å¤§äºkçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±æŠŠæœ€é¡¶ç«¯çš„å…ƒç´ ç»™ç§»é™¤æ‰ï¼Œå› ä¸ºæ˜¯æœ€å°å †ï¼Œæ‰€ä»¥ç§»é™¤çš„å°±æ˜¯å †ä¸­æœ€å°çš„å€¼</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public int findKthLargest(int[] nums, int k) &#123;       &#x2F;&#x2F;æœ€å°å †       PriorityQueue&lt;Integer&gt; queue &#x3D; new PriorityQueue&lt;&gt;();       for(int num : nums)&#123;           queue.add(num);           if(queue.size()&gt;k)&#123;               queue.poll();           &#125;       &#125;       return queue.peek();    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¿«é€Ÿé€‰æ‹©"><a href="#å¿«é€Ÿé€‰æ‹©" class="headerlink" title="å¿«é€Ÿé€‰æ‹©"></a>å¿«é€Ÿé€‰æ‹©</h3><p>å¿«é€Ÿæ’åºæ˜¯å…ˆé€‰æ‹©ä¸€ä¸ªä¸­æ¢ï¼ˆä¸€èˆ¬æˆ‘ä»¬é€‰ç¬¬ä¸€ä¸ªï¼‰ï¼Œç„¶åéå†åé¢çš„å…ƒç´ ï¼Œæœ€ç»ˆä¼šæŠŠæ•°ç»„åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå‰é¢éƒ¨åˆ†æ¯”ä¸­æ¢å€¼å°ï¼Œåé¢éƒ¨åˆ†å¤§äºæˆ–ç­‰äºä¸­æ¢å€¼ï¼Œå¦‚æœäº¤æ¢ä¹‹åä¸­æ¢å€¼æ‰€åœ¨çš„ä½ç½®å°±æ˜¯ä»åé¢æ•°ç¬¬kä¸ªï¼Œæˆ‘ä»¬ç›´æ¥è¿”å›ä¸­æ¢å€¼å³å¯ï¼Œå¦‚æœä»åé¢æ•°å¤§äºç¬¬kä¸ªï¼Œæˆ‘ä»¬åªéœ€æŒ‰ç…§åŒæ ·çš„æ–¹å¼ä»åé¢éƒ¨åˆ†å¼€å§‹æ‰¾å³å¯ã€‚å¦‚æœä»åé¢æ•°å°äºç¬¬kä¸ªï¼Œæˆ‘ä»¬åŒæ ·ä»å‰é¢éƒ¨åˆ†å¼€å§‹æŸ¥æ‰¾ï¼Œ</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public int findKthLargest(int[] nums, int k) &#123;       &#x2F;&#x2F;å¿«é€Ÿé€‰æ‹©       int lo &#x3D; 0;       int hi &#x3D; nums.length-1;       int target &#x3D; nums.length-k;       while(lo &lt;&#x3D; hi)&#123;           int pivot &#x3D; partition(nums,lo,hi);           if(target&lt;pivot)&#123;               hi &#x3D; pivot-1;           &#125;else if(target &gt; pivot)&#123;               lo &#x3D; pivot+1;           &#125;else &#123;               return nums[pivot];           &#125;       &#125;       return -1;    &#125;    public int partition(int[] nums,int l,int r)&#123;        int cur &#x3D; l;        int end &#x3D; r;        for(int i &#x3D; l;i&lt;end;i++)&#123;            if(nums[i]&lt;nums[end])&#123;                swap(nums,i,cur);                cur++;            &#125;        &#125;        swap(nums,cur,end);        return cur;    &#125;    public void swap(int[] nums, int i, int j)&#123;        int tmp &#x3D; nums[i];        nums[i]&#x3D;nums[j];        nums[j]&#x3D;tmp;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h2 id="é¢œè‰²åˆ†ç±»-è·å…°å›½æ——é—®é¢˜"><a href="#é¢œè‰²åˆ†ç±»-è·å…°å›½æ——é—®é¢˜" class="headerlink" title="é¢œè‰²åˆ†ç±» è·å…°å›½æ——é—®é¢˜"></a>é¢œè‰²åˆ†ç±» è·å…°å›½æ——é—®é¢˜</h2><p>ç»™å®šä¸€ä¸ªåŒ…å«çº¢è‰²ã€ç™½è‰²å’Œè“è‰²ï¼Œä¸€å…± n ä¸ªå…ƒç´ çš„æ•°ç»„ï¼ŒåŸåœ°å¯¹å®ƒä»¬è¿›è¡Œæ’åºï¼Œä½¿å¾—ç›¸åŒé¢œè‰²çš„å…ƒç´ ç›¸é‚»ï¼Œå¹¶æŒ‰ç…§çº¢è‰²ã€ç™½è‰²ã€è“è‰²é¡ºåºæ’åˆ—ã€‚</p><p>æ­¤é¢˜ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° 0ã€ 1 å’Œ 2 åˆ†åˆ«è¡¨ç¤ºçº¢è‰²ã€ç™½è‰²å’Œè“è‰²ã€‚</p><p>ç»™å®šä¸€ä¸ªæ•°ç»„arrï¼Œå’Œä¸€ä¸ªæ•°numï¼Œè¯·æŠŠå°äºnumçš„æ•°æ”¾åœ¨æ•°ç»„çš„ å·¦è¾¹ï¼Œç­‰äºnumçš„æ•°æ”¾åœ¨æ•°ç»„çš„ä¸­é—´ï¼Œå¤§äºnumçš„æ•°æ”¾åœ¨æ•°ç»„çš„ å³è¾¹ã€‚</p><p><code>è¦æ±‚é¢å¤–ç©ºé—´å¤æ‚åº¦O(1)ï¼Œæ—¶é—´å¤æ‚åº¦O(N)</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public void sortColors(int[] nums) &#123;        &#x2F;&#x2F;partition        partition(nums,0,nums.length-1,1);    &#125;    public void partition(int[] nums,int l, int r,int pivot)&#123;        int start &#x3D; l-1;        int end &#x3D; r+1;        while(l&lt;end)&#123;            if(nums[l]&lt;pivot)&#123;                swap(nums,++start,l++);            &#125;else if(nums[l]&gt;pivot)&#123;                swap(nums,--end,l);            &#125;else &#123;                l++;            &#125;        &#125;    &#125;    public void swap(int[] nums,int i, int j)&#123;        int tmp &#x3D; nums[i];        nums[i]&#x3D;nums[j];        nums[j]&#x3D;tmp;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢"><a href="#è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢" class="headerlink" title="è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢"></a>è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public int[] exchange(int[] nums) &#123;        int cur &#x3D; 0;        for(int i &#x3D; 0 ; i &lt;nums.length;i++)&#123;            if(nums[i]%2&#x3D;&#x3D;1)&#123;                int tmp &#x3D; nums[cur];nums[cur] &#x3D; nums[i];nums[i]&#x3D;tmp;                cur++;            &#125;        &#125;        return nums;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> leedcode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åºç®—æ³• </tag>
            
            <tag> å¿«é€Ÿæ’åº </tag>
            
            <tag> leedcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="2020/12/24/%E9%9B%86%E5%90%88/hashmap/"/>
      <url>2020/12/24/%E9%9B%86%E5%90%88/hashmap/</url>
      
        <content type="html"><![CDATA[<p>è€Œ<code>åŠ è½½å› å­å°±æ˜¯è¡¨ç¤ºHashè¡¨ä¸­å…ƒç´ çš„å¡«æ»¡ç¨‹åº¦ã€‚</code></p><p><code>åŠ è½½å› å­ = å¡«å…¥è¡¨ä¸­çš„å…ƒç´ ä¸ªæ•° / æ•£åˆ—è¡¨çš„é•¿åº¦</code></p><p><code>å¦‚æœè´Ÿè½½å› å­è®¾ç½®è¿‡å¤§æˆ–è¿‡å°ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ</code></p><p>é¦–å…ˆçŸ¥é“è´Ÿè½½å› å­çš„å¤§å°æ˜¯ä¸»è¦å°±æ˜¯å†³å®šäº†HashMapçš„æ•°æ®å¯†åº¦çš„å˜›<br>å¦‚æœè´Ÿè½½å› å­è¶Šå¤§æ•°æ®å¯†åº¦è¶Šå¤§ï¼Œ<br><strong>åŠ è½½å› å­è¶Šå¤§</strong>ï¼Œå¡«æ»¡çš„å…ƒç´ è¶Šå¤šï¼Œç©ºé—´åˆ©ç”¨ç‡è¶Šé«˜ï¼Œä½†å‘ç”Ÿå†²çªçš„æœºä¼šå˜å¤§äº†ï¼›<br>å°±ä¼šå¯èƒ½å‘ç”Ÿç¢°æ’çš„å‡ ç‡è¶Šé«˜ï¼Œæ•°ç»„ä¸­çš„é“¾è¡¨ä¹Ÿä¼šè¶Šå®¹æ˜“é•¿ï¼Œ è¿™æ ·çš„è¯é€ æˆæŸ¥è¯¢å’Œæ’å…¥æ—¶çš„æ¯”è¾ƒæ¬¡æ•°å¢å¤šï¼Œæ€§èƒ½ä¼šä¸‹é™ã€‚ï¼ˆå¯èƒ½åˆå¼•å‡ºä¸€ä¸ªé¢è¯•é¢˜ï¼šå¦‚ä½•è§£å†³Hashç¢°æ’é—®é¢˜ï¼Ÿï¼‰</p><p><strong>åŠ è½½å› å­è¶Šå°ï¼Œ</strong>å¡«æ»¡çš„å…ƒç´ è¶Šå°‘ï¼Œå†²çªå‘ç”Ÿçš„æœºä¼šå‡å°ï¼Œä½†ç©ºé—´æµªè´¹äº†æ›´å¤šäº†ï¼Œè€Œä¸”è¿˜ä¼šæé«˜æ‰©å®¹rehashæ“ä½œçš„æ¬¡æ•°ã€‚<br>å¦‚æœè´Ÿè½½å› å­è¶Šå°ï¼Œå°±ä¼šè¶Šå®¹æ˜“è§¦å‘æ‰©å®¹ï¼Œè™½ç„¶æ•°æ®å¯†åº¦ä¹Ÿè¶Šå°ï¼Œå‘ç”Ÿç¢°æ’å‡ ç‡å°ï¼Œæ•°ç»„ä¸­é“¾è¡¨è¶ŠçŸ­å¯¹äºæŸ¥è¯¢å’Œæ’å…¥æ—¶æ¯”è¾ƒæ¬¡æ•°ä¹Ÿä¼šå°‘ä¸€äº›ï¼Œæ€§èƒ½ä¹Ÿä¼šæé«˜ã€‚<br>ä½†æ˜¯æ‰©å®¹ä¼šå½±å“æ€§èƒ½ï¼Œ<br>HashMap åˆå§‹å®¹é‡å¤§å°é»˜è®¤æ˜¯16ï¼Œè¿™æ˜¯ä¸ºäº†å‡å°‘å†²çªå‘ç”Ÿçš„æ¦‚ç‡ï¼Œå½“HashMapçš„æ•°ç»„é•¿åº¦åˆ°è¾¾ä¸€ä¸ªä¸´ç•Œå€¼çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘æ‰©å®¹ï¼ŒæŠŠæ‰€æœ‰å…ƒç´ rehashä¹‹åå†æ”¾åœ¨æ‰©å®¹åçš„å®¹å™¨ä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªç›¸å½“è€—æ—¶çš„æ“ä½œï¼Œæ‰€ä»¥æ‰©å®¹æ˜¯ä»¶å½±å“æ€§èƒ½çš„ã€‚</p><p>å†²çªçš„æœºä¼šè¶Šå¤§ï¼Œè¯´æ˜éœ€è¦æŸ¥æ‰¾çš„æ•°æ®è¿˜éœ€è¦é€šè¿‡å¦ä¸€ä¸ªé€”å¾„æŸ¥æ‰¾ï¼Œè¿™æ ·æŸ¥æ‰¾çš„æˆæœ¬å°±è¶Šé«˜ã€‚å› æ­¤ï¼Œå¿…é¡»åœ¨â€œå†²çªçš„æœºä¼šâ€ä¸â€œç©ºé—´åˆ©ç”¨ç‡â€ä¹‹é—´ï¼Œå¯»æ‰¾ä¸€ç§å¹³è¡¡ä¸æŠ˜è¡·ã€‚</p><p>åœ¨è®¾ç½®åˆå§‹å®¹é‡æ—¶åº”è¯¥è€ƒè™‘åˆ°æ˜ å°„ä¸­æ‰€éœ€çš„æ¡ç›®æ•°åŠå…¶åŠ è½½å› å­ï¼Œä»¥ä¾¿æœ€å¤§é™åº¦åœ°å‡å°‘æ‰©å®¹rehashæ“ä½œæ¬¡æ•°ï¼Œæ‰€ä»¥ï¼Œä¸€èˆ¬åœ¨ä½¿ç”¨HashMapæ—¶å»ºè®®æ ¹æ®é¢„ä¼°å€¼è®¾ç½®åˆå§‹å®¹é‡ï¼Œä»¥ä¾¿å‡å°‘æ‰©å®¹æ“ä½œã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>test</title>
      <link href="2020/12/23/test/"/>
      <url>2020/12/23/test/</url>
      
        <content type="html"><![CDATA[<p><img src="a.png" alt=" è¿™é‡Œè¾“å…¥å›¾ç‰‡æè¿°"></p><p><img src="1.png" alt=" è¿™é‡Œè¾“å…¥å›¾ç‰‡æè¿°"></p><!-- ![](/img/a.png) --><p><img src="a.png" alt=" è¿™é‡Œè¾“å…¥å›¾ç‰‡æè¿°"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="2020/12/12/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E7%BB%84/%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C/"/>
      <url>2020/12/12/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E7%BB%84/%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="2020/12/12/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E7%BB%84/%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/"/>
      <url>2020/12/12/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E7%BB%84/%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="2020/12/01/redis/LRU%E6%98%AF%E4%BB%80%E4%B9%88/"/>
      <url>2020/12/01/redis/LRU%E6%98%AF%E4%BB%80%E4%B9%88/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="2020/12/01/redis/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%8F%8A%E5%BA%94%E7%94%A8/"/>
      <url>2020/12/01/redis/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%8F%8A%E5%BA%94%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>å‘½ä»¤ä¸åŒºåˆ†å¤§å°å†™<br>KeyåŒºåˆ†å¤§å°å†™</p><p>help @å‘½ä»¤ å¸®åŠ©æ–‡æ¡£</p><p><code>string</code> ï¼š<br>set mset get mget incr incrby decr decrby strlen<br>setnx â€“ åˆ†å¸ƒå¼é”</p><p>set key value [EX seconds] [PX milliseconds]  [NX |XX]</p><p>EXå¤šå°‘ç§’è¿‡æœŸ<br>PXå¤šå°‘æ¯«ç§’è¿‡æœŸ<br>NXâ€“setnxç­‰ä»·<br>XX  keyå­˜åœ¨çš„æ—¶å€™è¦†ç›–<br><code>åº”ç”¨åœºæ™¯ï¼š</code><br>è®¢å•å·ç ï¼Œå•†å“ç¼–å·ç”¨incrç”Ÿæˆ<br>å–œæ¬¢çš„æ–‡ç« æ•°<br>incr items:001</p><p><code>hash</code>:    å¯¹åº”Java MAP&lt;String,Map(Object,Object)&gt;<br>hset  hget hmset hmget<br>hset person id 1<br>hgetall person<br>hlen hdel<br><code>åº”ç”¨åœºæ™¯è´­ç‰©è½¦æ—©æœŸ</code><br><code>è´­ç‰©è½¦åŠ å‡ ä¸ª</code> hincrby </p><p>hset shopcar:uid  33222 1 æ–°å¢<br>hincrby shopcar:uid  33222 1 å¢åŠ æ•°é‡<br>å•†å“æ€»æ•° hlen shopcar:uid<br>å…¨é€‰ hgetall shopcar:uid</p><p><code>list</code><br>lpush  rpush lrange llen<br>    <code>å¾®ä¿¡æ–‡ç« è®¢é˜…å…¬ä¼—å·ç </code></p><p>lpush likeauthor:uid1024 11 22</p><p>lrange likeauthor:uid1024 0 -1</p><p><code>set</code> sadd srem smembers scard sismember srandmember spop<br>sdiff sinter  sunion<br><code>å¾®ä¿¡æŠ½å¥–å°ç¨‹åº</code>ï¼šspopï¼ˆåˆ é™¤å…ƒç´ ï¼‰/srandmemberï¼ˆä¸åˆ é™¤å…ƒç´ ï¼‰<br>sadd choujiang:1001 1 2 3<br>æ˜¾ç¤ºæœ‰å¤šå°‘äººå‚åŠ äº†ï¼šscard choujiang:1001<br>ä»»æ„æŠ½å¥–Nä¸ªï¼šspop choujiang:1001 N<br><code>å¾®ä¿¡æœ‹å‹åœˆç‚¹èµ</code><br>æ–°å¢ç‚¹èµ  sadd pub:msgID ç‚¹èµç”¨æˆ·id<br>å–æ¶ˆç‚¹èµ  srem pub:msgID ç‚¹èµç”¨æˆ·id<br>å±•ç°æ‰€æœ‰ç‚¹èµè¿‡çš„ç”¨æˆ·ï¼šsmembers pub:msgID<br>ç‚¹èµç”¨æˆ·æ•°ç›®ç»Ÿè®¡ ï¼š  scard pub:msgID<br>åˆ¤æ–­æ˜¯å¦ç‚¹èµè¿‡    sismembers pub:msgID ç‚¹èµç”¨æˆ·id</p><p><code>å¥½å‹å…³æ³¨ç¤¾äº¤å…³ç³»</code>ï¼š<br>    <code>å…±åŒå…³æ³¨</code>  sinter s1 s2<br>    <code>æˆ‘å…³æ³¨çš„äººä¹Ÿå…³æ³¨äº†ä»–</code>ï¼š<br><code>å¯èƒ½è®¤è¯†çš„äºº</code> sdiff s1 s2<br>            sdiff s2 s1</p><p><code>zset</code>:<br>zadd zrem zrange zrevrange zincrby zcars zrankä»å°åˆ°å¤§ zrevrank ä»å¤§åˆ°å°è·å–å…ƒç´ çš„æ’å<br><code>æ ¹æ®å•†å“çš„é”€å”®å¯¹å•†å“è¿›è¡Œæ’åºæ˜¾ç¤º</code><br>å•†å“é”€é‡zadd goods:sellsort 9 1001 15 1002<br>1011å•†å“åˆå¢åŠ äº†ä¸¤ä»¶zincrby goods:sellsort 2 1001<br>å•†å“é”€é‡çš„å‰ååï¼šzrange goods:sellsort 0 10 withscores<br><code>æŠ–éŸ³çƒ­æœ</code> ï¼š<br>ç‚¹å‡»è§†é¢‘ zincrby hot:20201009 1 æ˜“æ´‹åƒçº<br>å±•ç¤ºå‰10    zrevrange hot:20201009 0 10 withscores</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="2020/12/01/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E6%AD%BB%E9%94%81/"/>
      <url>2020/12/01/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E6%AD%BB%E9%94%81/</url>
      
        <content type="html"><![CDATA[<h2 id="æ­»é”"><a href="#æ­»é”" class="headerlink" title="æ­»é”"></a>æ­»é”</h2><p>ä¸åŒçš„çº¿ç¨‹åˆ†åˆ«å ç”¨å¯¹æ–¹éœ€è¦çš„åŒæ­¥èµ„æºä¸æ”¾å¼ƒï¼Œéƒ½åœ¨ç­‰å¾…å¯¹æ–¹æ”¾å¼ƒ è‡ªå·±éœ€è¦çš„åŒæ­¥èµ„æºï¼Œå°±å½¢æˆäº†çº¿ç¨‹çš„æ­»é”<br>å‡ºç°æ­»é”åï¼Œä¸ä¼šå‡ºç°å¼‚å¸¸ï¼Œä¸ä¼šå‡ºç°æç¤ºï¼Œåªæ˜¯æ‰€æœ‰çš„çº¿ç¨‹éƒ½å¤„äº`é˜»å¡çŠ¶æ€</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="2020/11/29/spring/"/>
      <url>2020/11/29/spring/</url>
      
        <content type="html"><![CDATA[<h1 id="1-Springæ¦‚è¿°"><a href="#1-Springæ¦‚è¿°" class="headerlink" title="1.Springæ¦‚è¿°"></a>1.Springæ¦‚è¿°</h1><h2 id="1-1ï¼šä»€ä¹ˆæ˜¯spring"><a href="#1-1ï¼šä»€ä¹ˆæ˜¯spring" class="headerlink" title="1-1ï¼šä»€ä¹ˆæ˜¯spring?"></a>1-1ï¼šä»€ä¹ˆæ˜¯spring?</h2><p>Springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶åè½¬(IoC)å’Œé¢å‘åˆ‡é¢(AOP)çš„å®¹å™¨æ¡†æ¶ã€‚<br>Springä½¿ä½ èƒ½å¤Ÿç¼–å†™æ›´å¹²å‡€ã€æ›´å¯ç®¡ç†ã€å¹¶ä¸”æ›´æ˜“äºæµ‹è¯•çš„ä»£ç ã€‚</p><h2 id="1-2ï¼šSpringçš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1-2ï¼šSpringçš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1-2ï¼šSpringçš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ"></a>1-2ï¼šSpringçš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><code>ä¼˜ç‚¹ï¼š</code><br>   æ•´ä¸ª Spring ä¼˜åŠ¿ï¼Œä¼ è¾¾å‡ºâ¼€ä¸ªä¿¡å·ï¼ŒSpring æ˜¯â¼€ä¸ªç»¼åˆæ€§ï¼Œä¸”æœ‰å¾ˆå¼ºçš„æ€æƒ³æ€§æ¡†æ¶ï¼Œæ¯å­¦ä¹ â¼€ å¤©ï¼Œå°±èƒ½ä½“ä¼šåˆ°å®ƒçš„â¼€äº›ä¼˜åŠ¿ã€‚</p><h3>â½…ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘</h3>é€šè¿‡Springæä¾›çš„IoCå®¹å™¨ï¼Œå¯ä»¥å°†å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»äº¤ç”±Springè¿›â¾æ§åˆ¶ï¼Œé¿å…ç¡¬ç¼–ç æ‰€é€ æˆçš„ è¿‡åº¦ç¨‹åºè€¦åˆã€‚â½¤æˆ·ä¹Ÿä¸å¿…å†ä¸ºå•ä¾‹æ¨¡å¼ç±»ã€å±æ€§â½‚ä»¶è§£æç­‰è¿™äº›å¾ˆåº•å±‚çš„éœ€æ±‚ç¼–å†™ä»£ç ï¼Œå¯ä»¥æ›´ ä¸“æ³¨äºä¸Šå±‚çš„åº”â½¤ã€‚<h3>AOPç¼–ç¨‹çš„â½€æŒ</h3>é€šè¿‡Springçš„AOPåŠŸèƒ½ï¼Œâ½…ä¾¿è¿›â¾â¾¯å‘åˆ‡â¾¯çš„ç¼–ç¨‹ï¼Œè®¸å¤šä¸å®¹æ˜“â½¤ä¼ ç»ŸOOPå®ç°çš„åŠŸèƒ½å¯ä»¥é€šè¿‡ AOPè½»æ¾åº”ä»˜ã€‚<h3>å£°æ˜å¼äº‹åŠ¡çš„â½€æŒ</h3>@Transactionalå¯ä»¥å°†æˆ‘ä»¬ä»å•è°ƒçƒ¦é—·çš„äº‹åŠ¡ç®¡ç†ä»£ç ä¸­è§£è„±å‡ºæ¥ï¼Œé€šè¿‡å£°æ˜å¼â½…å¼çµæ´»çš„è¿›â¾äº‹åŠ¡çš„ç®¡ç†ï¼Œæâ¾¼ å¼€å‘æ•ˆç‡å’Œè´¨é‡ã€‚<h3>â½…ä¾¿ç¨‹åºçš„æµ‹è¯•</h3>å¯ä»¥â½¤â¾®å®¹å™¨ä¾èµ–çš„ç¼–ç¨‹â½…å¼è¿›â¾â¼ä¹æ‰€æœ‰çš„æµ‹è¯•â¼¯ä½œï¼Œæµ‹è¯•ä¸å†æ˜¯æ˜‚è´µçš„æ“ä½œï¼Œâ½½æ˜¯éšâ¼¿å¯åšçš„ äº‹æƒ…ã€‚<h3>â½…ä¾¿é›†æˆå„ç§ä¼˜ç§€æ¡†æ¶</h3>Springå¯ä»¥é™ä½å„ç§æ¡†æ¶çš„ä½¿â½¤éš¾åº¦ï¼Œæä¾›äº†å¯¹å„ç§ä¼˜ç§€æ¡†æ¶ï¼ˆStrutsã€Hibernateã€Hessianã€ Quartzç­‰ï¼‰çš„ç›´æ¥â½€æŒã€‚<h3>é™ä½JavaEE APIçš„ä½¿â½¤éš¾åº¦</h3>Springå¯¹JavaEE APIï¼ˆå¦‚JDBCã€JavaMailã€è¿œç¨‹è°ƒâ½¤ç­‰ï¼‰è¿›â¾äº†è–„è–„çš„å°è£…å±‚ï¼Œä½¿è¿™äº›APIçš„ä½¿â½¤ éš¾åº¦â¼¤ä¸ºé™ä½ã€‚<h3>æºç æ˜¯ç»å…¸çš„ Java å­¦ä¹ èŒƒä¾‹</h3>Springçš„æºä»£ç è®¾è®¡ç²¾å¦™ã€ç»“æ„æ¸…æ™°ã€åŒ â¼¼ç‹¬â½¤ï¼Œå¤„å¤„ä½“ç°ç€â¼¤å¸ˆå¯¹Javaè®¾è®¡æ¨¡å¼çµæ´»è¿â½¤ä»¥åŠå¯¹ JavaæŠ€æœ¯çš„â¾¼æ·±é€ è¯£ã€‚å®ƒçš„æºä»£ç â½†æ„æ˜¯JavaæŠ€æœ¯çš„æœ€ä½³å®è·µçš„èŒƒä¾‹ã€‚<p><code>ç¼ºç‚¹</code><br>   ä½¿ç”¨äº†å¤§é‡çš„åå°„æœºåˆ¶ï¼Œåå°„æœºåˆ¶éå¸¸å ç”¨å†…å­˜ã€‚</p><h2 id="1-3ï¼šSpring-æœ‰å“ªäº›é…ç½®æ–¹å¼"><a href="#1-3ï¼šSpring-æœ‰å“ªäº›é…ç½®æ–¹å¼" class="headerlink" title="1-3ï¼šSpring æœ‰å“ªäº›é…ç½®æ–¹å¼"></a>1-3ï¼šSpring æœ‰å“ªäº›é…ç½®æ–¹å¼</h2><p><code>1ã€XML é…ç½®æ–‡ä»¶ã€‚</code></p><p>Bean æ‰€éœ€çš„ä¾èµ–é¡¹å’ŒæœåŠ¡åœ¨ XML æ ¼å¼çš„é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šã€‚<br>è¿™äº›é…ç½®æ–‡ä»¶é€šå¸¸åŒ…å«è®¸å¤š bean å®šä¹‰å’Œç‰¹å®šäºåº”ç”¨ç¨‹åºçš„é…ç½®é€‰é¡¹ã€‚<br>å®ƒä»¬é€šå¸¸ä»¥ bean æ ‡ç­¾å¼€å¤´ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">&lt;bean id&#x3D;&quot;studentBean&quot; class&#x3D;&quot;org.edureka.firstSpring.StudentBean&quot;&gt;    &lt;property name&#x3D;&quot;name&quot; value&#x3D;&quot;Edureka&quot;&gt;&lt;&#x2F;property&gt;&lt;&#x2F;bean&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><code>2ã€æ³¨è§£é…ç½®ã€‚</code></p><p>å¯ä»¥é€šè¿‡åœ¨ç›¸å…³çš„ç±»ï¼Œæ–¹æ³•æˆ–å­—æ®µå£°æ˜ä¸Šä½¿ç”¨æ³¨è§£ï¼Œ<br>å°† Bean é…ç½®ä¸ºç»„ä»¶ç±»æœ¬èº«ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ XML æ¥æè¿° Bean è£…é…ã€‚<br>é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring å®¹å™¨ä¸­æœªæ‰“å¼€æ³¨è§£è£…é…ã€‚<br>å› æ­¤ï¼Œéœ€è¦åœ¨ä½¿ç”¨å®ƒä¹‹å‰åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­å¯ç”¨å®ƒã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">&lt;beans&gt;&lt;context:annotation-config&#x2F;&gt;&lt;!-- bean definitions go here --&gt;&lt;&#x2F;beans&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><code>3ã€Java Config é…ç½®ã€‚</code></p><p>Spring çš„ Java é…ç½®æ˜¯é€šè¿‡ä½¿ç”¨ @Bean å’Œ @Configuration æ¥å®ç°ã€‚<br>@Bean æ³¨è§£æ‰®æ¼”ä¸ <bean /> å…ƒç´ ç›¸åŒçš„è§’è‰²ã€‚<br>@Configuration ç±»å…è®¸é€šè¿‡ç®€å•åœ°è°ƒç”¨åŒä¸€ä¸ªç±»ä¸­çš„å…¶ä»– @Bean æ–¹æ³•æ¥å®šä¹‰ Bean é—´ä¾èµ–å…³ç³»ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">@Configurationpublic class StudentConfig &#123;        @Bean    public StudentBean myStudent() &#123;        return new StudentBean();&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="2-Springç”¨åˆ°çš„è®¾è®¡æ¨¡å¼æœ‰å“ªäº›"><a href="#2-Springç”¨åˆ°çš„è®¾è®¡æ¨¡å¼æœ‰å“ªäº›" class="headerlink" title="2.Springç”¨åˆ°çš„è®¾è®¡æ¨¡å¼æœ‰å“ªäº›"></a>2.Springç”¨åˆ°çš„è®¾è®¡æ¨¡å¼æœ‰å“ªäº›</h1><ol><li>å·¥å‚æ¨¡å¼:é€šè¿‡ BeanFactory æˆ– ApplicationContext åˆ›å»º bean å¯¹è±¡ã€‚</li><li>å•ä¾‹æ¨¡å¼:Beané»˜è®¤ä¸ºå•ä¾‹æ¨¡å¼ã€‚<br> xml : <bean id="userService" class="top.snailclimb.UserService" scope="singleton"/><br> æ³¨è§£ï¼š@Scope(value = â€œsingletonâ€)</li><li>ä»£ç†æ¨¡å¼:Spring çš„AOPåŠŸèƒ½ç”¨åˆ°äº†JDKçš„åŠ¨æ€ä»£ç†å’ŒCGLIBå­—èŠ‚ç ç”ŸæˆæŠ€æœ¯;</li><li>æ¨¡æ¿æ¨¡å¼:<br>Spring ä¸­ jdbcTemplateã€hibernateTemplate ç­‰<br>ä»¥ Template ç»“å°¾çš„å¯¹æ•°æ®åº“æ“ä½œçš„ç±»ï¼Œå®ƒä»¬å°±ä½¿ç”¨åˆ°äº†æ¨¡æ¿æ¨¡å¼ã€‚<br>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨ç»§æ‰¿çš„æ–¹å¼æ¥å®ç°æ¨¡æ¿æ¨¡å¼ï¼Œä½†æ˜¯ Spring å¹¶æ²¡æœ‰ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œ<br>è€Œæ˜¯ä½¿ç”¨Callback æ¨¡å¼ä¸æ¨¡æ¿æ–¹æ³•æ¨¡å¼é…åˆï¼Œæ—¢è¾¾åˆ°äº†ä»£ç å¤ç”¨çš„æ•ˆæœï¼ŒåŒæ—¶å¢åŠ äº†çµæ´»æ€§ã€‚</li><li>è§‚å¯Ÿè€…æ¨¡å¼:<br>Spring äº‹ä»¶é©±åŠ¨æ¨¡å‹å°±æ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Œ<br>æ¯”å¦‚æˆ‘ä»¬æ¯æ¬¡æ·»åŠ å•†å“çš„æ—¶å€™éƒ½éœ€è¦é‡æ–°æ›´æ–°å•†å“ç´¢å¼•ï¼Œ<br>è¿™ä¸ªæ—¶å€™å°±å¯ä»¥åˆ©ç”¨è§‚å¯Ÿè€…æ¨¡å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</li><li>é€‚é…å™¨æ¨¡å¼<ul><li>åœ¨SpringAOPå’ŒSpringMVCä¸­éƒ½æœ‰é€‚é…å™¨æ¨¡å¼<br>è™½ç„¶Spring AOP çš„å®ç°æ˜¯åŸºäºä»£ç†æ¨¡å¼ï¼Œ<br>ä½†æ˜¯ Spring AOP çš„å¢å¼ºæˆ–é€šçŸ¥(Advice)ä½¿ç”¨åˆ°äº†é€‚é…å™¨æ¨¡å¼ï¼Œ<br>æ¯”å¦‚è¯´Springé¢„å®šä¹‰è¦é€šè¿‡å¯¹åº”çš„é€‚é…å™¨ï¼Œ<br>é€‚é…æˆ MethodInterceptoræ¥å£(æ–¹æ³•æ‹¦æˆªå™¨)ç±»å‹çš„å¯¹è±¡<br>å¦‚ï¼šMethodBeforeAdviceInterceptor è´Ÿè´£é€‚é… MethodBeforeAdvice</li></ul></li></ol><ul><li>spring MVCä¸­çš„é€‚é…å™¨æ¨¡å¼<br>åœ¨Spring MVCä¸­ï¼ŒDispatcherServletæ ¹æ®è¯·æ±‚ä¿¡æ¯<br>è°ƒç”¨HandlerMappingï¼Œ<br>è§£æè¯·æ±‚å¯¹åº”çš„Handlerã€‚<br>è§£æåˆ°å¯¹åº”çš„ Handler,ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¹³å¸¸è¯´çš„ Controller æ§åˆ¶å™¨åï¼Œ<br>å¼€å§‹ç”±HandlerAdapter é€‚é…å™¨å¤„ç†ã€‚<br>HandlerAdapter ä½œä¸ºæœŸæœ›æ¥å£ï¼Œ<br>å…·ä½“çš„é€‚é…å™¨å®ç°ç±»ç”¨äºå¯¹ç›®æ ‡ç±»è¿›è¡Œé€‚é…ï¼Œ<br>Controller ä½œä¸ºéœ€è¦é€‚é…çš„ç±»ã€‚<br>å› ä¸ºSpring MVC ä¸­çš„ Controller ç§ç±»ä¼—å¤šï¼Œ<br>ä¸åŒç±»å‹çš„ Controller é€šè¿‡ä¸åŒçš„æ–¹æ³•æ¥å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚<br>å¦‚æœä¸åˆ©ç”¨é€‚é…å™¨æ¨¡å¼çš„è¯ï¼Œ<br>DispatcherServlet ç›´æ¥è·å–å¯¹åº”ç±»å‹çš„ Controllerï¼Œ<br>éœ€è¦çš„è‡ªè¡Œæ¥åˆ¤æ–­</li></ul><ol start="7"><li>è£…é¥°è€…æ¨¡å¼<br>å½“æˆ‘ä»¬éœ€è¦ä¿®æ”¹åŸæœ‰çš„åŠŸèƒ½ï¼Œ<br>ä½†æˆ‘ä»¬åˆä¸æ„¿ç›´æ¥å»ä¿®æ”¹åŸæœ‰çš„ä»£ç æ—¶ï¼Œ<br>è®¾è®¡ä¸€ä¸ªDecoratorå¥—åœ¨åŸæœ‰ä»£ç å¤–é¢<br>Spring ä¸­é…ç½® DataSource çš„æ—¶å€™ï¼Œ<br>DataSource å¯èƒ½æ˜¯ä¸åŒçš„æ•°æ®åº“å’Œæ•°æ®æºã€‚<br>æˆ‘ä»¬èƒ½å¦æ ¹æ®å®¢æˆ·çš„éœ€æ±‚åœ¨å°‘<br>ä¿®æ”¹åŸæœ‰ç±»çš„ä»£ç ä¸‹åŠ¨æ€åˆ‡æ¢ä¸åŒçš„æ•°æ®æº<br>è¿™ä¸ªæ—¶å€™å°±è¦ç”¨åˆ°è£…é¥°è€…æ¨¡å¼ã€‚<br>Spring ä¸­ç”¨åˆ°çš„åŒ…è£…å™¨æ¨¡å¼<br>åœ¨ç±»åä¸Šå«æœ‰ Wrapperæˆ–è€… Decoratorã€‚<br>è¿™äº›ç±»åŸºæœ¬ä¸Šéƒ½æ˜¯åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£</li></ol><h1 id="3-å¾ªç¯ä¾èµ–"><a href="#3-å¾ªç¯ä¾èµ–" class="headerlink" title="3. å¾ªç¯ä¾èµ–"></a>3. å¾ªç¯ä¾èµ–</h1><h2 id="3-1ï¼šä»€ä¹ˆæ˜¯Springçš„å¾ªç¯ä¾èµ–"><a href="#3-1ï¼šä»€ä¹ˆæ˜¯Springçš„å¾ªç¯ä¾èµ–" class="headerlink" title="3-1ï¼šä»€ä¹ˆæ˜¯Springçš„å¾ªç¯ä¾èµ–"></a>3-1ï¼šä»€ä¹ˆæ˜¯Springçš„å¾ªç¯ä¾èµ–</h2><p>å°±æ˜¯æœ‰ä¸€ä¸ª A å¯¹è±¡ï¼Œåˆ›å»º A çš„æ—¶å€™å‘ç° A å¯¹è±¡ä¾èµ– Bï¼Œ<br>ç„¶åå»åˆ›å»º B å¯¹è±¡çš„æ—¶å€™ï¼Œåˆå‘ç° B å¯¹è±¡ä¾èµ– Cï¼Œ<br>ç„¶åå»åˆ›å»º C å¯¹è±¡çš„æ—¶å€™ï¼Œåˆå‘ç° C å¯¹è±¡ä¾èµ– Aã€‚</p><h2 id="3-2ï¼šä»€ä¹ˆæ˜¯ä¸‰çº§ç¼“å­˜"><a href="#3-2ï¼šä»€ä¹ˆæ˜¯ä¸‰çº§ç¼“å­˜" class="headerlink" title="3-2ï¼šä»€ä¹ˆæ˜¯ä¸‰çº§ç¼“å­˜"></a>3-2ï¼šä»€ä¹ˆæ˜¯ä¸‰çº§ç¼“å­˜</h2><ol><li>ç¬¬ä¸€çº§ç¼“å­˜ï¼šå•ä¾‹ç¼“å­˜æ±  singletonObjectsã€‚</li><li>ç¬¬äºŒçº§ç¼“å­˜ï¼šæ—©æœŸæå‰æš´éœ²çš„å¯¹è±¡ç¼“å­˜ earlySingletonObjectsã€‚</li><li>ç¬¬ä¸‰çº§ç¼“å­˜ï¼šsingletonFactories å•ä¾‹å¯¹è±¡å·¥å‚ç¼“å­˜</li></ol><p>å…ˆä»ä¸€çº§ç¼“å­˜singletonObjectsä¸­å»è·å–ï¼Œ<br>å¦‚æœè·å–åˆ° Bean å°±ç›´æ¥è¿”å›ã€‚<br>å¦‚æœè·å–ä¸åˆ°æˆ–è€…å¯¹è±¡æ­£åœ¨åˆ›å»ºä¸­ï¼Œ<br>é‚£å°±å†ä»äºŒçº§ç¼“å­˜earlySingletonObjectsä¸­è·å–ï¼Œ<br>å¦‚æœè·å–åˆ°å°±ç›´æ¥è¿”å›ã€‚<br>å¦‚æœå‰ä¸¤çº§ç¼“å­˜éƒ½æ²¡æˆåŠŸè¿”å›ï¼Œ<br>ä¸”å…è®¸ singletonFactories(allowEarlyReference=true)<br>é€šè¿‡getObject()è·å–ã€‚å°±ä»ä¸‰çº§ç¼“å­˜singletonFactory.getObject()è·å–ã€‚<br>å¦‚æœè·å–åˆ°äº†å°±ä»singletonFactoriesä¸­ç§»é™¤ï¼Œ<br>å¹¶ä¸”æ”¾è¿›earlySingletonObjectsã€‚<br>å…¶å®ä¹Ÿå°±æ˜¯ä»ä¸‰çº§ç¼“å­˜ç§»åŠ¨åˆ°äº†äºŒçº§ç¼“å­˜ã€‚æ˜¯å‰ªåˆ‡ã€ä¸æ˜¯å¤åˆ¶ã€‚</p><h2 id="3-3ï¼šä»€ä¹ˆæ˜¯æ—©æœŸæš´éœ²çš„å¯¹è±¡"><a href="#3-3ï¼šä»€ä¹ˆæ˜¯æ—©æœŸæš´éœ²çš„å¯¹è±¡" class="headerlink" title="3-3ï¼šä»€ä¹ˆæ˜¯æ—©æœŸæš´éœ²çš„å¯¹è±¡"></a>3-3ï¼šä»€ä¹ˆæ˜¯æ—©æœŸæš´éœ²çš„å¯¹è±¡</h2><p>ä½ æ˜¯ä¸€ä¸ªä¸å®Œæ•´çš„å¯¹è±¡ï¼Œä½ çš„å±æ€§è¿˜æ²¡æœ‰å€¼ï¼Œ<br>ä½ çš„å¯¹è±¡ä¹Ÿæ²¡æœ‰è¢«åˆå§‹åŒ–ã€‚è¿™å°±æ˜¯æ—©æœŸæš´éœ²çš„å¯¹è±¡ï¼Œ<br>åªæ˜¯æå‰æ‹¿å‡ºæ¥ç»™ä½ è®¤è¯†è®¤è¯†ã€‚ä½†ä»–éå¸¸é‡è¦ã€‚<br>è¿™æ˜¯å¤šçº§ç¼“å­˜è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜çš„ä¸€ä¸ªå·§å¦™çš„åœ°æ–¹ã€‚</p><h2 id="3-4ï¼šå¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–"><a href="#3-4ï¼šå¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–" class="headerlink" title="3-4ï¼šå¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–"></a>3-4ï¼šå¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–</h2><p>ä¸»è¦æ˜¯ç”¨ä¸‰çº§ç¼“å­˜æ¥è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜</p><p>æ¯”å¦‚è¯´Aã€Bç±»çš„äº’ç›¸ä¾èµ–æ³¨å…¥ï¼Œä½¿ç”¨å±æ€§fieldæ³¨å…¥å¾ªç¯ä¾èµ–æ¥è§£å†³</p><ol><li>ä½¿ç”¨context.getBean(A.class)ï¼Œ<br>æ—¨åœ¨è·å–å®¹å™¨å†…çš„å•ä¾‹A(è‹¥Aä¸å­˜åœ¨ï¼Œå°±ä¼šèµ°Aè¿™ä¸ªBeançš„åˆ›å»ºæµç¨‹)ï¼Œ<br>æ˜¾ç„¶åˆæ¬¡è·å–Aæ˜¯ä¸å­˜åœ¨çš„ï¼Œå› æ­¤èµ°Açš„åˆ›å»ºä¹‹è·¯~</li><li>å®ä¾‹åŒ–Aï¼ˆæ³¨æ„æ­¤å¤„ä»…ä»…æ˜¯å®ä¾‹åŒ–ï¼‰ï¼Œ<br>å¹¶å°†å®ƒæ”¾è¿›ç¼“å­˜ï¼ˆæ­¤æ—¶Aå·²ç»å®ä¾‹åŒ–å®Œæˆï¼Œå·²ç»å¯ä»¥è¢«å¼•ç”¨äº†ï¼‰</li><li>åˆå§‹åŒ–Aï¼š@Autowiredä¾èµ–æ³¨å…¥Bï¼ˆæ­¤æ—¶éœ€è¦å»å®¹å™¨å†…è·å–Bï¼‰</li><li>ä¸ºäº†å®Œæˆä¾èµ–æ³¨å…¥Bï¼Œä¼šé€šè¿‡getBean(B)å»å®¹å™¨å†…æ‰¾Bã€‚<br>ä½†æ­¤æ—¶Båœ¨å®¹å™¨å†…ä¸å­˜åœ¨ï¼Œå°±èµ°å‘Bçš„åˆ›å»ºä¹‹è·¯~</li><li>å®ä¾‹åŒ–Bï¼Œå¹¶å°†å…¶æ”¾å…¥ç¼“å­˜ã€‚ï¼ˆæ­¤æ—¶Bä¹Ÿèƒ½å¤Ÿè¢«å¼•ç”¨äº†ï¼‰</li><li>åˆå§‹åŒ–Bï¼Œ@Autowiredä¾èµ–æ³¨å…¥Aï¼ˆæ­¤æ—¶éœ€è¦å»å®¹å™¨å†…è·å–Aï¼‰</li><li>æ­¤å¤„é‡è¦ï¼šåˆå§‹åŒ–Bæ—¶ä¼šè°ƒç”¨getBean(A)å»å®¹å™¨å†…æ‰¾åˆ°Aï¼Œ<br>å› ä¸ºAå·²ç»å®ä¾‹åŒ–å®Œæˆäº†å¹¶ä¸”æ”¾è¿›äº†ç¼“å­˜é‡Œï¼Œ<br>æ‰€ä»¥è¿™ä¸ªæ—¶å€™å»çœ‹ç¼“å­˜é‡Œæ˜¯å·²ç»å­˜åœ¨Açš„å¼•ç”¨äº†çš„ï¼Œ<br>æ‰€ä»¥getBean(A)èƒ½å¤Ÿæ­£å¸¸è¿”å›</li><li>Båˆå§‹åŒ–æˆåŠŸï¼ˆæ­¤æ—¶å·²ç»æ³¨å…¥AæˆåŠŸäº†ï¼Œå·²æˆåŠŸæŒæœ‰Açš„å¼•ç”¨äº†ï¼‰ï¼Œ<br>returnç›¸å½“äºæ˜¯è¿”å›æœ€ä¸Šé¢çš„getBean(B)è¿™å¥ä»£ç ï¼Œå›åˆ°äº†åˆå§‹åŒ–Açš„æµç¨‹ä¸­</li><li> å› ä¸ºBå®ä¾‹å·²ç»æˆåŠŸè¿”å›äº†ï¼Œå› æ­¤æœ€ç»ˆAä¹Ÿåˆå§‹åŒ–æˆåŠŸ</li><li>åˆ°æ­¤ï¼ŒBæŒæœ‰çš„å·²ç»æ˜¯åˆå§‹åŒ–å®Œæˆçš„Aï¼ŒAæŒæœ‰çš„ä¹Ÿæ˜¯åˆå§‹åŒ–å®Œæˆçš„Bï¼Œ</li></ol><h1 id="4-IOC"><a href="#4-IOC" class="headerlink" title="4.IOC"></a>4.IOC</h1><h2 id="4-1ï¼šIOCåŸç†"><a href="#4-1ï¼šIOCåŸç†" class="headerlink" title="4-1ï¼šIOCåŸç†"></a>4-1ï¼šIOCåŸç†</h2><p>iocä¹Ÿå«æ§åˆ¶åè½¬ï¼Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ã€‚<br>å°±æ˜¯å°†å¯¹è±¡çš„åˆ›å»ºå’Œç®¡ç†äº¤ç”±springç®¡ç†ã€‚<br>iocå®¹å™¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªmapï¼Œå­˜æ”¾ç€å„ç§beanå¯¹è±¡ï¼Œ<br>keyæ˜¯beanå¯¹è±¡åï¼Œvalueæ˜¯beané…ç½®ä¿¡æ¯ã€‚<br>beanå¯¹è±¡çš„åˆ›å»ºã€ä¾èµ–å…³ç³»éƒ½äº¤ç”±iocå®¹å™¨å®Œæˆï¼Œ<br>ä½¿ç”¨æ—¶ä¸éœ€è¦å…³å¿ƒbeanå¯¹è±¡ä»€ä¹ˆæ—¶å€™åˆ›å»º<br>ä¹Ÿä¸éœ€è¦æ‰‹åŠ¨ç»´æŠ¤å¯¹è±¡é—´çš„å…³ç³»ã€‚<br>iocå®¹å™¨ç›¸å½“äºä¸€ä¸ªç¬¬ä¸‰æ–¹çš„å®¹å™¨ï¼Œ<br>å…³è”ç€ä½¿ç”¨èµ„æºçš„åŒæ–¹ã€‚<br>æ¯”å¦‚ä¸€ä¸ªuserç±»å’Œuserinfoç±»ï¼Œ<br>userç±»è¦ä½¿ç”¨userinfoç±»çš„å±æ€§ï¼Œ<br>éœ€è¦è°ƒç”¨æ—¶åˆ›å»ºuserç±»å’Œuserinfoç±»çš„çš„å¯¹è±¡ï¼Œ<br>ç„¶åè¿›è¡Œå±æ€§æ³¨å…¥ã€‚<br>ä½†æ˜¯å¦‚æœå°†userå’Œuserinfoéƒ½äº¤ç”±iocå®¹å™¨ç®¡ç†ï¼Œ<br>è°ƒç”¨æ—¶åªéœ€è¦ä»iocå®¹å™¨ä¸­å–å‡ºuserå¯¹è±¡ï¼Œ<br>é‚£ä¹ˆuserå¯¹è±¡éœ€è¦çš„userinfoå±æ€§ä¼šåœ¨iocå®¹å™¨ä¸­è¿›è¡Œæ³¨å…¥ï¼Œ<br>å–å‡ºçš„userå¯¹è±¡æ˜¯å·²ç»å®Œæˆä¾èµ–æ³¨å…¥çš„å¯¹è±¡ã€‚</p><h3 id="4-1-1ï¼šè‡ªå·±è®¾è®¡SpringIOCï¼Œå¦‚ä½•è®¾è®¡ï¼ˆIOCåˆå§‹åŒ–è¿‡ç¨‹ï¼‰ï¼ˆ132æœŸï¼‰"><a href="#4-1-1ï¼šè‡ªå·±è®¾è®¡SpringIOCï¼Œå¦‚ä½•è®¾è®¡ï¼ˆIOCåˆå§‹åŒ–è¿‡ç¨‹ï¼‰ï¼ˆ132æœŸï¼‰" class="headerlink" title="4-1-1ï¼šè‡ªå·±è®¾è®¡SpringIOCï¼Œå¦‚ä½•è®¾è®¡ï¼ˆIOCåˆå§‹åŒ–è¿‡ç¨‹ï¼‰ï¼ˆ132æœŸï¼‰"></a>4-1-1ï¼šè‡ªå·±è®¾è®¡SpringIOCï¼Œå¦‚ä½•è®¾è®¡ï¼ˆIOCåˆå§‹åŒ–è¿‡ç¨‹ï¼‰ï¼ˆ132æœŸï¼‰</h3><p>é¦–å…ˆåˆå§‹åŒ–ä¸Šä¸‹æ–‡ï¼Œ<br>ç”ŸæˆClassPathXmlApplicationContextå¯¹è±¡ï¼Œ<br>åœ¨è·å–resourcePatternResolverå¯¹è±¡å°†xmlè§£ææˆResourceå¯¹è±¡ã€‚<br>åˆ©ç”¨ç”Ÿæˆçš„ contextã€resource åˆå§‹åŒ–å·¥å‚ï¼Œ<br>å¹¶å°† resource è§£ææˆ beandefinition,<br>å†å°† beandefinition æ³¨å†Œåˆ° beanfactory ä¸­ã€‚</p><h3 id="4-1-2ï¼šIOCå¥½å¤„"><a href="#4-1-2ï¼šIOCå¥½å¤„" class="headerlink" title="4-1-2ï¼šIOCå¥½å¤„"></a>4-1-2ï¼šIOCå¥½å¤„</h3><p>å®ƒå°†æœ€å°åŒ–åº”ç”¨ç¨‹åºä¸­çš„ä»£ç é‡ã€‚<br>å®ƒä»¥æœ€å°çš„å½±å“å’Œæœ€å°‘çš„ä¾µå…¥æœºåˆ¶ä¿ƒè¿›æ¾è€¦åˆã€‚<br>å®ƒæ”¯æŒå³æ—¶çš„å®ä¾‹åŒ–å’Œå»¶è¿ŸåŠ è½½ Bean å¯¹è±¡ã€‚<br>å®ƒå°†ä½¿æ‚¨çš„åº”ç”¨ç¨‹åºæ˜“äºæµ‹è¯•ï¼Œå› ä¸ºå®ƒä¸éœ€è¦å•å…ƒæµ‹è¯•ç”¨ä¾‹ä¸­çš„ä»»ä½•å•ä¾‹æˆ– JNDI æŸ¥æ‰¾æœºåˆ¶ã€‚</p><h2 id="4-2ï¼šIOCçš„å®ç°æœºåˆ¶ï¼ˆç»§ç»­æ‰©äº§â€”èŠ‹å¤´ï¼‰"><a href="#4-2ï¼šIOCçš„å®ç°æœºåˆ¶ï¼ˆç»§ç»­æ‰©äº§â€”èŠ‹å¤´ï¼‰" class="headerlink" title="4-2ï¼šIOCçš„å®ç°æœºåˆ¶ï¼ˆç»§ç»­æ‰©äº§â€”èŠ‹å¤´ï¼‰"></a>4-2ï¼šIOCçš„å®ç°æœºåˆ¶ï¼ˆç»§ç»­æ‰©äº§â€”èŠ‹å¤´ï¼‰</h2><p>Spring ä¸­çš„ IoC çš„å®ç°åŸç†ï¼Œå°±æ˜¯å·¥å‚æ¨¡å¼åŠ åå°„æœºåˆ¶</p><p>a. åŠ è½½é…ç½®æ–‡ä»¶ï¼Œè§£ææˆ BeanDefinition æ”¾åœ¨ Map é‡Œã€‚<br>b. è°ƒç”¨ getBean çš„æ—¶å€™ï¼Œä» BeanDefinition æ‰€å±çš„ Map é‡Œï¼Œ<br>   æ‹¿å‡º Class å¯¹è±¡è¿›è¡Œå®ä¾‹åŒ–ï¼ŒåŒæ—¶ï¼Œå¦‚æœæœ‰ä¾èµ–å…³ç³»ï¼Œ<br>   å°†é€’å½’è°ƒç”¨ getBean æ–¹æ³• â€”â€” å®Œæˆä¾èµ–æ³¨å…¥ã€‚</p><h2 id="4-2ï¼šIOCå®¹å™¨ç§ç±»"><a href="#4-2ï¼šIOCå®¹å™¨ç§ç±»" class="headerlink" title="4-2ï¼šIOCå®¹å™¨ç§ç±»"></a>4-2ï¼šIOCå®¹å™¨ç§ç±»</h2><p>ä¸€å…±æ˜¯ä¸¤ç§</p><h3 id="4-2-1ï¼šBeanFactoryä¸ApplicationContextåŒºåˆ«"><a href="#4-2-1ï¼šBeanFactoryä¸ApplicationContextåŒºåˆ«" class="headerlink" title="4-2-1ï¼šBeanFactoryä¸ApplicationContextåŒºåˆ«"></a>4-2-1ï¼šBeanFactoryä¸ApplicationContextåŒºåˆ«</h3><p>ApplicationContextå’ŒBeanFactoryæ˜¯Springçš„ä¸¤å¤§æ ¸å¿ƒæ¥å£ã€‚<br>éƒ½å¯ä»¥å½“åšSpringçš„å®¹å™¨<br>å…¶ä¸­ApplicationContextæ˜¯ BeanFactoryçš„å­æ¥å£ã€‚<br>(1ï¼‰BeanFactory:æ˜¯Springé‡Œé¢æœ€åº•å±‚çš„æ¥å£ï¼ŒåŒ…å«äº†å„ç§Beançš„å®šä¹‰ï¼Œè¯»å–bean<br>é…ç½®æ–‡æ¡£ï¼Œç®¡ç† bean çš„åŠ è½½ã€å®ä¾‹åŒ–ï¼Œæ§åˆ¶ beançš„ç”Ÿå‘½å‘¨æœŸï¼Œç»´æŠ¤ beanä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚<br>ApplicationContext æ¥å£ä½œä¸º BeanFactoryçš„æ´¾ç”Ÿï¼Œé™¤äº†æä¾›BeanFactoryæ‰€å…·æœ‰çš„åŠŸèƒ½å¤–ï¼Œ<br>è¿˜æä¾›äº†æ›´å®Œæ•´çš„æ¡†æ¶åŠŸèƒ½:ç»§æ‰¿MessageSourceï¼Œå› æ­¤æ”¯æŒå›½é™…åŒ–ã€‚ç»Ÿä¸€çš„èµ„æºæ–‡ä»¶è®¿é—®<br>æ–¹å¼ã€‚æä¾›åœ¨ç›‘å¬å™¨ä¸­æ³¨å†Œbeançš„äº‹ä»¶ã€‚åŒæ—¶åŠ è½½å¤šä¸ªé…ç½®æ–‡ä»¶ã€‚è½½å…¥å¤šä¸ª(æœ‰ç»§æ‰¿å…³ç³»ï¼‰<br>ä¸Šä¸‹æ–‡ï¼Œä½¿å¾—æ¯ä¸ªä¸Šä¸‹æ–‡éƒ½ä¸“æ³¨äºä¸€ä¸ªç‰¹å®šçš„å±‚æ¬¡ï¼Œæ¯”å¦‚åº”ç”¨webå±‚<br>(2ï¼‰BeanFactroyé‡‡ç”¨çš„æ˜¯å»¶è¿ŸåŠ è½½å½¢å¼æ¥æ³¨å…¥Beançš„ï¼Œå³åªæœ‰åœ¨ä½¿ç”¨åˆ°æŸä¸ªBeanæ—¶<br>(è°ƒç”¨getBean())ï¼Œæ‰å¯¹è¯¥Beanè¿›è¡ŒåŠ è½½å®ä¾‹åŒ–ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±ä¸èƒ½å‘ç°ä¸€äº›å­˜åœ¨çš„Spring<br>çš„é…ç½®é—®é¢˜ã€‚å¦‚æœBeançš„æŸä¸€ä¸ªå±æ€§æ²¡æœ‰æ³¨å…¥ï¼ŒBeanFacotryåŠ è½½åï¼Œç›´è‡³ç¬¬ä¸€æ¬¡ä½¿ç”¨è°ƒç”¨<br>getBeanæ–¹æ³•æ‰ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚<br>ApplicationContextï¼Œå®ƒæ˜¯åœ¨å®¹å™¨å¯åŠ¨æ—¶ï¼Œä¸€æ¬¡æ€§åˆ›å»ºäº†æ‰€æœ‰çš„Beanã€‚è¿™æ ·ï¼Œåœ¨å®¹å™¨å¯åŠ¨<br>æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å‘ç°Springä¸­å­˜åœ¨çš„é…ç½®é”™è¯¯ï¼Œè¿™æ ·æœ‰åˆ©äºæ£€æŸ¥æ‰€ä¾èµ–å±æ€§æ˜¯å¦æ³¨<br>å…¥ã€‚ApplicationContextå¯åŠ¨åé¢„è½½å…¥æ‰€æœ‰çš„å•å®ä¾‹Beanï¼Œé€šè¿‡é¢„è½½å…¥å•å®ä¾‹bean ,ç¡®ä¿å½“<br>ä½ éœ€è¦çš„æ—¶å€™ï¼Œä½ å°±ä¸ç”¨ç­‰å¾…ï¼Œå› ä¸ºå®ƒä»¬å·²ç»åˆ›å»ºå¥½äº†ã€‚ç›¸å¯¹äºåŸºæœ¬çš„ BeanFactoryï¼Œ<br>ApplicationContextå”¯ä¸€çš„ä¸è¶³æ˜¯å ç”¨å†…å­˜ç©ºé—´ã€‚å½“åº”ç”¨ç¨‹åºé…ç½®Beanè¾ƒå¤šæ—¶ï¼Œ<br>ç¨‹åºå¯åŠ¨è¾ƒæ…¢ã€‚<br>(3)BeanFactoryé€šå¸¸ä»¥ç¼–ç¨‹çš„æ–¹å¼è¢«åˆ›å»ºï¼ŒApplicationContextè¿˜èƒ½ä»¥å£°æ˜çš„æ–¹å¼åˆ›å»ºï¼Œ<br>å¦‚ä½¿ç”¨ ContextLoaderã€‚<br>ï¼ˆ4ï¼‰ BeanFactoryå’Œ ApplicationContext éƒ½æ”¯æŒ BeanPostProcessorã€<br>BeanFactoryPostProcessorçš„ä½¿ç”¨ï¼Œä½†ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«æ˜¯: BeanFactoryéœ€è¦æ‰‹åŠ¨æ³¨å†Œï¼Œè€Œ<br>ApplicationContextåˆ™æ˜¯è‡ªåŠ¨æ³¨å†Œã€‚</p><h4 id="4-2-1-1ï¼šè¯·ä»‹ç»ä¸‹å¸¸ç”¨çš„-BeanFactory-å®¹å™¨ï¼Ÿ"><a href="#4-2-1-1ï¼šè¯·ä»‹ç»ä¸‹å¸¸ç”¨çš„-BeanFactory-å®¹å™¨ï¼Ÿ" class="headerlink" title="4-2-1-1ï¼šè¯·ä»‹ç»ä¸‹å¸¸ç”¨çš„ BeanFactory å®¹å™¨ï¼Ÿ"></a>4-2-1-1ï¼šè¯·ä»‹ç»ä¸‹å¸¸ç”¨çš„ BeanFactory å®¹å™¨ï¼Ÿ</h4><p>BeanFactory æœ€å¸¸ç”¨çš„æ˜¯ XmlBeanFactory ã€‚<br>å®ƒå¯ä»¥æ ¹æ® XML æ–‡ä»¶ä¸­å®šä¹‰çš„å†…å®¹ï¼Œåˆ›å»ºç›¸åº”çš„ Beanã€‚</p><h4 id="4-2-1-2ï¼šè¯·ä»‹ç»ä¸‹å¸¸ç”¨çš„-ApplicationContext-å®¹å™¨ï¼Ÿ"><a href="#4-2-1-2ï¼šè¯·ä»‹ç»ä¸‹å¸¸ç”¨çš„-ApplicationContext-å®¹å™¨ï¼Ÿ" class="headerlink" title="4-2-1-2ï¼šè¯·ä»‹ç»ä¸‹å¸¸ç”¨çš„ ApplicationContext å®¹å™¨ï¼Ÿ"></a>4-2-1-2ï¼šè¯·ä»‹ç»ä¸‹å¸¸ç”¨çš„ ApplicationContext å®¹å™¨ï¼Ÿ</h4><p>1ã€ClassPathXmlApplicationContext ï¼šä» ClassPath çš„ XML é…ç½®æ–‡ä»¶ä¸­è¯»å–ä¸Šä¸‹æ–‡ï¼Œ<br>                                    å¹¶ç”Ÿæˆä¸Šä¸‹æ–‡å®šä¹‰ã€‚åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä»ç¨‹åºç¯å¢ƒå˜é‡ä¸­å–å¾—ã€‚<br>2ã€FileSystemXmlApplicationContext ï¼šç”±æ–‡ä»¶ç³»ç»Ÿä¸­çš„XMLé…ç½®æ–‡ä»¶è¯»å–ä¸Šä¸‹æ–‡ã€‚ç¤º<br>3ã€XmlWebApplicationContext ï¼šç”± Web åº”ç”¨çš„XMLæ–‡ä»¶è¯»å–ä¸Šä¸‹æ–‡ã€‚ä¾‹å¦‚æˆ‘ä»¬åœ¨ Spring MVC ä½¿ç”¨çš„æƒ…å†µã€‚</p><p>ç¬¬å››ç§ ApplicationContext å®¹å™¨ï¼ŒConfigServletWebServerApplicationContext ã€‚</p><h3 id="4-2-2ï¼šBeanFactoryå’ŒFactoryBeançš„åŒºåˆ«ï¼ˆ51æœŸï¼‰"><a href="#4-2-2ï¼šBeanFactoryå’ŒFactoryBeançš„åŒºåˆ«ï¼ˆ51æœŸï¼‰" class="headerlink" title="4-2-2ï¼šBeanFactoryå’ŒFactoryBeançš„åŒºåˆ«ï¼ˆ51æœŸï¼‰"></a>4-2-2ï¼šBeanFactoryå’ŒFactoryBeançš„åŒºåˆ«ï¼ˆ51æœŸï¼‰</h3><p>BeanFactoryæ˜¯ä¸ªFactoryï¼Œä¹Ÿå°±æ˜¯IOCå®¹å™¨æˆ–å¯¹è±¡å·¥å‚ï¼Œ<br>FactoryBeanæ˜¯ä¸ªBeanã€‚åœ¨Springä¸­ï¼Œ<br>æ‰€æœ‰çš„Beanéƒ½æ˜¯ç”±BeanFactory(ä¹Ÿå°±æ˜¯IOCå®¹å™¨)æ¥è¿›è¡Œç®¡ç†çš„ã€‚<br>ä½†å¯¹FactoryBeanè€Œè¨€ï¼Œè¿™ä¸ªBeanä¸æ˜¯ç®€å•çš„Beanï¼Œ<br>è€Œæ˜¯ä¸€ä¸ªèƒ½ç”Ÿäº§æˆ–è€…ä¿®é¥°å¯¹è±¡ç”Ÿæˆçš„å·¥å‚Bean,<br>å®ƒçš„å®ç°ä¸è®¾è®¡æ¨¡å¼ä¸­çš„å·¥å‚æ¨¡å¼å’Œä¿®é¥°å™¨æ¨¡å¼ç±»ä¼¼</p><h4 id="4-2-2-1ï¼šBeanFactory"><a href="#4-2-2-1ï¼šBeanFactory" class="headerlink" title="4-2-2-1ï¼šBeanFactory"></a>4-2-2-1ï¼šBeanFactory</h4><p>ä»¥Factoryç»“å°¾ï¼Œè¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªå·¥å‚ç±»(æ¥å£)ï¼Œ<br>å®ƒè´Ÿè´£ç”Ÿäº§å’Œç®¡ç†beançš„ä¸€ä¸ªå·¥å‚ã€‚<br>åœ¨Springä¸­ï¼ŒBeanFactoryæ˜¯IOCå®¹å™¨çš„æ ¸å¿ƒæ¥å£ï¼Œ<br>å®ƒçš„èŒè´£åŒ…æ‹¬ï¼šå®ä¾‹åŒ–ã€å®šä½ã€é…ç½®<br>åº”ç”¨ç¨‹åºä¸­çš„å¯¹è±¡åŠå»ºç«‹è¿™äº›å¯¹è±¡é—´çš„ä¾èµ–ã€‚</p><h4 id="4-2-2-2ï¼šFactoryBean"><a href="#4-2-2-2ï¼šFactoryBean" class="headerlink" title="4-2-2-2ï¼šFactoryBean"></a>4-2-2-2ï¼šFactoryBean</h4><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒSpringé€šè¿‡åå°„æœºåˆ¶åˆ©ç”¨<bean><br>çš„classå±æ€§æŒ‡å®šå®ç°ç±»å®ä¾‹åŒ–Beanï¼Œ<br>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå®ä¾‹åŒ–Beanè¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œ<br>å¦‚æœæŒ‰ç…§ä¼ ç»Ÿçš„æ–¹å¼ï¼Œ<br>åˆ™éœ€è¦åœ¨<bean>ä¸­æä¾›å¤§é‡çš„é…ç½®ä¿¡æ¯ã€‚<br>é…ç½®æ–¹å¼çš„çµæ´»æ€§æ˜¯å—é™çš„ï¼Œ<br>è¿™æ—¶é‡‡ç”¨ç¼–ç çš„æ–¹å¼å¯èƒ½ä¼šå¾—åˆ°ä¸€ä¸ªç®€å•çš„æ–¹æ¡ˆã€‚</p><h2 id="4-3ï¼šä¾èµ–æ³¨å…¥"><a href="#4-3ï¼šä¾èµ–æ³¨å…¥" class="headerlink" title="4-3ï¼šä¾èµ–æ³¨å…¥"></a>4-3ï¼šä¾èµ–æ³¨å…¥</h2><h3 id="4-3-1ï¼šä¾èµ–æ³¨å…¥æ¦‚å¿µ"><a href="#4-3-1ï¼šä¾èµ–æ³¨å…¥æ¦‚å¿µ" class="headerlink" title="4-3-1ï¼šä¾èµ–æ³¨å…¥æ¦‚å¿µ"></a>4-3-1ï¼šä¾èµ–æ³¨å…¥æ¦‚å¿µ</h3><p>åœ¨ä¾èµ–æ³¨å…¥ä¸­ï¼Œä¸å¿…ä¸»åŠ¨ã€æ‰‹åŠ¨åˆ›å»ºå¯¹è±¡ï¼Œä½†å¿…é¡»æè¿°å¦‚ä½•åˆ›å»ºå®ƒä»¬ã€‚<br>ä¸æ˜¯ç›´æ¥åœ¨ä»£ç ä¸­å°†ç»„ä»¶å’ŒæœåŠ¡è¿æ¥åœ¨ä¸€èµ·ï¼Œè€Œæ˜¯æè¿°é…ç½®æ–‡ä»¶ä¸­å“ªäº›ç»„ä»¶éœ€è¦å“ªäº›æœåŠ¡ã€‚<br>ç„¶åï¼Œå†ç”± IoC å®¹å™¨å°†å®ƒä»¬è£…é…åœ¨ä¸€èµ·ã€‚</p><h3 id="4-3-2ï¼šæœ‰å“ªäº›ä¸åŒç±»å‹çš„IOCï¼ˆä¾èµ–æ³¨å…¥ï¼‰æ–¹å¼ï¼Ÿ"><a href="#4-3-2ï¼šæœ‰å“ªäº›ä¸åŒç±»å‹çš„IOCï¼ˆä¾èµ–æ³¨å…¥ï¼‰æ–¹å¼ï¼Ÿ" class="headerlink" title="4-3-2ï¼šæœ‰å“ªäº›ä¸åŒç±»å‹çš„IOCï¼ˆä¾èµ–æ³¨å…¥ï¼‰æ–¹å¼ï¼Ÿ"></a>4-3-2ï¼šæœ‰å“ªäº›ä¸åŒç±»å‹çš„IOCï¼ˆä¾èµ–æ³¨å…¥ï¼‰æ–¹å¼ï¼Ÿ</h3><p><code>æ„é€ å™¨ä¾èµ–æ³¨å…¥</code>ï¼šÂ æ„é€ å™¨ä¾èµ–æ³¨å…¥é€šè¿‡å®¹å™¨è§¦å‘ä¸€ä¸ªç±»çš„æ„é€ å™¨æ¥å®ç°çš„ï¼Œ<br>                  è¯¥ç±»æœ‰ä¸€ç³»åˆ—å‚æ•°ï¼Œæ¯ä¸ªå‚æ•°ä»£è¡¨ä¸€ä¸ªå¯¹å…¶ä»–ç±»çš„ä¾èµ–ã€‚<br><code>Setteræ–¹æ³•æ³¨å…¥</code>ï¼šÂ Setteræ–¹æ³•æ³¨å…¥æ˜¯å®¹å™¨é€šè¿‡è°ƒç”¨æ— å‚æ„é€ å™¨æˆ–æ— å‚staticå·¥å‚<br>                  æ–¹æ³•å®ä¾‹åŒ–beanä¹‹åï¼Œè°ƒç”¨è¯¥beançš„setteræ–¹æ³•ï¼Œ<br>                  å³å®ç°äº†åŸºäºsetterçš„ä¾èµ–æ³¨å…¥ã€‚<br><code>æ¥å£æ³¨å…¥</code>ï¼š       å®šä¹‰æ¥å£</p><h4 id="4-3-2-1ï¼šä¸‰ç§æ–¹å¼çš„åŒºåˆ«å°ç»“"><a href="#4-3-2-1ï¼šä¸‰ç§æ–¹å¼çš„åŒºåˆ«å°ç»“" class="headerlink" title="4-3-2-1ï¼šä¸‰ç§æ–¹å¼çš„åŒºåˆ«å°ç»“"></a>4-3-2-1ï¼šä¸‰ç§æ–¹å¼çš„åŒºåˆ«å°ç»“</h4><ol><li>åŸºäºæ„é€ å™¨çš„æ³¨å…¥ï¼Œä¼šå›ºå®šä¾èµ–æ³¨å…¥çš„é¡ºåºï¼›<br>è¯¥æ–¹å¼ä¸å…è®¸æˆ‘ä»¬åˆ›å»ºbeanå¯¹è±¡ä¹‹é—´çš„å¾ªç¯ä¾èµ–å…³ç³»ï¼Œ<br>è¿™ç§é™åˆ¶å…¶å®æ˜¯ä¸€ç§åˆ©ç”¨æ„é€ å™¨æ¥æ³¨å…¥çš„ç›Šå¤„<br>æ²¡æœ‰æ³¨æ„åˆ°ä½¿ç”¨setteræ³¨å…¥çš„æ—¶å€™ï¼ŒSpringèƒ½è§£å†³å¾ªç¯ä¾èµ–çš„é—®é¢˜ï¼›</li><li>åŸºäºsetterçš„æ³¨å…¥ï¼Œåªæœ‰å½“å¯¹è±¡æ˜¯éœ€è¦è¢«æ³¨å…¥çš„æ—¶å€™å®ƒæ‰ä¼šå¸®åŠ©æˆ‘ä»¬æ³¨å…¥ä¾èµ–ï¼Œ<br>è€Œä¸æ˜¯åœ¨åˆå§‹åŒ–çš„æ—¶å€™å°±æ³¨å…¥ï¼›å¦ä¸€æ–¹é¢å¦‚æœä½ ä½¿ç”¨åŸºäºconstructoræ³¨å…¥ï¼Œ<br>CGLIBä¸èƒ½åˆ›å»ºä¸€ä¸ªä»£ç†ï¼Œè¿«ä½¿ä½ ä½¿ç”¨åŸºäºæ¥å£çš„ä»£ç†æˆ–è™šæ‹Ÿçš„æ— å‚æ•°æ„é€ å‡½æ•°ã€‚</li><li>ä½¿ç”¨ç›´æ¥åœ¨æˆå‘˜å˜é‡ä¸Šå†™ä¸Šæ³¨è§£æ¥æ³¨å…¥è¿™ç§æ–¹å¼<br>çœ‹èµ·æ¥éå¸¸å¥½ï¼Œç²¾çŸ­ï¼Œå¯è¯»æ€§é«˜ï¼Œä¸éœ€è¦å¤šä½™çš„ä»£ç ï¼Œä¹Ÿæ–¹ä¾¿ç»´æŠ¤ï¼›</li></ol><h2 id="4-4ï¼šIOCä¸DIçš„çš„åŒºåˆ«ï¼ˆä¿®æ”¹ï¼‰"><a href="#4-4ï¼šIOCä¸DIçš„çš„åŒºåˆ«ï¼ˆä¿®æ”¹ï¼‰" class="headerlink" title="4-4ï¼šIOCä¸DIçš„çš„åŒºåˆ«ï¼ˆä¿®æ”¹ï¼‰"></a>4-4ï¼šIOCä¸DIçš„çš„åŒºåˆ«ï¼ˆä¿®æ”¹ï¼‰</h2><p>IOC:  æ§åˆ¶åè½¬,å°†ç±»çš„å¯¹è±¡çš„åˆ›å»ºäº¤ç»™Springç±»ç®¡ç†åˆ›å»º.<br>DI:   ä¾èµ–æ³¨å…¥,å°†ç±»é‡Œé¢çš„å±æ€§åœ¨åˆ›å»ºç±»çš„è¿‡ç¨‹ä¸­ç»™å±æ€§èµ‹å€¼. </p><h2 id="4-5ï¼šSpring-æ¡†æ¶ä¸­æœ‰å“ªäº›ä¸åŒç±»å‹çš„äº‹ä»¶ï¼Ÿ"><a href="#4-5ï¼šSpring-æ¡†æ¶ä¸­æœ‰å“ªäº›ä¸åŒç±»å‹çš„äº‹ä»¶ï¼Ÿ" class="headerlink" title="4-5ï¼šSpring æ¡†æ¶ä¸­æœ‰å“ªäº›ä¸åŒç±»å‹çš„äº‹ä»¶ï¼Ÿ"></a>4-5ï¼šSpring æ¡†æ¶ä¸­æœ‰å“ªäº›ä¸åŒç±»å‹çš„äº‹ä»¶ï¼Ÿ</h2><ol><li>ä¸Šä¸‹æ–‡æ›´æ–°äº‹ä»¶ï¼ˆContextRefreshedEventï¼‰ï¼š<br>è¯¥äº‹ä»¶ä¼šåœ¨ApplicationContext è¢«åˆå§‹åŒ–æˆ–è€…æ›´æ–°æ—¶å‘å¸ƒã€‚<br>ä¹Ÿå¯ä»¥åœ¨è°ƒç”¨ConfigurableApplicationContext æ¥å£ä¸­çš„ #refresh() æ–¹æ³•æ—¶è¢«è§¦å‘ã€‚</li><li>ä¸Šä¸‹æ–‡å¼€å§‹äº‹ä»¶ï¼ˆContextStartedEventï¼‰ï¼š<br>å½“å®¹å™¨è°ƒç”¨ConfigurableApplicationContext çš„ #start()<br>æ–¹æ³•å¼€å§‹/é‡æ–°å¼€å§‹å®¹å™¨æ—¶è§¦å‘è¯¥äº‹ä»¶ã€‚</li><li>ä¸Šä¸‹æ–‡åœæ­¢äº‹ä»¶ï¼ˆContextStoppedEventï¼‰ï¼š<br>å½“å®¹å™¨è°ƒç”¨ ConfigurableApplicationContext çš„<br>#stop() æ–¹æ³•åœæ­¢å®¹å™¨æ—¶è§¦å‘è¯¥äº‹ä»¶ã€‚</li><li>ä¸Šä¸‹æ–‡å…³é—­äº‹ä»¶ï¼ˆContextClosedEventï¼‰ï¼š<br>å½“ApplicationContext è¢«å…³é—­æ—¶è§¦å‘è¯¥äº‹ä»¶ã€‚<br>å®¹å™¨è¢«å…³é—­æ—¶ï¼Œå…¶ç®¡ç†çš„æ‰€æœ‰å•ä¾‹ Bean éƒ½è¢«é”€æ¯ã€‚</li><li>è¯·æ±‚å¤„ç†äº‹ä»¶ï¼ˆRequestHandledEventï¼‰ï¼š<br>åœ¨ We båº”ç”¨ä¸­ï¼Œå½“ä¸€ä¸ªHTTP è¯·æ±‚ï¼ˆrequestï¼‰ç»“æŸè§¦å‘è¯¥äº‹ä»¶ã€‚</li><li>é€šè¿‡æ‰©å±• ApplicationEvent ç±»æ¥å¼€å‘è‡ªå®šä¹‰çš„äº‹ä»¶</li></ol><h1 id="5-AOP"><a href="#5-AOP" class="headerlink" title="5.AOP"></a>5.AOP</h1><h2 id="5-1ï¼šä»€ä¹ˆæ˜¯aop"><a href="#5-1ï¼šä»€ä¹ˆæ˜¯aop" class="headerlink" title="5-1ï¼šä»€ä¹ˆæ˜¯aop"></a>5-1ï¼šä»€ä¹ˆæ˜¯aop</h2><p>AOPé¢å‘åˆ‡é¢ç¼–ç¨‹, å®ƒä¸OOPæˆ‘è®¤ä¸ºæ˜¯å…±åŒä½œç”¨çš„ï¼Œ<br>ä»–æ‰€æä¾›äº†ä¸ OOP ä¸åŒçš„æŠ½è±¡è½¯ä»¶ç»“æ„çš„è§†è§’ã€‚<br>   åœ¨ OOP ä¸­ï¼Œä»¥ç±»( Class )ä½œä¸ºåŸºæœ¬å•å…ƒ<br>   åœ¨ AOP ä¸­ï¼Œä»¥åˆ‡é¢( Aspect )ä½œä¸ºåŸºæœ¬å•å…ƒã€‚<br>AOP çš„å·¥ä½œé‡å¿ƒåœ¨äºå¦‚ä½•å°†å¢å¼ºç¼–ç»‡ç›®æ ‡å¯¹è±¡çš„è¿æ¥ç‚¹ä¸Š, è¿™é‡ŒåŒ…å«ä¸¤ä¸ªå·¥ä½œ:<br>   å¦‚ä½•é€šè¿‡ PointCut å’Œ Advice å®šä½åˆ°ç‰¹å®šçš„ JoinPoint ä¸Šã€‚<br>   å¦‚ä½•åœ¨ Advice ä¸­ç¼–å†™åˆ‡é¢ä»£ç ã€‚</p><h3 id="5-1-1ï¼šä»€ä¹ˆæ˜¯-Aspect"><a href="#5-1-1ï¼šä»€ä¹ˆæ˜¯-Aspect" class="headerlink" title="5-1-1ï¼šä»€ä¹ˆæ˜¯ Aspect"></a>5-1-1ï¼šä»€ä¹ˆæ˜¯ Aspect</h3><p>@Aspect æ³¨è§£çš„ç±»å°±æ˜¯åˆ‡é¢<br>Aspect ç”± PointCut å’Œ Advice ç»„æˆã€‚<br>   å®ƒæ—¢åŒ…å«äº†æ¨ªåˆ‡é€»è¾‘çš„å®šä¹‰ï¼Œä¹ŸåŒ…æ‹¬äº†è¿æ¥ç‚¹çš„å®šä¹‰ã€‚<br>   Spring AOP å°±æ˜¯è´Ÿè´£å®æ–½åˆ‡é¢çš„æ¡†æ¶ï¼Œå®ƒå°†åˆ‡é¢æ‰€å®šä¹‰çš„æ¨ªåˆ‡é€»è¾‘ç¼–ç»‡åˆ°åˆ‡é¢æ‰€æŒ‡å®šçš„è¿æ¥ç‚¹ä¸­ã€‚</p><h3 id="5-1-2ï¼šä»€ä¹ˆæ˜¯-JoinPoint"><a href="#5-1-2ï¼šä»€ä¹ˆæ˜¯-JoinPoint" class="headerlink" title="5-1-2ï¼šä»€ä¹ˆæ˜¯ JoinPoint"></a>5-1-2ï¼šä»€ä¹ˆæ˜¯ JoinPoint</h3><p>JoinPoint ï¼Œåˆ‡ç‚¹ï¼Œç¨‹åºè¿è¡Œä¸­çš„ä¸€äº›æ—¶é—´ç‚¹, ä¾‹å¦‚ï¼š<br>ä¸€ä¸ªæ–¹æ³•çš„æ‰§è¡Œã€‚<br>æˆ–è€…æ˜¯ä¸€ä¸ªå¼‚å¸¸çš„å¤„ç†ã€‚<br>åœ¨ Spring AOP ä¸­ï¼ŒJoinPoint æ€»æ˜¯æ–¹æ³•çš„æ‰§è¡Œç‚¹ã€‚</p><h3 id="5-1-3ï¼šä»€ä¹ˆæ˜¯-PointCut"><a href="#5-1-3ï¼šä»€ä¹ˆæ˜¯-PointCut" class="headerlink" title="5-1-3ï¼šä»€ä¹ˆæ˜¯ PointCut"></a>5-1-3ï¼šä»€ä¹ˆæ˜¯ PointCut</h3><p>PointCut æ˜¯åŒ¹é… JoinPoint çš„æ¡ä»¶ã€‚</p><p>Advice æ˜¯å’Œç‰¹å®šçš„ PointCut å…³è”çš„ï¼Œ<br>å¹¶ä¸”åœ¨ PointCut ç›¸åŒ¹é…çš„ JoinPoint ä¸­æ‰§è¡Œã€‚<br>åœ¨ Spring ä¸­, æ‰€æœ‰çš„æ–¹æ³•éƒ½å¯ä»¥è®¤ä¸ºæ˜¯ JoinPoint ï¼Œ<br>ä½†æ˜¯æˆ‘ä»¬å¹¶ä¸å¸Œæœ›åœ¨æ‰€æœ‰çš„æ–¹æ³•ä¸Šéƒ½æ·»åŠ  Advice ã€‚<br>è€Œ PointCut çš„ä½œç”¨ï¼Œå°±æ˜¯æä¾›ä¸€ç»„è§„åˆ™ æ¥åŒ¹é… JoinPoint ï¼Œ<br>ç»™æ»¡è¶³è§„åˆ™çš„ JoinPoint æ·»åŠ  Advice ã€‚</p><h3 id="5-1-3-4ï¼šå…³äº-JoinPoint-å’Œ-PointCut-çš„åŒºåˆ«"><a href="#5-1-3-4ï¼šå…³äº-JoinPoint-å’Œ-PointCut-çš„åŒºåˆ«" class="headerlink" title="5-1-3~4ï¼šå…³äº JoinPoint å’Œ PointCut çš„åŒºåˆ«"></a>5-1-3~4ï¼šå…³äº JoinPoint å’Œ PointCut çš„åŒºåˆ«</h3><ol><li>åœ¨ Spring AOP ä¸­ï¼Œæ‰€æœ‰çš„æ–¹æ³•æ‰§è¡Œéƒ½æ˜¯ JoinPoint ã€‚<br>è€Œ PointCut æ˜¯ä¸€ä¸ªæè¿°ä¿¡æ¯ï¼Œå®ƒä¿®é¥°çš„æ˜¯ JoinPoint ï¼Œ<br>é€šè¿‡ PointCut ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç¡®å®šå“ªäº› JoinPoint å¯ä»¥è¢«ç»‡å…¥ Advice ã€‚</li><li>Advice æ˜¯åœ¨ JoinPoint ä¸Šæ‰§è¡Œçš„ï¼Œ<br>è€Œ PointCut è§„å®šäº†å“ªäº› JoinPoint å¯ä»¥æ‰§è¡Œå“ªäº› Advice ã€‚</li></ol><p>é¦–å…ˆï¼ŒAdvice é€šè¿‡ PointCut æŸ¥è¯¢éœ€è¦è¢«ç»‡å…¥çš„ JoinPoint ã€‚<br>ç„¶åï¼ŒAdvice åœ¨æŸ¥è¯¢åˆ° JoinPoint ä¸Šæ‰§è¡Œé€»è¾‘ã€‚</p><h3 id="5-1-5ï¼šä»€ä¹ˆæ˜¯-Advice-ï¼Ÿ"><a href="#5-1-5ï¼šä»€ä¹ˆæ˜¯-Advice-ï¼Ÿ" class="headerlink" title="5-1-5ï¼šä»€ä¹ˆæ˜¯ Advice ï¼Ÿ"></a>5-1-5ï¼šä»€ä¹ˆæ˜¯ Advice ï¼Ÿ</h3><p>é€šçŸ¥ã€‚<br>æ¯”å¦‚è¯´ç‰¹å®š JoinPoint å¤„çš„ Aspect æ‰€é‡‡å–çš„åŠ¨ä½œç§°ä¸º Advice ã€‚<br>Spring AOP ä½¿ç”¨ä¸€ä¸ª Advice ä½œä¸ºæ‹¦æˆªå™¨ï¼Œ<br>åœ¨ JoinPoint â€œå‘¨å›´â€ç»´æŠ¤ä¸€ç³»åˆ—çš„æ‹¦æˆªå™¨ã€‚</p><h4 id="5-1-5-1ï¼šæœ‰å“ªäº›ç±»å‹çš„-Adviceï¼Ÿ"><a href="#5-1-5-1ï¼šæœ‰å“ªäº›ç±»å‹çš„-Adviceï¼Ÿ" class="headerlink" title="5-1-5-1ï¼šæœ‰å“ªäº›ç±»å‹çš„ Adviceï¼Ÿ"></a>5-1-5-1ï¼šæœ‰å“ªäº›ç±»å‹çš„ Adviceï¼Ÿ</h4><ol><li>Before - è¿™äº›ç±»å‹çš„ Advice åœ¨ JoinPoint æ–¹æ³•ä¹‹å‰æ‰§è¡Œï¼Œ<pre><code>     å¹¶ä½¿ç”¨ @Before æ³¨è§£æ ‡è®°è¿›è¡Œé…ç½®ã€‚</code></pre></li><li>After Returning - è¿™äº›ç±»å‹çš„ Advice åœ¨è¿æ¥ç‚¹æ–¹æ³•æ­£å¸¸æ‰§è¡Œåæ‰§è¡Œï¼Œ<pre><code>              å¹¶ä½¿ç”¨ @AfterReturning æ³¨è§£æ ‡è®°è¿›è¡Œé…ç½®ã€‚</code></pre></li><li>After Throwing - è¿™äº›ç±»å‹çš„ Advice ä»…åœ¨ JoinPoint <pre><code>             æ–¹æ³•é€šè¿‡æŠ›å‡ºå¼‚å¸¸é€€å‡ºå¹¶ä½¿ç”¨              @AfterThrowing æ³¨è§£æ ‡è®°é…ç½®æ—¶æ‰§è¡Œã€‚</code></pre></li><li>After Finally - è¿™äº›ç±»å‹çš„ Advice åœ¨è¿æ¥ç‚¹æ–¹æ³•ä¹‹åæ‰§è¡Œï¼Œ<pre><code>            æ— è®ºæ–¹æ³•é€€å‡ºæ˜¯æ­£å¸¸è¿˜æ˜¯å¼‚å¸¸è¿”å›ï¼Œ            å¹¶ä½¿ç”¨ @After æ³¨è§£æ ‡è®°è¿›è¡Œé…ç½®ã€‚</code></pre></li><li>Around - è¿™äº›ç±»å‹çš„ Advice åœ¨è¿æ¥ç‚¹ä¹‹å‰å’Œä¹‹åæ‰§è¡Œï¼Œ<pre><code>     å¹¶ä½¿ç”¨ @Around æ³¨è§£æ ‡è®°è¿›è¡Œé…ç½®ã€‚</code></pre></li></ol><h3 id="5-1-6ï¼šä»€ä¹ˆæ˜¯-Target"><a href="#5-1-6ï¼šä»€ä¹ˆæ˜¯-Target" class="headerlink" title="5-1-6ï¼šä»€ä¹ˆæ˜¯ Target"></a>5-1-6ï¼šä»€ä¹ˆæ˜¯ Target</h3><p>Target ï¼Œç»‡å…¥ Advice çš„ç›®æ ‡å¯¹è±¡ã€‚ç›®æ ‡å¯¹è±¡ä¹Ÿè¢«ç§°ä¸º Advised Object ã€‚</p><p>å› ä¸º Spring AOP ä½¿ç”¨è¿è¡Œæ—¶ä»£ç†çš„æ–¹å¼æ¥å®ç° Aspect ï¼Œ<br>å› æ­¤ Advised Object æ€»æ˜¯ä¸€ä¸ªä»£ç†å¯¹è±¡(Proxied Object) ã€‚<br>æ³¨æ„, Advised Object æŒ‡çš„ä¸æ˜¯åŸæ¥çš„å¯¹è±¡ï¼Œè€Œæ˜¯ç»‡å…¥ Advice åæ‰€äº§ç”Ÿçš„ä»£ç†å¯¹è±¡ã€‚<br>Advice + Target Object = Advised Object = Proxy ã€‚</p><h3 id="5-1-7ï¼šä»€ä¹ˆæ˜¯ç¼–ç»‡ï¼ˆWeavingï¼‰"><a href="#5-1-7ï¼šä»€ä¹ˆæ˜¯ç¼–ç»‡ï¼ˆWeavingï¼‰" class="headerlink" title="5-1-7ï¼šä»€ä¹ˆæ˜¯ç¼–ç»‡ï¼ˆWeavingï¼‰"></a>5-1-7ï¼šä»€ä¹ˆæ˜¯ç¼–ç»‡ï¼ˆWeavingï¼‰</h3><p>ä¸ºäº†åˆ›å»ºä¸€ä¸ª Advice å¯¹è±¡è€Œé“¾æ¥ä¸€ä¸ª Aspect å’Œå…¶å®ƒåº”ç”¨ç±»å‹æˆ–å¯¹è±¡ï¼Œå«åšç¼–ç»‡ã€‚<br>åœ¨ Spring AOP ä¸­ï¼Œç¼–ç»‡åœ¨è¿è¡Œæ—¶æ‰§è¡Œï¼Œå³åŠ¨æ€ä»£ç†</p><h3 id="5-1-8ï¼šAOPä¸­çš„åˆ‡é¢ã€åˆ‡ç‚¹ã€è¿æ¥ç‚¹ã€é€šçŸ¥ï¼Œå››è€…çš„å…³ç³»"><a href="#5-1-8ï¼šAOPä¸­çš„åˆ‡é¢ã€åˆ‡ç‚¹ã€è¿æ¥ç‚¹ã€é€šçŸ¥ï¼Œå››è€…çš„å…³ç³»" class="headerlink" title="5-1-8ï¼šAOPä¸­çš„åˆ‡é¢ã€åˆ‡ç‚¹ã€è¿æ¥ç‚¹ã€é€šçŸ¥ï¼Œå››è€…çš„å…³ç³»"></a>5-1-8ï¼šAOPä¸­çš„åˆ‡é¢ã€åˆ‡ç‚¹ã€è¿æ¥ç‚¹ã€é€šçŸ¥ï¼Œå››è€…çš„å…³ç³»</h3><p>åˆ‡é¢ï¼Œä¸€å®šè¦ç»™spring ç®¡ç†<br>åˆ‡ç‚¹ï¼Œç›®çš„æ˜¯ä¸ºäº†å°†æ³¨è§£å†™åœ¨ä¸Šé¢è€Œå·²<br>pointcutæ˜¯è¿æ¥ç‚¹çš„é›†åˆ<br>é€šçŸ¥â€”ã€‹é…ç½®åˆ‡ç‚¹</p><h2 id="5-2ï¼šaopæœ‰å“ªäº›å®ç°æ–¹å¼"><a href="#5-2ï¼šaopæœ‰å“ªäº›å®ç°æ–¹å¼" class="headerlink" title="5-2ï¼šaopæœ‰å“ªäº›å®ç°æ–¹å¼"></a>5-2ï¼šaopæœ‰å“ªäº›å®ç°æ–¹å¼</h2><p>å®ç° AOP çš„æŠ€æœ¯ï¼Œä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p><ol><li>é™æ€ä»£ç† - æŒ‡ä½¿ç”¨ AOP æ¡†æ¶æä¾›çš„å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œ<pre><code>      ä»è€Œåœ¨ç¼–è¯‘é˜¶æ®µå°±å¯ç”Ÿæˆ AOP ä»£ç†ç±»ï¼Œå› æ­¤ä¹Ÿç§°ä¸ºç¼–è¯‘æ—¶å¢å¼ºã€‚</code></pre>ä¾‹å¦‚ï¼ŒSkyWalking åŸºäº Java Agent æœºåˆ¶ï¼Œé…ç½®ä¸Š ByteBuddy åº“ï¼Œ<br>  å®ç°ç±»åŠ è½½æ—¶ç¼–ç»‡æ—¶å¢å¼ºï¼Œä»è€Œå®ç°é“¾è·¯è¿½è¸ªçš„é€æ˜åŸ‹ç‚¹ã€‚</li><li>åŠ¨æ€ä»£ç† - åœ¨è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­â€œä¸´æ—¶â€ç”Ÿæˆ AOP åŠ¨æ€ä»£ç†ç±»ï¼Œ<pre><code>     å› æ­¤ä¹Ÿè¢«ç§°ä¸ºè¿è¡Œæ—¶å¢å¼ºã€‚ç›®å‰ Spring ä¸­ä½¿ç”¨äº†ä¸¤ç§åŠ¨æ€ä»£ç†åº“ï¼š     JDK åŠ¨æ€ä»£ç†     CGLIB</code></pre></li></ol><h3 id="5-2-1ï¼šSpring-ä»€ä¹ˆæ—¶å€™ä½¿ç”¨-JDK-åŠ¨æ€ä»£ç†ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨-CGLIB-å‘¢"><a href="#5-2-1ï¼šSpring-ä»€ä¹ˆæ—¶å€™ä½¿ç”¨-JDK-åŠ¨æ€ä»£ç†ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨-CGLIB-å‘¢" class="headerlink" title="5-2-1ï¼šSpring ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨ CGLIB å‘¢"></a>5-2-1ï¼šSpring ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨ CGLIB å‘¢</h3><ol><li>JDK åŠ¨æ€ä»£ç†<br>JDK åŠ¨æ€ä»£ç†é€šè¿‡åå°„æ¥æ¥æ”¶è¢«ä»£ç†çš„ç±»ï¼Œå¹¶ä¸”è¦æ±‚è¢«ä»£ç†çš„ç±»å¿…é¡»å®ç°ä¸€ä¸ªæ¥å£ã€‚<br>JDKåŠ¨æ€ä»£ç†çš„æ ¸å¿ƒæ˜¯ InvocationHandler æ¥å£å’Œ Proxy ç±»ã€‚</li><li>CGLIB åŠ¨æ€ä»£ç†<br>å¦‚æœç›®æ ‡ç±»æ²¡æœ‰å®ç°æ¥å£ï¼Œé‚£ä¹ˆSpring AOPä¼šé€‰æ‹©ä½¿ç”¨CGLIBæ¥åŠ¨æ€ä»£ç†ç›®æ ‡ç±»ã€‚<br>å½“ç„¶ï¼ŒSpring ä¹Ÿæ”¯æŒé…ç½®ï¼Œå¼ºåˆ¶ä½¿ç”¨CGLIBåŠ¨æ€ä»£ç†ã€‚<br>CGLIBï¼ˆCode Generation Libraryï¼‰ï¼Œæ˜¯ä¸€ä¸ªä»£ç ç”Ÿæˆçš„ç±»åº“ï¼Œ<br>å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„ç”ŸæˆæŸä¸ªç±»çš„å­ç±»ï¼ŒCGLIB æ˜¯é€šè¿‡ç»§æ‰¿çš„æ–¹å¼åšçš„åŠ¨æ€ä»£ç†ï¼Œ<br>å› æ­¤å¦‚æœæŸä¸ªç±»è¢«æ ‡è®°ä¸º final ï¼Œé‚£ä¹ˆå®ƒæ˜¯æ— æ³•ä½¿ç”¨ CGLIB åšåŠ¨æ€ä»£ç†çš„ã€‚</li></ol><h3 id="5-2-2ï¼šæ˜¯ç¼–è¯‘æ—¶æœŸè¿›è¡Œç»‡å…¥ï¼Œè¿˜æ˜¯è¿è¡ŒæœŸè¿›è¡Œç»‡å…¥"><a href="#5-2-2ï¼šæ˜¯ç¼–è¯‘æ—¶æœŸè¿›è¡Œç»‡å…¥ï¼Œè¿˜æ˜¯è¿è¡ŒæœŸè¿›è¡Œç»‡å…¥" class="headerlink" title="5-2-2ï¼šæ˜¯ç¼–è¯‘æ—¶æœŸè¿›è¡Œç»‡å…¥ï¼Œè¿˜æ˜¯è¿è¡ŒæœŸè¿›è¡Œç»‡å…¥"></a>5-2-2ï¼šæ˜¯ç¼–è¯‘æ—¶æœŸè¿›è¡Œç»‡å…¥ï¼Œè¿˜æ˜¯è¿è¡ŒæœŸè¿›è¡Œç»‡å…¥</h3><p>è¿è¡ŒæœŸï¼Œç”Ÿæˆå­—èŠ‚ç ï¼Œå†åŠ è½½åˆ°è™šæ‹Ÿæœºä¸­ï¼Œ<br>JDKæ˜¯åˆ©ç”¨åå°„åŸç†ï¼ŒCGLIBä½¿ç”¨äº†ASMåŸç†ã€‚</p><h3 id="5-2-3ï¼šåˆå§‹åŒ–æ—¶æœŸç»‡å…¥è¿˜æ˜¯è·å–å¯¹è±¡æ—¶ç»‡å…¥"><a href="#5-2-3ï¼šåˆå§‹åŒ–æ—¶æœŸç»‡å…¥è¿˜æ˜¯è·å–å¯¹è±¡æ—¶ç»‡å…¥" class="headerlink" title="5-2-3ï¼šåˆå§‹åŒ–æ—¶æœŸç»‡å…¥è¿˜æ˜¯è·å–å¯¹è±¡æ—¶ç»‡å…¥"></a>5-2-3ï¼šåˆå§‹åŒ–æ—¶æœŸç»‡å…¥è¿˜æ˜¯è·å–å¯¹è±¡æ—¶ç»‡å…¥</h3><p>åˆå§‹åŒ–çš„æ—¶å€™ï¼Œå·²ç»å°†ç›®æ ‡å¯¹è±¡è¿›è¡Œä»£ç†ï¼Œæ”¾å…¥åˆ°spring å®¹å™¨ä¸­</p><h3 id="5-2-4ï¼šspring-AOP-é»˜è®¤ä½¿ç”¨jdkåŠ¨æ€ä»£ç†è¿˜æ˜¯cglib"><a href="#5-2-4ï¼šspring-AOP-é»˜è®¤ä½¿ç”¨jdkåŠ¨æ€ä»£ç†è¿˜æ˜¯cglib" class="headerlink" title="5-2-4ï¼šspring AOP é»˜è®¤ä½¿ç”¨jdkåŠ¨æ€ä»£ç†è¿˜æ˜¯cglib"></a>5-2-4ï¼šspring AOP é»˜è®¤ä½¿ç”¨jdkåŠ¨æ€ä»£ç†è¿˜æ˜¯cglib</h3><p>è¦çœ‹æ¡ä»¶ï¼Œå¦‚æœå®ç°äº†æ¥å£çš„ç±»ï¼Œæ˜¯ä½¿ç”¨jdkã€‚<br>å¦‚æœæ²¡å®ç°æ¥å£ï¼Œå°±ä½¿ç”¨cglibã€‚</p><h3 id="5-2-5ï¼šåŠ¨æ€ä»£ç†æ­¥éª¤"><a href="#5-2-5ï¼šåŠ¨æ€ä»£ç†æ­¥éª¤" class="headerlink" title="5-2-5ï¼šåŠ¨æ€ä»£ç†æ­¥éª¤"></a>5-2-5ï¼šåŠ¨æ€ä»£ç†æ­¥éª¤</h3><h4 id="5-2-5-1ï¼šJDKåŠ¨æ€ä»£ç†çš„æ­¥éª¤"><a href="#5-2-5-1ï¼šJDKåŠ¨æ€ä»£ç†çš„æ­¥éª¤" class="headerlink" title="5-2-5-1ï¼šJDKåŠ¨æ€ä»£ç†çš„æ­¥éª¤"></a>5-2-5-1ï¼šJDKåŠ¨æ€ä»£ç†çš„æ­¥éª¤</h4><ol><li>å…ˆæ£€æŸ¥å§”æ‰˜ç±»æ˜¯å¦å®ç°äº†ç›¸åº”æ¥å£ï¼Œä¿è¯è¢«è®¿é—®æ–¹æ³•åœ¨æ¥å£ä¸­ä¹Ÿè¦æœ‰å®šä¹‰</li><li>åˆ›å»ºä¸€ä¸ªå®ç°InvocationHandleræ¥å£çš„ç±»</li><li>åœ¨ç±»ä¸­å®šä¹‰ä¸€ä¸ªè¢«ä»£ç†å¯¹è±¡çš„æˆå‘˜å±æ€§ï¼Œä¸ºäº†æ‰©å±•æ–¹ä¾¿å¯ä»¥ç›´æ¥ä½¿ç”¨Objectç±»ï¼Œ<br>ä¹Ÿå¯ä»¥æ ¹æ®éœ€æ±‚å®šä¹‰ç›¸åº”çš„æ¥å£</li><li>åœ¨invokeæ–¹æ³•ä¸­å®ç°å¯¹å§”æ‰˜å¯¹è±¡çš„è°ƒç”¨ï¼Œæ ¹æ®éœ€æ±‚å¯¹æ–¹æ³•è¿›è¡Œå¢å¼º</li><li>ä½¿ç”¨Proxy.newProxyInstance(â€¦)æ–¹æ³•åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œå¹¶æä¾›è¦ç»™è·å–ä»£ç†å¯¹è±¡çš„æ–¹æ³•</li></ol><h4 id="5-2-5-2ï¼šcglibåŠ¨æ€ä»£ç†å®ç°æ­¥éª¤"><a href="#5-2-5-2ï¼šcglibåŠ¨æ€ä»£ç†å®ç°æ­¥éª¤" class="headerlink" title="5-2-5-2ï¼šcglibåŠ¨æ€ä»£ç†å®ç°æ­¥éª¤"></a>5-2-5-2ï¼šcglibåŠ¨æ€ä»£ç†å®ç°æ­¥éª¤</h4><ol><li>åˆ›å»ºä¸€ä¸ªå®ç°MethodInterceptoræ¥å£çš„ç±»</li><li>åœ¨ç±»ä¸­å®šä¹‰ä¸€ä¸ªè¢«ä»£ç†å¯¹è±¡çš„æˆå‘˜å±æ€§ï¼Œ<br>ä¸ºäº†æ‰©å±•æ–¹ä¾¿å¯ä»¥ç›´æ¥ä½¿ç”¨Objectç±»ï¼Œä¹Ÿå¯ä»¥æ ¹æ®éœ€æ±‚å®šä¹‰ç›¸åº”çš„æ¥å£</li><li>åœ¨invokeæ–¹æ³•ä¸­å®ç°å¯¹å§”æ‰˜å¯¹è±¡çš„è°ƒç”¨ï¼Œæ ¹æ®éœ€æ±‚å¯¹æ–¹æ³•è¿›è¡Œå¢å¼º</li><li>ä½¿ç”¨Enhanceråˆ›å»ºç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œå¹¶æä¾›è¦ç»™è·å–ä»£ç†å¯¹è±¡çš„æ–¹æ³•</li></ol><h3 id="5-2-6ï¼šjdkåŠ¨æ€ä»£ç†-VS-cglib"><a href="#5-2-6ï¼šjdkåŠ¨æ€ä»£ç†-VS-cglib" class="headerlink" title="5-2-6ï¼šjdkåŠ¨æ€ä»£ç† VS cglib"></a>5-2-6ï¼šjdkåŠ¨æ€ä»£ç† VS cglib</h3><h4 id="5-2-6-1ï¼šä¸¤ç§ä»£ç†æ¨¡å¼çš„æ¯”è¾ƒ"><a href="#5-2-6-1ï¼šä¸¤ç§ä»£ç†æ¨¡å¼çš„æ¯”è¾ƒ" class="headerlink" title="5-2-6-1ï¼šä¸¤ç§ä»£ç†æ¨¡å¼çš„æ¯”è¾ƒ"></a>5-2-6-1ï¼šä¸¤ç§ä»£ç†æ¨¡å¼çš„æ¯”è¾ƒ</h4><ol><li>JDK Proxy çš„ä¼˜åŠ¿ï¼š<ul><li>æœ€å°åŒ–ä¾èµ–å…³ç³»ï¼Œå‡å°‘ä¾èµ–æ„å‘³ç€ç®€åŒ–å¼€å‘å’Œç»´æŠ¤ï¼Œ<br>JDK æœ¬èº«çš„æ”¯æŒï¼Œå¯èƒ½æ¯” cglib æ›´åŠ å¯é ã€‚</li><li>å¹³æ»‘è¿›è¡Œ JDK ç‰ˆæœ¬å‡çº§ï¼Œ<br>è€Œå­—èŠ‚ç ç±»åº“é€šå¸¸éœ€è¦è¿›è¡Œæ›´æ–°ä»¥ä¿è¯åœ¨æ–°ç‰ˆ Java ä¸Šèƒ½å¤Ÿä½¿ç”¨ã€‚</li><li>ä»£ç å®ç°ç®€å•ã€‚</li></ul></li><li>cglib ä¼˜åŠ¿ï¼š<ul><li>æœ‰çš„æ—¶å€™è°ƒç”¨ç›®æ ‡å¯èƒ½ä¸ä¾¿å®ç°é¢å¤–æ¥å£ï¼Œ<br>ä»æŸç§è§’åº¦çœ‹ï¼Œé™å®šè°ƒç”¨è€…å®ç°æ¥å£æ˜¯æœ‰äº›ä¾µå…¥æ€§çš„å®è·µï¼Œ<br>ç±»ä¼¼ cglib åŠ¨æ€ä»£ç†å°±æ²¡æœ‰è¿™ç§é™åˆ¶ã€‚</li><li>åªæ“ä½œæˆ‘ä»¬å…³å¿ƒçš„ç±»ï¼Œè€Œä¸å¿…ä¸ºå…¶ä»–ç›¸å…³ç±»å¢åŠ å·¥ä½œé‡ã€‚</li></ul></li></ol><h4 id="5-2-6-2ï¼šjdkåŠ¨æ€ä»£ç†æ€§èƒ½è¿œæ¯”cglibè¦å·®ï¼Œå¦‚æœæ˜¯ï¼Œä¾æ®æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#5-2-6-2ï¼šjdkåŠ¨æ€ä»£ç†æ€§èƒ½è¿œæ¯”cglibè¦å·®ï¼Œå¦‚æœæ˜¯ï¼Œä¾æ®æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="5-2-6-2ï¼šjdkåŠ¨æ€ä»£ç†æ€§èƒ½è¿œæ¯”cglibè¦å·®ï¼Œå¦‚æœæ˜¯ï¼Œä¾æ®æ˜¯ä»€ä¹ˆï¼Ÿ"></a>5-2-6-2ï¼šjdkåŠ¨æ€ä»£ç†æ€§èƒ½è¿œæ¯”cglibè¦å·®ï¼Œå¦‚æœæ˜¯ï¼Œä¾æ®æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>JDKæœ‰ä¸€ä¸ªé™åˆ¶ï¼Œå°±æ˜¯å®ƒåªèƒ½ä¸ºæ¥å£åˆ›å»ºä»£ç†å®ä¾‹ï¼Œ<br>è€Œå¯¹äºæ²¡æœ‰é€šè¿‡æ¥å£å®šä¹‰ä¸šåŠ¡æ–¹æ³•çš„ç±»,éœ€è¦é€šè¿‡CGLibåˆ›å»ºåŠ¨æ€ä»£ç†å®ä¾‹  </p><h4 id="5-2-6-3ï¼šJDKçš„åŠ¨æ€ä»£ç†ä¸ºä»€ä¹ˆéœ€è¦æ¥å£"><a href="#5-2-6-3ï¼šJDKçš„åŠ¨æ€ä»£ç†ä¸ºä»€ä¹ˆéœ€è¦æ¥å£" class="headerlink" title="5-2-6-3ï¼šJDKçš„åŠ¨æ€ä»£ç†ä¸ºä»€ä¹ˆéœ€è¦æ¥å£"></a>5-2-6-3ï¼šJDKçš„åŠ¨æ€ä»£ç†ä¸ºä»€ä¹ˆéœ€è¦æ¥å£</h4><ol><li>åœ¨éœ€è¦ç»§æ‰¿proxyç±»è·å¾—æœ‰å…³æ–¹æ³•å’ŒInvocationHandleræ„é€ æ–¹æ³•ä¼ å‚çš„åŒæ—¶,<br>javaä¸èƒ½åŒæ—¶ç»§æ‰¿ä¸¤ä¸ªç±»ï¼Œæˆ‘ä»¬éœ€è¦å’Œæƒ³è¦ä»£ç†çš„ç±»å»ºç«‹è”ç³»ï¼Œåªèƒ½å®ç°ä¸€ä¸ªæ¥å£   </li><li>éœ€è¦åå°„è·å¾—ä»£ç†ç±»çš„æœ‰å…³å‚æ•°ï¼Œå¿…é¡»è¦é€šè¿‡æŸä¸ªç±»ï¼Œ<br>åå°„è·å–æœ‰å…³æ–¹æ³•ï¼Œ</li><li>æˆåŠŸè¿”å›çš„æ˜¯objectç±»å‹ï¼Œè¦è·å–åŸç±»ï¼Œ<br>åªèƒ½ç»§æ‰¿/å®ç°ï¼Œæˆ–è€…å°±æ˜¯é‚£ä¸ªä»£ç†ç±»</li><li>å¯¹å…·ä½“å®ç°çš„æ–¹æ³•å†…éƒ¨å¹¶ä¸å…³å¿ƒï¼Œ<br>è¿™ä¸ªäº¤ç»™InvocationHandler.invokeé‚£ä¸ªæ–¹æ³•é‡Œå»å¤„ç†å°±å¥½äº†ï¼Œ<br>æˆ‘åªæƒ³æ ¹æ®ä½ ç»™æˆ‘çš„æ¥å£åå°„å‡ºå¯¹æˆ‘æœ‰ç”¨çš„ä¸œè¥¿ã€‚</li><li>è€ƒè™‘åˆ°è®¾è®¡æ¨¡å¼ï¼Œä»¥åŠproxyç¼–è€…ç¼–å†™ä»£ç çš„é€»è¾‘</li></ol><h2 id="5-3ï¼šSpring-AOP-and-AspectJ-AOP-æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#5-3ï¼šSpring-AOP-and-AspectJ-AOP-æœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="5-3ï¼šSpring AOP and AspectJ AOP æœ‰ä»€ä¹ˆåŒºåˆ«"></a>5-3ï¼šSpring AOP and AspectJ AOP æœ‰ä»€ä¹ˆåŒºåˆ«</h2><ol><li>ä»£ç†æ–¹å¼ä¸åŒ<br>   Spring AOP åŸºäºåŠ¨æ€ä»£ç†æ–¹å¼å®ç°ã€‚<br>   AspectJ AOP åŸºäºé™æ€ä»£ç†æ–¹å¼å®ç°ã€‚</li><li>PointCut æ”¯æŒåŠ›åº¦ä¸åŒ<br>   Spring AOP ä»…æ”¯æŒæ–¹æ³•çº§åˆ«çš„ PointCut ã€‚<br>   AspectJ AOP æä¾›äº†å®Œå…¨çš„ AOP æ”¯æŒï¼Œå®ƒè¿˜æ”¯æŒå±æ€§çº§åˆ«çš„ PointCut ã€‚</li></ol><h2 id="5-4ï¼šSpring-å¦‚ä½•ä½¿ç”¨-AOP-åˆ‡é¢"><a href="#5-4ï¼šSpring-å¦‚ä½•ä½¿ç”¨-AOP-åˆ‡é¢" class="headerlink" title="5-4ï¼šSpring å¦‚ä½•ä½¿ç”¨ AOP åˆ‡é¢"></a>5-4ï¼šSpring å¦‚ä½•ä½¿ç”¨ AOP åˆ‡é¢</h2><p>åœ¨ Spring AOP ä¸­ï¼Œæœ‰ä¸¤ç§æ–¹å¼é…ç½® AOP åˆ‡é¢ï¼š</p><p>åŸºäº XML æ–¹å¼çš„åˆ‡é¢å®ç°ã€‚<br>åŸºäº æ³¨è§£ æ–¹å¼çš„åˆ‡é¢å®ç°ã€‚<br>ç›®å‰ï¼Œä¸»æµå–œæ¬¢ä½¿ç”¨ æ³¨è§£ æ–¹å¼ã€‚</p><h2 id="5-5ï¼šaopçš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›"><a href="#5-5ï¼šaopçš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›" class="headerlink" title="5-5ï¼šaopçš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›"></a>5-5ï¼šaopçš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›</h2><p>1ã€æ—¥å¿—è®°å½•<br>2ã€æƒé™éªŒè¯<br>3ã€æ•ˆç‡æ£€æŸ¥<br>4ã€äº‹åŠ¡ç®¡ç†</p><h1 id="6-Spring-Bean"><a href="#6-Spring-Bean" class="headerlink" title="6.Spring Bean"></a>6.Spring Bean</h1><h2 id="6-1ï¼šä»€ä¹ˆæ˜¯SpringBean"><a href="#6-1ï¼šä»€ä¹ˆæ˜¯SpringBean" class="headerlink" title="6-1ï¼šä»€ä¹ˆæ˜¯SpringBean"></a>6-1ï¼šä»€ä¹ˆæ˜¯SpringBean</h2><p>Bean ç”± Spring IoC å®¹å™¨å®ä¾‹åŒ–ï¼Œé…ç½®ï¼Œè£…é…å’Œç®¡ç†ã€‚</p><h2 id="6-1ï¼šBeançš„äº”ç§ä½œç”¨åŸŸ"><a href="#6-1ï¼šBeançš„äº”ç§ä½œç”¨åŸŸ" class="headerlink" title="6-1ï¼šBeançš„äº”ç§ä½œç”¨åŸŸ"></a>6-1ï¼šBeançš„äº”ç§ä½œç”¨åŸŸ</h2><p>singleton : å”¯ä¸€ bean å®ä¾‹ï¼ŒSpring ä¸­çš„ bean é»˜è®¤éƒ½æ˜¯å•ä¾‹çš„ã€‚<br>prototype : æ¯æ¬¡è¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ bean å®ä¾‹ã€‚<br>request : æ¯ä¸€æ¬¡HTTPè¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„beanï¼Œè¯¥beanä»…åœ¨å½“å‰HTTP requestå†…æœ‰æ•ˆã€‚<br>session : æ¯ä¸€æ¬¡HTTPè¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ beanï¼Œè¯¥beanä»…åœ¨å½“å‰ HTTP session å†…æœ‰æ•ˆã€‚<br>global-sessionï¼š å…¨å±€sessionä½œç”¨åŸŸï¼Œ<br>                 ä»…ä»…åœ¨åŸºäºportletçš„webåº”ç”¨ä¸­æ‰æœ‰æ„ä¹‰ï¼Œ</p><h3 id="6-1-2ï¼šSpringä¸­çš„å•ä¾‹beançš„çº¿ç¨‹å®‰å…¨é—®é¢˜äº†è§£å—ï¼Ÿ"><a href="#6-1-2ï¼šSpringä¸­çš„å•ä¾‹beançš„çº¿ç¨‹å®‰å…¨é—®é¢˜äº†è§£å—ï¼Ÿ" class="headerlink" title="6-1-2ï¼šSpringä¸­çš„å•ä¾‹beançš„çº¿ç¨‹å®‰å…¨é—®é¢˜äº†è§£å—ï¼Ÿ"></a>6-1-2ï¼šSpringä¸­çš„å•ä¾‹beançš„çº¿ç¨‹å®‰å…¨é—®é¢˜äº†è§£å—ï¼Ÿ</h3><p>å•ä¾‹ bean å­˜åœ¨çº¿ç¨‹é—®é¢˜ï¼Œ<br>ä¸»è¦æ˜¯å› ä¸ºå½“å¤šä¸ªçº¿ç¨‹æ“ä½œåŒä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œ<br>å¯¹è¿™ä¸ªå¯¹è±¡çš„éé™æ€æˆå‘˜å˜é‡çš„å†™æ“ä½œä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p><h4 id="6-1-2-1ï¼šå¸¸è§çš„æœ‰ä¸¤ç§è§£å†³åŠæ³•"><a href="#6-1-2-1ï¼šå¸¸è§çš„æœ‰ä¸¤ç§è§£å†³åŠæ³•" class="headerlink" title="6-1-2-1ï¼šå¸¸è§çš„æœ‰ä¸¤ç§è§£å†³åŠæ³•"></a>6-1-2-1ï¼šå¸¸è§çš„æœ‰ä¸¤ç§è§£å†³åŠæ³•</h4><ol><li>åœ¨Beanå¯¹è±¡ä¸­å°½é‡é¿å…å®šä¹‰å¯å˜çš„æˆå‘˜å˜é‡ï¼ˆä¸å¤ªç°å®ï¼‰ã€‚</li><li>åœ¨ç±»ä¸­å®šä¹‰ä¸€ä¸ªThreadLocalæˆå‘˜å˜é‡ï¼Œ<br>å°†éœ€è¦çš„å¯å˜æˆå‘˜å˜é‡ä¿å­˜åœ¨ ThreadLocal ä¸­ï¼ˆæ¨èçš„ä¸€ç§æ–¹å¼ï¼‰ã€‚</li></ol><h2 id="6-2ï¼šBeançš„ç”Ÿå‘½å‘¨æœŸ"><a href="#6-2ï¼šBeançš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="6-2ï¼šBeançš„ç”Ÿå‘½å‘¨æœŸ"></a>6-2ï¼šBeançš„ç”Ÿå‘½å‘¨æœŸ</h2><p>ï¼ˆ1ï¼‰å®ä¾‹åŒ–ï¼ˆå¿…é¡»çš„ï¼‰æ„é€ å‡½æ•°æ„é€ å¯¹è±¡<br>ï¼ˆ2ï¼‰è£…é…ï¼ˆå¯é€‰çš„ï¼‰ä¸ºå±æ€§èµ‹å€¼<br>ï¼ˆ3ï¼‰å›è°ƒï¼ˆå¯é€‰çš„ï¼‰ï¼ˆå®¹å™¨-æ§åˆ¶ç±»å’Œç»„ä»¶-å›è°ƒç±»ï¼‰<br>ï¼ˆ4ï¼‰åˆå§‹åŒ–(init-method=â€ â€œ)<br>ï¼ˆ5ï¼‰å°±ç»ª<br>ï¼ˆ6ï¼‰é”€æ¯ï¼ˆdestroy-method=â€ â€œï¼‰ </p><p>ï¼ˆ1ï¼‰å®ä¾‹åŒ–Beanï¼š<br>å¯¹äºBeanFactoryå®¹å™¨ï¼Œå½“å®¢æˆ·å‘å®¹å™¨è¯·æ±‚ä¸€ä¸ªå°šæœªåˆå§‹åŒ–çš„beanæ—¶ï¼Œ<br>æˆ–åˆå§‹åŒ–beançš„æ—¶å€™éœ€è¦æ³¨å…¥<br>å¦ä¸€ä¸ªå°šæœªåˆå§‹åŒ–çš„ä¾èµ–æ—¶ï¼Œ<br>å®¹å™¨å°±ä¼šè°ƒç”¨createBeanè¿›è¡Œå®ä¾‹åŒ–ã€‚<br>å¯¹äºApplicationContextå®¹å™¨ï¼Œ<br>å½“å®¹å™¨å¯åŠ¨ç»“æŸåï¼Œ<br>é€šè¿‡è·å–BeanDefinitionå¯¹è±¡ä¸­çš„ä¿¡æ¯ï¼Œå®ä¾‹åŒ–æ‰€æœ‰çš„beanã€‚<br>ï¼ˆ2ï¼‰è®¾ç½®å¯¹è±¡å±æ€§ï¼ˆä¾èµ–æ³¨å…¥ï¼‰ï¼š<br>å®ä¾‹åŒ–åçš„å¯¹è±¡è¢«å°è£…åœ¨BeanWrapperå¯¹è±¡ä¸­ï¼Œç´§æ¥ç€ï¼Œ<br>Springæ ¹æ®BeanDefinitionä¸­çš„ä¿¡æ¯<br>ä»¥åŠé€šè¿‡BeanWrapperæä¾›çš„è®¾ç½®å±æ€§çš„æ¥å£å®Œæˆä¾èµ–æ³¨å…¥ã€‚<br>ï¼ˆ3ï¼‰å¤„ç†Awareæ¥å£ï¼š<br>æ¥ç€ï¼ŒSpringä¼šæ£€æµ‹è¯¥å¯¹è±¡æ˜¯å¦å®ç°äº†xxxAwareæ¥å£ï¼Œ<br>å¹¶å°†ç›¸å…³çš„xxxAwareå®ä¾‹æ³¨å…¥ç»™Beanï¼š<br>â‘ å¦‚æœè¿™ä¸ªBeanå·²ç»å®ç°äº†BeanNameAwareæ¥å£ï¼Œ<br>ä¼šè°ƒç”¨å®ƒå®ç°çš„setBeanName(String beanId)æ–¹æ³•ï¼Œ<br>æ­¤å¤„ä¼ é€’çš„å°±æ˜¯Springé…ç½®æ–‡ä»¶ä¸­Beançš„idå€¼ï¼›<br>â‘¡å¦‚æœè¿™ä¸ªBeanå·²ç»å®ç°äº†BeanFactoryAwareæ¥å£ï¼Œ<br>ä¼šè°ƒç”¨å®ƒå®ç°çš„setBeanFactory()æ–¹æ³•ï¼Œ<br>ä¼ é€’çš„æ˜¯Springå·¥å‚è‡ªèº«ã€‚<br>â‘¢å¦‚æœè¿™ä¸ªBeanå·²ç»å®ç°äº†ApplicationContextAwareæ¥å£ï¼Œ<br>ä¼šè°ƒç”¨setApplicationContext(ApplicationContext)æ–¹æ³•ï¼Œ<br>ä¼ å…¥Springä¸Šä¸‹æ–‡ï¼›<br>ï¼ˆ4ï¼‰BeanPostProcessorï¼š<br>å¦‚æœæƒ³å¯¹Beanè¿›è¡Œä¸€äº›è‡ªå®šä¹‰çš„å¤„ç†ï¼Œ<br>é‚£ä¹ˆå¯ä»¥è®©Beanå®ç°äº†BeanPostProcessoræ¥å£ï¼Œ<br>é‚£å°†ä¼šè°ƒç”¨postProcessBeforeInitialization(Object obj, String s)æ–¹æ³•ã€‚<br>ï¼ˆ5ï¼‰InitializingBean ä¸ init-methodï¼š<br>å¦‚æœBeanåœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®äº† init-method å±æ€§ï¼Œ<br>åˆ™ä¼šè‡ªåŠ¨è°ƒç”¨å…¶é…ç½®çš„åˆå§‹åŒ–æ–¹æ³•ã€‚<br>ï¼ˆ6ï¼‰å¦‚æœè¿™ä¸ªBeanå®ç°äº†BeanPostProcessoræ¥å£ï¼Œ<br>å°†ä¼šè°ƒç”¨postProcessAfterInitialization(Object<br>obj, String s)æ–¹æ³•ï¼›ç”±äºè¿™ä¸ªæ–¹æ³•æ˜¯åœ¨Beanåˆå§‹åŒ–ç»“æŸæ—¶ä½¿ç”¨çš„ï¼Œ<br>æ‰€ä»¥å¯ä»¥è¢«åº”ç”¨äºå†…å­˜æˆ–ç¼“å­˜æŠ€æœ¯ï¼›<br>ä»¥ä¸Šå‡ ä¸ªæ­¥éª¤å®Œæˆåï¼ŒBeanå°±å·²ç»è¢«æ­£ç¡®åˆ›å»ºäº†ï¼Œ<br>ä¹‹åå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªBeanäº†ã€‚<br>ï¼ˆ7ï¼‰DisposableBeanï¼š<br>å½“Beanä¸å†éœ€è¦æ—¶ï¼Œä¼šç»è¿‡æ¸…ç†é˜¶æ®µï¼Œ<br>å¦‚æœBeanå®ç°äº†DisposableBeanè¿™ä¸ªæ¥å£ï¼Œä¼šè°ƒç”¨å…¶å®ç°çš„<br>destroy()æ–¹æ³•ï¼›<br>ï¼ˆ8ï¼‰destroy-methodï¼š<br>æœ€åï¼Œå¦‚æœè¿™ä¸ªBeançš„Springé…ç½®ä¸­<br>é…ç½®äº†destroy-methodå±æ€§ï¼Œ<br>ä¼šè‡ªåŠ¨è°ƒç”¨å…¶é…ç½®çš„é”€æ¯æ–¹æ³•ã€‚<br>æ–¹æ³•äºŒï¼šå®ç°org.springframework.beans.factory.DisposableBeanæ¥å£ã€‚<br>æ‰§è¡Œå®ƒçš„destroy()æ–¹æ³•ã€‚<br>å¦‚æœä¸€ä¸ªBeanå®ç°äº†org.springframework.beans.factory.DisposableBeanæ¥å£ï¼Œ<br>åˆ™ä¼šè‡ªåŠ¨è£…é…</p><h2 id="6-3ï¼šSpringçš„Beanæ³¨å…¥æ–¹å¼"><a href="#6-3ï¼šSpringçš„Beanæ³¨å…¥æ–¹å¼" class="headerlink" title="6-3ï¼šSpringçš„Beanæ³¨å…¥æ–¹å¼"></a>6-3ï¼šSpringçš„Beanæ³¨å…¥æ–¹å¼</h2><ol><li>setæ–¹æ³•æ³¨å…¥</li><li>æ„é€ å™¨æ³¨å…¥</li><li>é™æ€å·¥å‚æ³¨å…¥</li><li>å®ä¾‹å·¥å‚æ³¨å…¥â€ƒ</li><li><code>setæ³¨å…¥</code><br>å¦‚æœæˆ‘ä»¬éœ€è¦ä½¿ç”¨setæ³¨å…¥ï¼Œé‚£ä¹ˆå¿…é¡»è¦ä¸ºå±æ€§æä¾›setæ–¹æ³•ï¼Œ<br>Springå®¹å™¨å°±æ˜¯é€šè¿‡è°ƒç”¨beançš„setæ–¹æ³•ä¸ºå±æ€§æ³¨å…¥å€¼çš„ã€‚<br>è€Œåœ¨xmlæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨setæ³¨å…¥çš„æ–¹å¼å°±æ˜¯é€šè¿‡propertyæ ‡ç­¾ï¼Œ</li><li><code>æ„é€ å™¨æ³¨å…¥</code><br>â€ƒâ€ƒ å°±æ˜¯é€šè¿‡è°ƒç”¨beanæ‰€å±ç±»çš„å¸¦å‚æ„é€ å™¨ä¸ºbeançš„å±æ€§æ³¨å…¥å€¼ã€‚<br>æˆ‘ä»¬å¦‚æœéœ€è¦ä½¿ç”¨æ„é€ å™¨æ³¨å…¥ï¼Œå°±å¾—ä¸ºç±»æä¾›åŒ…å«å‚æ•°çš„æ„é€ æ–¹æ³•ã€‚<br>æ„é€ å™¨æ³¨å…¥ï¼Œå®é™…ä¸Šæœ‰å¤šç§åŒ¹é…å±æ€§å€¼çš„æ–¹å¼ï¼Œæ¯”å¦‚è¯´<br>ï¼ˆä¸€ï¼‰åŒ¹é…æ„é€ å™¨çš„å‚æ•°åç§°<br>â€ƒâ€ƒæˆ‘ä»¬éœ€è¦é€šè¿‡constructor-argæ ‡ç­¾ä¸ºæ„é€ å™¨ä¼ å…¥å‚æ•°å€¼ï¼Œ<br>æ¯ä¸ªconstructor-argæ ‡ç­¾å¯¹åº”ç›´æ¥åŒ¹é…å‚æ•°å<br>ï¼ˆäºŒï¼‰åŒ¹é…æ„é€ å™¨çš„å‚æ•°ä¸‹æ ‡<br>â€ƒâ€ƒé€šè¿‡å‚æ•°åœ¨å‚æ•°åˆ—è¡¨ä¸­çš„ä¸‹æ ‡è¿›è¡ŒåŒ¹é…çš„æ–¹å¼ã€‚<br>é€šè¿‡å‚æ•°çš„ä¸‹æ ‡ä¸ºæ„é€ å™¨çš„å‚æ•°èµ‹å€¼ï¼Œ<br>å‚å®çš„ä¸‹æ ‡ä»0å¼€å§‹ã€‚ä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼é…ç½®ï¼Œè‹¥èµ‹å€¼çš„ç±»å‹ä¸å‚æ•°çš„ç±»å‹ä¸ä¸€è‡´ï¼Œ<br>å°†ä¼šåœ¨å®¹å™¨åˆå§‹åŒ–beançš„æ—¶å€™æŠ›å‡ºå¼‚å¸¸ã€‚<br>å¦‚æœbeanå­˜åœ¨å¤šä¸ªå‚æ•°æ•°é‡ä¸€æ ·çš„æ„é€ å™¨ï¼Œ<br>Springå®¹å™¨ä¼šè‡ªåŠ¨æ‰¾åˆ°ç±»å‹åŒ¹é…çš„é‚£ä¸ªè¿›è¡Œè°ƒç”¨ã€‚<br>æ¯”å¦‚è¯´ï¼ŒCaræœ‰å¦‚ä¸‹ä¸¤ä¸ªæ„é€ å™¨ï¼ŒSpringå®¹å™¨å°†ä¼šè°ƒç”¨ç¬¬äºŒä¸ªï¼Œ<br>å› ä¸ºä¸Šé¢çš„é…ç½®ä¸­ï¼Œindex = 1å¯¹åº”çš„valueæ˜¯doubleç±»å‹ï¼Œ<br>ä¸ç¬¬äºŒä¸ªæ„é€ å™¨åŒ¹é…ï¼Œè€Œç¬¬ä¸€ä¸ªä¸åŒ¹é…ï¼š<br>ï¼ˆä¸‰ï¼‰åŒ¹é…æ„é€ å™¨çš„å‚æ•°ç±»å‹<br>â€ƒâ€ƒç›´æ¥é€šè¿‡åŒ¹é…æ„é€ å™¨çš„å‚æ•°ç±»å‹ï¼Œ<br>ä»è€Œé€‰æ‹©ä¸€ä¸ªèƒ½å¤Ÿå®Œå…¨åŒ¹é…çš„æ„é€ å™¨ï¼Œè°ƒç”¨è¿™ä¸ªæ„é€ å™¨å®Œæˆbeançš„åˆ›å»ºå’Œå±æ€§æ³¨å…¥ã€‚<br>ç±»å‹å¹¶ä¸éœ€è¦æŒ‰æ„é€ å™¨ä¸­å£°æ˜çš„é¡ºåºç¼–å†™ï¼ŒSpringä¹Ÿèƒ½è¿›è¡ŒåŒ¹é…ã€‚</li><li><code>é™æ€å·¥å‚æ³¨å…¥</code><br>â€ƒâ€ƒé™æ€å·¥å‚æ³¨å…¥å°±æ˜¯æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªé™æ€çš„å·¥å‚æ–¹æ³•ï¼Œ<br>è¿™ä¸ªå·¥å‚æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªæˆ‘ä»¬éœ€è¦çš„å€¼ï¼Œç„¶ååœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œ<br>æˆ‘ä»¬æŒ‡å®šä½¿ç”¨è¿™ä¸ªå·¥å‚æ–¹æ³•åˆ›å»ºbeanã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªé™æ€å·¥å‚ï¼Œ</li><li>â€ƒ<code>å®ä¾‹å·¥å‚</code>ä¸é™æ€å·¥å‚ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼Œ<br>é™æ€å·¥å‚è°ƒç”¨å·¥å‚æ–¹æ³•ä¸éœ€è¦å…ˆåˆ›å»ºå·¥å‚ç±»çš„å¯¹è±¡ï¼Œ<br>å› ä¸ºé™æ€æ–¹æ³•å¯ä»¥ç›´æ¥é€šè¿‡ç±»è°ƒç”¨ï¼Œ<br>æ‰€ä»¥åœ¨ä¸Šé¢çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå¹¶æ²¡æœ‰å£°æ˜å·¥å‚ç±»çš„beanã€‚<br>ä½†æ˜¯ï¼Œå®ä¾‹å·¥å‚ï¼Œéœ€è¦æœ‰ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œæ‰èƒ½è°ƒç”¨å®ƒçš„å·¥å‚æ–¹æ³•ã€‚</li></ol><h2 id="6-4ï¼šæ¥å£ä¸bean"><a href="#6-4ï¼šæ¥å£ä¸bean" class="headerlink" title="6-4ï¼šæ¥å£ä¸bean"></a>6-4ï¼šæ¥å£ä¸bean</h2><h3 id="6-4-1ï¼šæ²¡æœ‰æ³¨å…¥æ¥å£ï¼Œä½¿ç”¨æ—¶æ€ä¹ˆèƒ½è·å–çš„æ¥å£"><a href="#6-4-1ï¼šæ²¡æœ‰æ³¨å…¥æ¥å£ï¼Œä½¿ç”¨æ—¶æ€ä¹ˆèƒ½è·å–çš„æ¥å£" class="headerlink" title="6-4-1ï¼šæ²¡æœ‰æ³¨å…¥æ¥å£ï¼Œä½¿ç”¨æ—¶æ€ä¹ˆèƒ½è·å–çš„æ¥å£"></a>6-4-1ï¼šæ²¡æœ‰æ³¨å…¥æ¥å£ï¼Œä½¿ç”¨æ—¶æ€ä¹ˆèƒ½è·å–çš„æ¥å£</h3><p>@Autowiredæ˜¯Springçš„æ³¨è§£ï¼ŒAutowiredé»˜è®¤å…ˆæŒ‰byTypeï¼Œ<br>å¦‚æœå‘ç°æ‰¾åˆ°å¤šä¸ªbeanï¼Œåˆ™ï¼ŒåˆæŒ‰ç…§byNameæ–¹å¼æ¯”å¯¹ï¼Œ<br>å¦‚æœè¿˜æœ‰å¤šä¸ªï¼Œåˆ™æŠ¥å‡ºå¼‚å¸¸ï¼›@Resource<br>é»˜è®¤æŒ‰ç…§åç§°(Byname)è¿›è¡Œè£…é…, å¦‚æœæ²¡æœ‰æŒ‡å®šnameå±æ€§ï¼Œ<br>å½“æ³¨è§£å†™åœ¨å­—æ®µä¸Šæ—¶ï¼Œé»˜è®¤å–å­—æ®µåï¼ŒæŒ‰ç…§åç§°æŸ¥æ‰¾ï¼Œ<br>å¦‚æœæ³¨è§£å†™åœ¨setteræ–¹æ³•ä¸Šé»˜è®¤å–å±æ€§åè¿›è¡Œè£…é…ã€‚<br>å½“æ‰¾ä¸åˆ°ä¸åç§°åŒ¹é…çš„beanæ—¶æ‰æŒ‰ç…§ç±»å‹è¿›è¡Œè£…é…ã€‚<br>å¦‚æœnameå±æ€§ä¸€æ—¦æŒ‡å®šï¼Œå°±åªä¼šæŒ‰ç…§åç§°è¿›è¡Œè£…é…ã€‚<br>å¯¹äºControllerè·å–å®ä¾‹çš„è¿‡ç¨‹ï¼Œä½¿ç”¨@Autowiredï¼Œ<br>ç¨‹åºåœ¨springçš„å®¹å™¨ä¸­æŸ¥æ‰¾ç±»å‹æ˜¯TestServiceçš„beanï¼Œ<br>åˆšå¥½æ‰¾åˆ°æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ­¤ç±»å‹çš„beanï¼Œå³testServiceImplï¼Œ<br>æ‰€ä»¥å°±æŠŠtestServiceImplè‡ªåŠ¨è£…é…åˆ°äº†controller<br>çš„å®ä¾‹testServiceä¸­ï¼ŒtestServiceå…¶å®å°±æ˜¯TestServiceImplå®ç°ç±»ï¼›<br>å¦‚æœä½¿ç”¨çš„æ˜¯@Resourceï¼Œ<br>åˆ™æ˜¯å…ˆåœ¨å®¹å™¨ä¸­æŸ¥æ‰¾åå­—ä¸ºtestServiceçš„beanï¼Œ<br>ä½†å¹¶æ²¡æœ‰æ‰¾åˆ°ï¼Œå› ä¸ºå®¹å™¨ä¸­çš„beanåå­—æ˜¯TestServiceImpl<br>å¦‚æœ@Serviceæ²¡æŒ‡å®šbeançš„valueå±æ€§ï¼Œ<br>åˆ™æ³¨å…¥beançš„åå­—å°±æ˜¯ç±»åï¼Œå¦‚æœæŒ‡å®šäº†åˆ™æ˜¯æŒ‡å®šçš„åå­—ï¼Œ<br>ç„¶åå†é€šè¿‡ç±»å‹æŸ¥æ‰¾TestServiceç±»å‹çš„beanï¼Œ<br>æ‰¾åˆ°å”¯ä¸€çš„äº†ä¸ªTestServiceç±»å‹beanï¼ˆå³TestServiceImplï¼‰ï¼Œ<br>æ‰€ä»¥å°±è‡ªåŠ¨è£…é…å®ä¾‹æˆåŠŸäº†ã€‚</p><h3 id="6-4-2ï¼šå¦‚æœä¸€ä¸ªæ¥å£æœ‰å¤šä¸ªå®ç°ç±»æ—¶ï¼Œé€šè¿‡æ³¨è§£è·å–å®ä¾‹æ—¶æ€ä¹ˆçŸ¥é“åº”è¯¥è·å–çš„æ˜¯å“ªä¸€ä¸ªå®ç°ç±»serviceImplå‘¢ï¼Ÿ"><a href="#6-4-2ï¼šå¦‚æœä¸€ä¸ªæ¥å£æœ‰å¤šä¸ªå®ç°ç±»æ—¶ï¼Œé€šè¿‡æ³¨è§£è·å–å®ä¾‹æ—¶æ€ä¹ˆçŸ¥é“åº”è¯¥è·å–çš„æ˜¯å“ªä¸€ä¸ªå®ç°ç±»serviceImplå‘¢ï¼Ÿ" class="headerlink" title="6-4-2ï¼šå¦‚æœä¸€ä¸ªæ¥å£æœ‰å¤šä¸ªå®ç°ç±»æ—¶ï¼Œé€šè¿‡æ³¨è§£è·å–å®ä¾‹æ—¶æ€ä¹ˆçŸ¥é“åº”è¯¥è·å–çš„æ˜¯å“ªä¸€ä¸ªå®ç°ç±»serviceImplå‘¢ï¼Ÿ"></a>6-4-2ï¼šå¦‚æœä¸€ä¸ªæ¥å£æœ‰å¤šä¸ªå®ç°ç±»æ—¶ï¼Œé€šè¿‡æ³¨è§£è·å–å®ä¾‹æ—¶æ€ä¹ˆçŸ¥é“åº”è¯¥è·å–çš„æ˜¯å“ªä¸€ä¸ªå®ç°ç±»serviceImplå‘¢ï¼Ÿ</h3><p>1ã€ é€šè¿‡æŒ‡å®šbeançš„åå­—æ¥æ˜ç¡®åˆ°åº•è¦å®ä¾‹å“ªä¸€ä¸ªç±»<br>2ã€ é€šè¿‡åœ¨å®ç°ç±»ä¸Šæ·»åŠ @Primaryæ³¨è§£æ¥æŒ‡å®šé»˜è®¤åŠ è½½ç±»</p><h3 id="6-4-3ï¼šä¸ºä»€ä¹ˆéè¦è°ƒç”¨æ¥å£ï¼Œè€Œä¸ç›´æ¥è°ƒç”¨å®ç°ç±»serviceImplçš„beanæ¥å¾—ç®€å•æ˜äº†å‘¢ï¼Ÿ"><a href="#6-4-3ï¼šä¸ºä»€ä¹ˆéè¦è°ƒç”¨æ¥å£ï¼Œè€Œä¸ç›´æ¥è°ƒç”¨å®ç°ç±»serviceImplçš„beanæ¥å¾—ç®€å•æ˜äº†å‘¢ï¼Ÿ" class="headerlink" title="6-4-3ï¼šä¸ºä»€ä¹ˆéè¦è°ƒç”¨æ¥å£ï¼Œè€Œä¸ç›´æ¥è°ƒç”¨å®ç°ç±»serviceImplçš„beanæ¥å¾—ç®€å•æ˜äº†å‘¢ï¼Ÿ"></a>6-4-3ï¼šä¸ºä»€ä¹ˆéè¦è°ƒç”¨æ¥å£ï¼Œè€Œä¸ç›´æ¥è°ƒç”¨å®ç°ç±»serviceImplçš„beanæ¥å¾—ç®€å•æ˜äº†å‘¢ï¼Ÿ</h3><p>1ã€ ç›´æ¥è·å–å®ç°ç±»serviceImplçš„beanä¹Ÿæ˜¯å¯ä»¥çš„ï¼›<br>2ã€ è‡³äºåŠ ä¸€å±‚æ¥å£çš„åŸå› ï¼šä¸€æ˜¯AOPç¨‹åºè®¾ç½®æ€æƒ³æŒ‡å¯¼ï¼Œ<br>    ç»™åˆ«äººè°ƒç”¨çš„æ¥å£ï¼Œè°ƒç”¨è€…åªæƒ³çŸ¥é“æ–¹æ³•å’ŒåŠŸèƒ½ï¼Œ<br>    è€Œå¯¹äºè¿™ä¸ªæ–¹æ³•å†…éƒ¨é€»è¾‘æ€ä¹ˆå®ç°çš„å¹¶ä¸å…³å¿ƒï¼›<br>    äºŒæ˜¯å¯ä»¥é™ä½å„ä¸ªæ¨¡å—é—´çš„å…³è”ï¼Œ<br>    å®ç°æ¾è€¦åˆã€ç¨‹åºåˆ†å±‚ã€é«˜æ‰©å±•æ€§ï¼Œä½¿ç¨‹åºæ›´åŠ çµæ´»ï¼Œ<br>    ä»–é™¤äº†åœ¨è§„èŒƒä¸Šæœ‰å“è¶Šè´¡çŒ®å¤–ï¼Œæœ€ç²¾é«“çš„æ˜¯åœ¨å¤šæ€ä¸Šçš„è¿ç”¨ï¼›<br>    ç»§æ‰¿åªèƒ½å•ä¸€ç»§æ‰¿ï¼Œæ¥å£å´å¯ä»¥å¤šå®ç°<br>3ã€ å½“ä¸šåŠ¡é€»è¾‘ç®€å•ï¼Œå˜æ›´è¾ƒå°‘ï¼Œé¡¹ç›®è‡ªç”¨æ—¶ï¼Œ<br>    çœç•¥æ‰æ¥å£ç›´æ¥ä½¿ç”¨å®ç°ç±»æ›´ç®€å•æ˜äº†ï¼›åä¹‹åˆ™æ¨èä½¿ç”¨æ¥å£;</p><h2 id="6-5ï¼šä»€ä¹ˆæ˜¯-Spring-çš„å†…éƒ¨-beanï¼Ÿ"><a href="#6-5ï¼šä»€ä¹ˆæ˜¯-Spring-çš„å†…éƒ¨-beanï¼Ÿ" class="headerlink" title="6-5ï¼šä»€ä¹ˆæ˜¯ Spring çš„å†…éƒ¨ beanï¼Ÿ"></a>6-5ï¼šä»€ä¹ˆæ˜¯ Spring çš„å†…éƒ¨ beanï¼Ÿ</h2><p>åªæœ‰å°† Bean ä»…ç”¨ä½œå¦ä¸€ä¸ª Bean çš„å±æ€§æ—¶ï¼Œæ‰èƒ½å°† Bean å£°æ˜ä¸ºå†…éƒ¨ Beanã€‚</p><p>ä¸ºäº†å®šä¹‰Beanï¼ŒSpring æä¾›åŸºäº XML çš„é…ç½®å…ƒæ•°æ®åœ¨<br><property>æˆ– <constructor-arg> ä¸­æä¾›äº† <bean>å…ƒç´ çš„ä½¿ç”¨ã€‚<br>å†…éƒ¨ Bean æ€»æ˜¯åŒ¿åçš„ï¼Œå¹¶ä¸”å®ƒä»¬æ€»æ˜¯ä½œä¸ºåŸå‹ Prototype ã€‚<br>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª Student ç±»ï¼Œå…¶ä¸­å¼•ç”¨äº† Person ç±»ã€‚<br>è¿™é‡Œæˆ‘ä»¬å°†åªåˆ›å»ºä¸€ä¸ª Person ç±»å®ä¾‹å¹¶åœ¨ Student ä¸­ä½¿ç”¨å®ƒã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">&lt;!-- bean.xml --&gt;&lt;bean id&#x3D;â€œStudentBean&quot; class&#x3D;&quot;com.edureka.Student&quot;&gt;    &lt;property name&#x3D;&quot;person&quot;&gt;        &lt;!--This is inner bean --&gt;        &lt;bean class&#x3D;&quot;com.edureka.Person&quot;&gt;            &lt;property name&#x3D;&quot;name&quot; value&#x3D;â€œScott&quot;&gt;&lt;&#x2F;property&gt;            &lt;property name&#x3D;&quot;address&quot; value&#x3D;â€œBangalore&quot;&gt;&lt;&#x2F;property&gt;        &lt;&#x2F;bean&gt;    &lt;&#x2F;property&gt;&lt;&#x2F;bean&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="7-Springäº‹åŠ¡"><a href="#7-Springäº‹åŠ¡" class="headerlink" title="7.Springäº‹åŠ¡"></a>7.Springäº‹åŠ¡</h1><h2 id="7-1ï¼šspringäº‹åŠ¡ç§ç±»"><a href="#7-1ï¼šspringäº‹åŠ¡ç§ç±»" class="headerlink" title="7-1ï¼šspringäº‹åŠ¡ç§ç±»"></a>7-1ï¼šspringäº‹åŠ¡ç§ç±»</h2><p>springæ”¯æŒç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†å’Œå£°æ˜å¼äº‹åŠ¡ç®¡ç†ä¸¤ç§æ–¹å¼<br>â‘ ç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†ä½¿ç”¨TransactionTemplate.<br>â‘¡å£°æ˜å¼äº‹åŠ¡ç®¡ç†å»ºç«‹åœ¨AOPä¹‹ä¸Šçš„ã€‚å…¶æœ¬è´¨æ˜¯é€šè¿‡AOPåŠŸèƒ½ï¼Œå¯¹æ–¹æ³•å‰åè¿›è¡Œæ‹¦æˆªï¼Œ<br>å°†äº‹åŠ¡å¤„ç†çš„åŠŸèƒ½ç¼–ç»‡åˆ°æ‹¦æˆªçš„æ–¹æ³•ä¸­ï¼Œä¹Ÿå°±æ˜¯åœ¨ç›®æ ‡æ–¹æ³•å¼€å§‹ä¹‹å‰åŠ å…¥ä¸€ä¸ªäº‹åŠ¡ï¼Œåœ¨æ‰§è¡Œå®Œ<br>ç›®æ ‡æ–¹æ³•ä¹‹åæ ¹æ®æ‰§è¡Œæƒ…å†µæäº¤æˆ–è€…å›æ»šäº‹åŠ¡ã€‚</p><h3 id="7-1-1ï¼š-TransactionalåŸç†"><a href="#7-1-1ï¼š-TransactionalåŸç†" class="headerlink" title="7-1-1ï¼š@TransactionalåŸç†"></a>7-1-1ï¼š@TransactionalåŸç†</h3><p>@Transactional çš„å·¥ä½œæœºåˆ¶æ˜¯åŸºäº AOP å®ç°çš„ï¼Œ<br>AOP åˆæ˜¯ä½¿ç”¨åŠ¨æ€ä»£ç†å®ç°çš„ã€‚å¦‚æœç›®æ ‡å¯¹è±¡å®ç°äº†æ¥å£ï¼Œ<br>é»˜è®¤æƒ…å†µä¸‹ä¼šé‡‡ç”¨ JDK çš„åŠ¨æ€ä»£ç†ï¼Œ<br>å¦‚æœç›®æ ‡å¯¹è±¡æ²¡æœ‰å®ç°äº†æ¥å£,ä¼šä½¿ç”¨ CGLIB åŠ¨æ€ä»£ç†ã€‚<br>é€šè¿‡createAopProxy() æ–¹æ³•å†³å®šäº†æ˜¯ä½¿ç”¨ JDK è¿˜æ˜¯ Cglib æ¥åšåŠ¨æ€ä»£ç†<br>å¦‚æœä¸€ä¸ªç±»æˆ–è€…ä¸€ä¸ªç±»ä¸­çš„ public æ–¹æ³•ä¸Š<br>è¢«æ ‡æ³¨@Transactional æ³¨è§£çš„è¯ï¼Œ<br>Spring å®¹å™¨å°±ä¼šåœ¨å¯åŠ¨çš„æ—¶å€™ä¸ºå…¶åˆ›å»ºä¸€ä¸ªä»£ç†ç±»ï¼Œ<br>åœ¨è°ƒç”¨è¢«@Transactional æ³¨è§£çš„ public æ–¹æ³•çš„æ—¶å€™ï¼Œ<br>å®é™…è°ƒç”¨çš„æ˜¯ï¼ŒTransactionInterceptor ç±»ä¸­çš„ invoke()æ–¹æ³•ã€‚<br>è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨å°±æ˜¯åœ¨ç›®æ ‡æ–¹æ³•ä¹‹å‰å¼€å¯äº‹åŠ¡æ–¹æ³•<br>æ‰§è¡Œè¿‡ç¨‹ä¸­å¦‚æœé‡åˆ°å¼‚å¸¸çš„æ—¶å€™å›æ»šäº‹åŠ¡ï¼Œ<br>æ–¹æ³•è°ƒç”¨å®Œæˆä¹‹åæäº¤äº‹åŠ¡ã€‚</p><h4 id="7-1-1-1ï¼šæ³¨è§£ä½¿ç”¨è¯¦è§£"><a href="#7-1-1-1ï¼šæ³¨è§£ä½¿ç”¨è¯¦è§£" class="headerlink" title="7-1-1-1ï¼šæ³¨è§£ä½¿ç”¨è¯¦è§£"></a>7-1-1-1ï¼šæ³¨è§£ä½¿ç”¨è¯¦è§£</h4><p>æ–¹æ³• ï¼šå°†æ³¨è§£ä½¿ç”¨äºæ–¹æ³•ä¸Šï¼Œä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<br>      è¯¥æ³¨è§£åªèƒ½åº”ç”¨åˆ° public æ–¹æ³•ä¸Šï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆã€‚<br>ç±» ï¼šå¦‚æœè¿™ä¸ªæ³¨è§£ä½¿ç”¨åœ¨ç±»ä¸Šçš„è¯ï¼Œ<br>     è¡¨æ˜è¯¥æ³¨è§£å¯¹è¯¥ç±»ä¸­æ‰€æœ‰çš„ public æ–¹æ³•éƒ½ç”Ÿæ•ˆã€‚<br>æ¥å£ ï¼šä¸æ¨èåœ¨æ¥å£ä¸Šä½¿ç”¨ã€‚</p><h4 id="7-1-1-2ï¼šæ³¨è§£å¸¸ç”¨å±æ€§"><a href="#7-1-1-2ï¼šæ³¨è§£å¸¸ç”¨å±æ€§" class="headerlink" title="7-1-1-2ï¼šæ³¨è§£å¸¸ç”¨å±æ€§"></a>7-1-1-2ï¼šæ³¨è§£å¸¸ç”¨å±æ€§</h4><ol><li>propagation    äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºï¼Œé»˜è®¤å€¼ä¸º REQUIREDï¼Œå¯é€‰çš„å€¼åœ¨ä¸Šé¢ä»‹ç»è¿‡</li><li>isolation    äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼Œé»˜è®¤å€¼é‡‡ç”¨ DEFAULTï¼Œå¯é€‰çš„å€¼åœ¨ä¸Šé¢ä»‹ç»è¿‡</li><li>timeout        äº‹åŠ¡çš„è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤å€¼ä¸º-1ï¼ˆä¸ä¼šè¶…æ—¶ï¼‰ã€‚<pre><code>         å¦‚æœè¶…è¿‡è¯¥æ—¶é—´é™åˆ¶ä½†äº‹åŠ¡è¿˜æ²¡æœ‰å®Œæˆï¼Œåˆ™è‡ªåŠ¨å›æ»šäº‹åŠ¡ã€‚</code></pre></li><li>readOnly        æŒ‡å®šäº‹åŠ¡æ˜¯å¦ä¸ºåªè¯»äº‹åŠ¡ï¼Œé»˜è®¤å€¼ä¸º falseã€‚</li><li>rollbackFor    ç”¨äºæŒ‡å®šèƒ½å¤Ÿè§¦å‘äº‹åŠ¡å›æ»šçš„å¼‚å¸¸ç±»å‹ï¼Œå¹¶ä¸”å¯ä»¥æŒ‡å®šå¤šä¸ªå¼‚å¸¸ç±»å‹ã€‚</li></ol><h3 id="7-1-2ï¼šSpringä¸¤ç§äº‹åŠ¡åŒºåˆ«"><a href="#7-1-2ï¼šSpringä¸¤ç§äº‹åŠ¡åŒºåˆ«" class="headerlink" title="7-1-2ï¼šSpringä¸¤ç§äº‹åŠ¡åŒºåˆ«"></a>7-1-2ï¼šSpringä¸¤ç§äº‹åŠ¡åŒºåˆ«</h3><p>1ï¼‰å£°æ˜å¼äº‹åŠ¡æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯ä¸éœ€è¦<br>   åœ¨ä¸šåŠ¡é€»è¾‘ä»£ç ä¸­æºæ‚äº‹åŠ¡ç®¡ç†çš„ä»£ç ï¼Œ<br>   åªéœ€åœ¨é…ç½®æ–‡ä»¶ä¸­åšç›¸å…³çš„äº‹åŠ¡<br>   è§„åˆ™å£°æ˜æˆ–é€šè¿‡@Transactionalæ³¨è§£çš„æ–¹å¼ï¼Œ<br>   ä¾¿å¯ä»¥å°†äº‹åŠ¡è§„åˆ™åº”ç”¨åˆ°ä¸šåŠ¡é€»è¾‘ä¸­ã€‚<br>2ï¼‰å£°æ˜å¼äº‹åŠ¡ç®¡ç†è¦ä¼˜äºç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†ï¼Œ<br>   è¿™æ­£æ˜¯ springå€¡å¯¼çš„éä¾µå…¥å¼çš„å¼€å‘æ–¹å¼ï¼Œ<br>   ä½¿ä¸šåŠ¡ä»£ç ä¸å—æ±¡æŸ“ï¼Œ<br>   åªè¦åŠ ä¸Šæ³¨è§£å°±å¯ä»¥è·å¾—å®Œå…¨çš„äº‹åŠ¡æ”¯æŒã€‚<br>   å”¯ä¸€ä¸è¶³åœ°æ–¹æ˜¯ï¼Œæœ€ç»†ç²’åº¦åªèƒ½ä½œç”¨åˆ°æ–¹æ³•çº§åˆ«ï¼Œ<br>   æ— æ³•åšåˆ°åƒç¼–ç¨‹å¼äº‹åŠ¡é‚£æ ·å¯ä»¥ä½œç”¨åˆ°ä»£ç å—çº§åˆ«ã€‚</p><h2 id="7-2ï¼šäº‹åŠ¡ç®¡ç†æ¥å£"><a href="#7-2ï¼šäº‹åŠ¡ç®¡ç†æ¥å£" class="headerlink" title="7-2ï¼šäº‹åŠ¡ç®¡ç†æ¥å£"></a>7-2ï¼šäº‹åŠ¡ç®¡ç†æ¥å£</h2><ol><li>PlatformTransactionManagerï¼š ï¼ˆå¹³å°ï¼‰äº‹åŠ¡ç®¡ç†å™¨ï¼ŒSpring äº‹åŠ¡ç­–ç•¥çš„æ ¸å¿ƒã€‚</li><li>TransactionDefinitionï¼š äº‹åŠ¡å®šä¹‰ä¿¡æ¯(äº‹åŠ¡éš”ç¦»çº§åˆ«ã€ä¼ æ’­è¡Œä¸ºã€è¶…æ—¶ã€åªè¯»ã€å›æ»šè§„åˆ™)ã€‚</li><li>TransactionStatusï¼š äº‹åŠ¡è¿è¡ŒçŠ¶æ€ã€‚</li></ol><p>æˆ‘ä»¬å¯ä»¥æŠŠ PlatformTransactionManager æ¥å£å¯ä»¥è¢«çœ‹ä½œæ˜¯äº‹åŠ¡ä¸Šå±‚çš„ç®¡ç†è€…ï¼Œ<br>è€Œ TransactionDefinition å’Œ TransactionStatus è¿™ä¸¤ä¸ªæ¥å£å¯ä»¥çœ‹ä½œæ˜¯äº‹ç‰©çš„æè¿°ã€‚<br>PlatformTransactionManager ä¼šæ ¹æ® TransactionDefinition<br>çš„å®šä¹‰æ¯”å¦‚äº‹åŠ¡è¶…æ—¶æ—¶é—´ã€éš”ç¦»ç•Œåˆ«ã€ä¼ æ’­è¡Œä¸ºç­‰æ¥è¿›è¡Œäº‹åŠ¡ç®¡ç† ï¼Œ<br>è€Œ TransactionStatus æ¥å£åˆ™æä¾›äº†<br>ä¸€äº›æ–¹æ³•æ¥è·å–äº‹åŠ¡ç›¸åº”çš„çŠ¶æ€æ¯”å¦‚æ˜¯å¦æ–°äº‹åŠ¡ã€æ˜¯å¦å¯ä»¥å›æ»šç­‰ç­‰ã€‚</p><h2 id="7-3ï¼šäº‹åŠ¡å±æ€§è¯¦è§£"><a href="#7-3ï¼šäº‹åŠ¡å±æ€§è¯¦è§£" class="headerlink" title="7-3ï¼šäº‹åŠ¡å±æ€§è¯¦è§£"></a>7-3ï¼šäº‹åŠ¡å±æ€§è¯¦è§£</h2><p>äº‹åŠ¡å±æ€§ä¸»è¦åŒ…æ‹¬äº”éƒ¨åˆ†ï¼šéš”ç¦»çº§åˆ«ã€ä¼ æ’­è¡Œä¸ºã€å›æ»šè§„åˆ™ã€æ˜¯å¦åªè¯»ã€äº‹åŠ¡è¶…æ—¶</p><h3 id="7-3-1ï¼šäº‹åŠ¡éš”ç¦»çº§åˆ«"><a href="#7-3-1ï¼šäº‹åŠ¡éš”ç¦»çº§åˆ«" class="headerlink" title="7-3-1ï¼šäº‹åŠ¡éš”ç¦»çº§åˆ«"></a>7-3-1ï¼šäº‹åŠ¡éš”ç¦»çº§åˆ«</h3><p>ISOLATION_DEFAULT:è¿™æ˜¯ä¸ªPlatfromTransactionManageré»˜è®¤çš„éš”ç¦»çº§åˆ«ï¼Œ<br>                   ä½¿ç”¨æ•°æ®åº“é»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ã€‚<br>ISOLATION_READ_UNCOMMITTED:è¯»æœªæäº¤ï¼Œ<br>                           å…è®¸å¦å¤–ä¸€ä¸ªäº‹åŠ¡å¯ä»¥çœ‹åˆ°è¿™ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®ã€‚<br>ISOLATION_READ_COMMITTED:è¯»å·²æäº¤ï¼Œ<br>                         ä¿è¯ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹çš„æ•°æ®æäº¤å<br>                         æ‰èƒ½è¢«å¦ä¸€äº‹åŠ¡è¯»å–ï¼Œ<br>                         è€Œä¸”èƒ½çœ‹åˆ°è¯¥äº‹åŠ¡å¯¹å·²æœ‰è®°å½•çš„æ›´æ–°ã€‚<br>ISOLATION_REPEATABLE_READ:å¯é‡å¤è¯»ï¼Œ<br>                          ä¿è¯ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹çš„æ•°æ®æäº¤å<br>                          æ‰èƒ½å¦ä¸€äº‹åŠ¡è¯»å–ï¼Œ<br>                          ä½†æ˜¯ä¸èƒ½çœ‹åˆ°è¯¥äº‹åŠ¡å¯¹å·²æœ‰è®°å½•çš„æ›´æ–°ã€‚<br>ISOLATION_SERIALIZABLE:ä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­<br>                       å®Œå…¨çœ‹ä¸åˆ°å…¶ä»–äº‹åŠ¡å¯¹æ•°æ®åº“æ‰€</p><h3 id="7-3-2ï¼šäº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼ˆä¸ºä»€ä¹ˆè¦æœ‰ï¼‰"><a href="#7-3-2ï¼šäº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼ˆä¸ºä»€ä¹ˆè¦æœ‰ï¼‰" class="headerlink" title="7-3-2ï¼šäº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼ˆä¸ºä»€ä¹ˆè¦æœ‰ï¼‰"></a>7-3-2ï¼šäº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼ˆä¸ºä»€ä¹ˆè¦æœ‰ï¼‰</h3><p>äº‹åŠ¡ä¼ æ’­è¡Œä¸ºæ˜¯ä¸ºäº†è§£å†³ä¸šåŠ¡å±‚æ–¹æ³•ä¹‹é—´äº’ç›¸è°ƒç”¨çš„äº‹åŠ¡é—®é¢˜ã€‚<br>å½“äº‹åŠ¡æ–¹æ³•è¢«å¦ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è°ƒç”¨æ—¶ï¼Œå¿…é¡»æŒ‡å®šäº‹åŠ¡åº”è¯¥å¦‚ä½•ä¼ æ’­ã€‚ä¾‹å¦‚<br>æˆ‘ä»¬åœ¨ A ç±»çš„aMethodï¼ˆï¼‰æ–¹æ³•ä¸­è°ƒç”¨äº† B ç±»çš„ bMethod() æ–¹æ³•ã€‚<br>è¿™ä¸ªæ—¶å€™å°±æ¶‰åŠåˆ°ä¸šåŠ¡å±‚æ–¹æ³•ä¹‹é—´äº’ç›¸è°ƒç”¨çš„äº‹åŠ¡é—®é¢˜ã€‚<br>å¦‚æœæˆ‘ä»¬çš„ bMethod()å¦‚æœå‘ç”Ÿå¼‚å¸¸éœ€è¦å›æ»šï¼Œ<br>å¦‚ä½•é…ç½®äº‹åŠ¡ä¼ æ’­è¡Œä¸ºæ‰èƒ½è®© aMethod()ä¹Ÿè·Ÿç€å›æ»šå‘¢<br>è¿™ä¸ªæ—¶å€™å°±éœ€è¦äº‹åŠ¡ä¼ æ’­è¡Œä¸ºçš„çŸ¥è¯†äº†ï¼Œ</p><h4 id="7-3-2-1ï¼šä¼ æ’­è¡Œä¸ºçº§åˆ«"><a href="#7-3-2-1ï¼šä¼ æ’­è¡Œä¸ºçº§åˆ«" class="headerlink" title="7-3-2-1ï¼šä¼ æ’­è¡Œä¸ºçº§åˆ«"></a>7-3-2-1ï¼šä¼ æ’­è¡Œä¸ºçº§åˆ«</h4><p><code>PROPAGATION_REQUIRED</code>:å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œ<br>                     å°±åˆ›å»ºä¸€ä¸ªæ–°äº‹åŠ¡ï¼Œ<br>                     å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œ<br>                     å°±åŠ å…¥è¯¥äº‹åŠ¡ï¼Œ<br>                     è¯¥è®¾ç½®æ˜¯æœ€å¸¸ç”¨çš„è®¾ç½®ã€‚<br><code>PROPAGATION_SUPPORTS</code>:æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œ<br>                     å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œ<br>                     å°±åŠ å…¥è¯¥äº‹åŠ¡ï¼Œ<br>                     å¦‚æœå½“å‰ä¸å­˜åœ¨äº‹åŠ¡ï¼Œ<br>                     å°±ä»¥éäº‹åŠ¡æ‰§è¡Œã€‚<br><code>PROPAGATION_MANDATORY</code>:æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œ<br>                      å¦‚æœå½“å‰ä»”åœ¨äº‹åˆ†ï¼Œ<br>                      å½±æœå½“å‰ä¸å­˜åœ¨äº‹åŠ¡ï¼Œ<br>                      å°±æŠ›å‡ºå¼‚å¸¸ã€‚<br><code>PROPAGATION_REOUIRES NEW</code>:åˆ›å»ºæ–°äº‹åŠ¡ï¼Œ<br>                         æ— è®ºå½“å‰å­˜ä¸å­˜åœ¨äº‹åŠ¡ï¼Œ<br>                         éƒ½åˆ›å»ºæ–°äº‹åŠ¡ã€‚<br><code>PROPAGATION_NOT_SUPPORTED</code>:ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œ<br>                          å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œ<br>                          å°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚<br><code>PROPAGATION_NEVER</code>:ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œï¼Œ<br>                  å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œ<br>                  åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚<br><code>PROPAGATION_NESTED</code>:å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œ<br>                   åˆ™åœ¨åµŒå¥—äº‹åŠ¡å†…æ‰§è¡Œã€‚<br>                   å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œ<br>                   åˆ™æŒ‰ REQUIREDå±æ€§æ‰§è¡Œã€‚</p><h3 id="7-3-3ï¼šäº‹åŠ¡çš„å›æ»šè§„åˆ™"><a href="#7-3-3ï¼šäº‹åŠ¡çš„å›æ»šè§„åˆ™" class="headerlink" title="7-3-3ï¼šäº‹åŠ¡çš„å›æ»šè§„åˆ™"></a>7-3-3ï¼šäº‹åŠ¡çš„å›æ»šè§„åˆ™</h3><p>å›æ»šè§„åˆ™ï¼Œå®šä¹‰äº†å“ªäº›å¼‚å¸¸ä¼šå¯¼è‡´äº‹åŠ¡å›æ»šè€Œå“ªäº›ä¸ä¼šã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œäº‹åŠ¡åªæœ‰é‡åˆ°è¿è¡ŒæœŸå¼‚å¸¸æ—¶æ‰ä¼šå›æ»šï¼Œ<br>è€Œåœ¨é‡åˆ°æ£€æŸ¥å‹å¼‚å¸¸æ—¶ä¸ä¼šå›æ»šï¼ˆè¿™ä¸€è¡Œä¸ºä¸EJBçš„å›æ»šè¡Œä¸ºæ˜¯ä¸€è‡´çš„ï¼‰ã€‚<br>ä½†æ˜¯ä½ å¯ä»¥å£°æ˜äº‹åŠ¡åœ¨é‡åˆ°ç‰¹å®šçš„æ£€æŸ¥å‹å¼‚å¸¸æ—¶åƒé‡åˆ°è¿è¡ŒæœŸå¼‚å¸¸é‚£æ ·å›æ»šã€‚<br>åŒæ ·ï¼Œä½ è¿˜å¯ä»¥å£°æ˜äº‹åŠ¡é‡åˆ°ç‰¹å®šçš„å¼‚å¸¸ä¸å›æ»šï¼Œå³ä½¿è¿™äº›å¼‚å¸¸æ˜¯è¿è¡ŒæœŸå¼‚å¸¸ã€‚</p><h3 id="7-3-4ï¼šäº‹åŠ¡çš„åªè¯»å±æ€§"><a href="#7-3-4ï¼šäº‹åŠ¡çš„åªè¯»å±æ€§" class="headerlink" title="7-3-4ï¼šäº‹åŠ¡çš„åªè¯»å±æ€§"></a>7-3-4ï¼šäº‹åŠ¡çš„åªè¯»å±æ€§</h3><p>äº‹åŠ¡çš„åªè¯»å±æ€§æ˜¯æŒ‡ï¼Œå¯¹äº‹åŠ¡æ€§èµ„æºè¿›è¡Œåªè¯»æ“ä½œæˆ–è€…æ˜¯è¯»å†™æ“ä½œã€‚</p><h5 id="7-3-4-1ï¼šä»€ä¹ˆæ˜¯äº‹åŠ¡æ€§èµ„æº"><a href="#7-3-4-1ï¼šä»€ä¹ˆæ˜¯äº‹åŠ¡æ€§èµ„æº" class="headerlink" title="7-3-4-1ï¼šä»€ä¹ˆæ˜¯äº‹åŠ¡æ€§èµ„æº"></a>7-3-4-1ï¼šä»€ä¹ˆæ˜¯äº‹åŠ¡æ€§èµ„æº</h5><p>äº‹åŠ¡æ€§èµ„æºå°±æ˜¯æŒ‡é‚£äº›è¢«äº‹åŠ¡ç®¡ç†çš„èµ„æºï¼Œ<br>æ¯”å¦‚æ•°æ®æºã€JMS èµ„æºï¼Œä»¥åŠè‡ªå®šä¹‰çš„äº‹åŠ¡æ€§èµ„æºç­‰ç­‰ã€‚<br>å¦‚æœç¡®å®šåªå¯¹äº‹åŠ¡æ€§èµ„æºè¿›è¡Œåªè¯»æ“ä½œï¼Œ<br>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°†äº‹åŠ¡æ ‡å¿—ä¸ºåªè¯»çš„ï¼Œ<br>ä»¥æé«˜äº‹åŠ¡å¤„ç†çš„æ€§èƒ½ã€‚</p><h3 id="7-3-5ï¼šäº‹åŠ¡çš„è¶…æ—¶å±æ€§"><a href="#7-3-5ï¼šäº‹åŠ¡çš„è¶…æ—¶å±æ€§" class="headerlink" title="7-3-5ï¼šäº‹åŠ¡çš„è¶…æ—¶å±æ€§"></a>7-3-5ï¼šäº‹åŠ¡çš„è¶…æ—¶å±æ€§</h3><p>å°±æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡æ‰€å…è®¸æ‰§è¡Œçš„æœ€é•¿æ—¶é—´ï¼Œå¦‚æœè¶…è¿‡è¯¥æ—¶é—´é™åˆ¶ä½†äº‹åŠ¡è¿˜æ²¡æœ‰å®Œæˆï¼Œåˆ™è‡ªåŠ¨å›æ»šäº‹åŠ¡ã€‚<br>åœ¨ TransactionDefinition ä¸­ä»¥ int çš„å€¼æ¥è¡¨ç¤ºè¶…æ—¶æ—¶é—´ï¼Œå…¶å•ä½æ˜¯ç§’ã€‚<br>å½“ç„¶ï¼Œè¿™ä¸ªå±æ€§ï¼Œè²Œä¼¼æˆ‘ä»¬åŸºæœ¬ä¹Ÿæ²¡ç”¨è¿‡ã€‚</p><h2 id="7-4ï¼šSpringçš„äº‹åŠ¡å’Œæ•°æ®åº“çš„äº‹åŠ¡éš”ç¦»æ˜¯ä¸€ä¸ªæ¦‚å¿µä¹ˆï¼Ÿ"><a href="#7-4ï¼šSpringçš„äº‹åŠ¡å’Œæ•°æ®åº“çš„äº‹åŠ¡éš”ç¦»æ˜¯ä¸€ä¸ªæ¦‚å¿µä¹ˆï¼Ÿ" class="headerlink" title="7-4ï¼šSpringçš„äº‹åŠ¡å’Œæ•°æ®åº“çš„äº‹åŠ¡éš”ç¦»æ˜¯ä¸€ä¸ªæ¦‚å¿µä¹ˆï¼Ÿ"></a>7-4ï¼šSpringçš„äº‹åŠ¡å’Œæ•°æ®åº“çš„äº‹åŠ¡éš”ç¦»æ˜¯ä¸€ä¸ªæ¦‚å¿µä¹ˆï¼Ÿ</h2><p>Spring å¹¶ä¸ç›´æ¥ç®¡ç†äº‹åŠ¡ï¼Œè€Œæ˜¯æä¾›äº†å¤šç§äº‹åŠ¡ç®¡ç†å™¨ ã€‚<br>Spring äº‹åŠ¡ç®¡ç†å™¨çš„æ¥å£æ˜¯ï¼š PlatformTransactionManager ã€‚<br>é€šè¿‡è¿™ä¸ªæ¥å£ï¼ŒSpring ä¸ºå„ä¸ªå¹³å°å¦‚<br>JDBC(DataSourceTransactionManager)ã€<br>Hibernate(HibernateTransactionManager)ã€<br>JPA(JpaTransactionManager)ç­‰éƒ½æä¾›äº†<br>å¯¹åº”çš„äº‹åŠ¡ç®¡ç†å™¨ï¼Œä½†æ˜¯å…·ä½“çš„å®ç°å°±æ˜¯å„ä¸ªå¹³å°è‡ªå·±çš„äº‹æƒ…äº†ã€‚</p><h2 id="7-5ï¼šSpringäº‹åŠ¡åº•å±‚åŸç†"><a href="#7-5ï¼šSpringäº‹åŠ¡åº•å±‚åŸç†" class="headerlink" title="7-5ï¼šSpringäº‹åŠ¡åº•å±‚åŸç†"></a>7-5ï¼šSpringäº‹åŠ¡åº•å±‚åŸç†</h2><ol><li>åˆ’åˆ†å¤„ç†å•å…ƒ IOC<br> ä¹‹å‰åœ¨çœ‹æºç ï¼Œå‘ç°Spring è§£å†³çš„é—®é¢˜æ˜¯å¯¹å•ä¸ªæ•°æ®åº“è¿›è¡Œå±€éƒ¨äº‹åŠ¡å¤„ç†çš„ï¼Œ<br> å…·ä½“çš„å®ç°é¦–å…ˆä½¿ç”¨ Spring ä¸­çš„ IOC åˆ’åˆ†äº†äº‹åŠ¡å¤„ç†å•å…ƒã€‚<br> å¹¶ä¸”å°†å¯¹äº‹åŠ¡çš„å„ç§é…ç½®æ”¾åˆ°äº† IOC å®¹å™¨ä¸­<br> ï¼ˆè®¾ç½®äº‹åŠ¡ç®¡ç†å™¨ï¼Œè®¾ç½®äº‹åŠ¡çš„ä¼ æ’­ç‰¹æ€§åŠéš”ç¦»æœºåˆ¶ï¼‰ã€‚</li><li>AOP æ‹¦æˆªéœ€è¦è¿›è¡Œäº‹åŠ¡å¤„ç†çš„ç±»<br> Spring äº‹åŠ¡å¤„ç†æ¨¡å—æ˜¯é€šè¿‡ AOP åŠŸèƒ½æ¥å®ç°å£°æ˜å¼äº‹åŠ¡å¤„ç†çš„ï¼Œ<br> å…·ä½“æ“ä½œï¼ˆæ¯”å¦‚äº‹åŠ¡å®è¡Œçš„é…ç½®å’Œè¯»å–ï¼Œäº‹åŠ¡å¯¹è±¡çš„æŠ½è±¡ï¼‰ï¼Œ<br> ç”¨ TransactionProxyFactoryBean æ¥å£æ¥ä½¿ç”¨ AOP åŠŸèƒ½ï¼Œ<br> ç”Ÿæˆ proxy ä»£ç†å¯¹è±¡ï¼Œé€šè¿‡ TransactionInterceptor å®Œæˆå¯¹ä»£ç†æ–¹æ³•çš„æ‹¦æˆªï¼Œ<br> å°†äº‹åŠ¡å¤„ç†çš„åŠŸèƒ½ç¼–ç»‡åˆ°æ‹¦æˆªçš„æ–¹æ³•ä¸­ã€‚è¯»å– IOC å®¹å™¨äº‹åŠ¡é…ç½®å±æ€§ï¼Œ<br> è½¬åŒ–ä¸º Spring äº‹åŠ¡å¤„ç†éœ€è¦çš„å†…éƒ¨æ•°æ®ç»“æ„<br> ï¼ˆTransactionAttributeSourceAdvisorï¼‰ï¼Œ<br> è½¬åŒ–ä¸º TransactionAttribute è¡¨ç¤ºçš„æ•°æ®å¯¹è±¡ã€‚</li><li>å¯¹äº‹ç‰©å¤„ç†å®ç°ï¼ˆäº‹åŠ¡çš„ç”Ÿæˆã€æäº¤ã€å›æ»šã€æŒ‚èµ·ï¼‰<br> Spring å§”æ‰˜ç»™å…·ä½“çš„äº‹åŠ¡å¤„ç†å™¨å®ç°ã€‚å®ç°äº†ä¸€ä¸ªæŠ½è±¡å’Œé€‚é…ã€‚<br> é€‚é…çš„å…·ä½“äº‹åŠ¡å¤„ç†å™¨ï¼šDataSource æ•°æ®æºæ”¯æŒã€<br> Hibernate æ•°æ®æºäº‹åŠ¡å¤„ç†æ”¯æŒã€JDO æ•°æ®æºäº‹åŠ¡å¤„ç†æ”¯æŒï¼Œ<br> JPAã€JTA æ•°æ®æºäº‹åŠ¡å¤„ç†æ”¯æŒã€‚<br> è¿™äº›æ”¯æŒéƒ½æ˜¯é€šè¿‡è®¾è®¡ PlatformTransactionManagerã€<br> AbstractPlatforTransaction ä¸€ç³»åˆ—äº‹åŠ¡å¤„ç†çš„æ”¯æŒã€‚<br> ä¸ºå¸¸ç”¨æ•°æ®æºæ”¯æŒæä¾›äº†ä¸€ç³»åˆ—çš„ TransactionManagerã€‚</li></ol><h2 id="7-6ï¼šä¸ºä»€ä¹ˆåœ¨-Spring-äº‹åŠ¡ä¸­ä¸èƒ½åˆ‡æ¢æ•°æ®æºï¼Ÿ"><a href="#7-6ï¼šä¸ºä»€ä¹ˆåœ¨-Spring-äº‹åŠ¡ä¸­ä¸èƒ½åˆ‡æ¢æ•°æ®æºï¼Ÿ" class="headerlink" title="7-6ï¼šä¸ºä»€ä¹ˆåœ¨ Spring äº‹åŠ¡ä¸­ä¸èƒ½åˆ‡æ¢æ•°æ®æºï¼Ÿ"></a>7-6ï¼šä¸ºä»€ä¹ˆåœ¨ Spring äº‹åŠ¡ä¸­ä¸èƒ½åˆ‡æ¢æ•°æ®æºï¼Ÿ</h2><p>å› ä¸ºï¼Œåœ¨ Spring çš„äº‹åŠ¡ç®¡ç†ä¸­ï¼Œ<br>æ‰€ä½¿ç”¨çš„æ•°æ®åº“è¿æ¥ä¼šå’Œå½“å‰çº¿ç¨‹æ‰€ç»‘å®šï¼Œ<br>å³ä½¿æˆ‘ä»¬è®¾ç½®äº†å¦å¤–ä¸€ä¸ªæ•°æ®æºï¼Œä½¿ç”¨çš„è¿˜æ˜¯å½“å‰çš„æ•°æ®æºè¿æ¥ã€‚<br>å¦å¤–ï¼Œå¤šä¸ªæ•°æ®æºä¸”éœ€è¦äº‹åŠ¡çš„åœºæ™¯ï¼Œ<br>æœ¬èº«ä¼šå¸¦æ¥å¤šäº‹åŠ¡ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œæš‚æ—¶çš„è¯ï¼Œå¯èƒ½æ²¡æœ‰å¤ªå¥½çš„è§£å†³æ–¹æ¡ˆ<br>æ‰€ä»¥ä¸€èˆ¬ä¸€ä¸ªåº”ç”¨ï¼Œæ¨èé™¤éäº†è¯»å†™åˆ†ç¦»æ‰€å¸¦æ¥çš„å¤šæ•°æ®æºï¼Œ<br>å…¶å®ƒæƒ…å†µä¸‹ï¼Œå»ºè®®åªæœ‰ä¸€ä¸ªæ•°æ®æºã€‚</p><h1 id="8-Springçš„è£…é…"><a href="#8-Springçš„è£…é…" class="headerlink" title="8.Springçš„è£…é…"></a>8.Springçš„è£…é…</h1><h2 id="8-1ï¼šä»€ä¹ˆæ˜¯Springè£…é…"><a href="#8-1ï¼šä»€ä¹ˆæ˜¯Springè£…é…" class="headerlink" title="8-1ï¼šä»€ä¹ˆæ˜¯Springè£…é…"></a>8-1ï¼šä»€ä¹ˆæ˜¯Springè£…é…</h2><p>å½“ Bean åœ¨ Spring å®¹å™¨ä¸­ç»„åˆåœ¨ä¸€èµ·æ—¶ï¼Œå®ƒè¢«ç§°ä¸ºè£…é…æˆ– Bean è£…é…</p><h2 id="8-2ï¼šè‡ªåŠ¨è£…é…æœ‰å“ªäº›æ–¹å¼"><a href="#8-2ï¼šè‡ªåŠ¨è£…é…æœ‰å“ªäº›æ–¹å¼" class="headerlink" title="8-2ï¼šè‡ªåŠ¨è£…é…æœ‰å“ªäº›æ–¹å¼"></a>8-2ï¼šè‡ªåŠ¨è£…é…æœ‰å“ªäº›æ–¹å¼</h2><p>Spring å®¹å™¨èƒ½å¤Ÿè‡ªåŠ¨è£…é… Bean ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥é€šè¿‡æ£€æŸ¥ BeanFactory çš„å†…å®¹è®© Spring è‡ªåŠ¨è§£æ Bean çš„åä½œè€…ã€‚<br>è‡ªåŠ¨è£…é…çš„ä¸åŒæ¨¡å¼ï¼š</p><p>no - è¿™æ˜¯é»˜è®¤è®¾ç½®ï¼Œè¡¨ç¤ºæ²¡æœ‰è‡ªåŠ¨è£…é…ã€‚åº”ä½¿ç”¨æ˜¾å¼ Bean å¼•ç”¨è¿›è¡Œè£…é…ã€‚<br>byName - å®ƒæ ¹æ® Bean çš„åç§°æ³¨å…¥å¯¹è±¡ä¾èµ–é¡¹ã€‚å®ƒåŒ¹é…å¹¶è£…é…å…¶å±æ€§ä¸ XML æ–‡ä»¶ä¸­ç”±ç›¸åŒåç§°å®šä¹‰çš„ Bean ã€‚<br>ã€æœ€å¸¸ç”¨ã€‘byType - å®ƒæ ¹æ®ç±»å‹æ³¨å…¥å¯¹è±¡ä¾èµ–é¡¹ã€‚å¦‚æœå±æ€§çš„ç±»å‹ä¸ XML æ–‡ä»¶ä¸­çš„ä¸€ä¸ª Bean ç±»å‹åŒ¹é…ï¼Œåˆ™åŒ¹é…å¹¶è£…é…å±æ€§ã€‚<br>æ„é€ å‡½æ•° - å®ƒé€šè¿‡è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°æ¥æ³¨å…¥ä¾èµ–é¡¹ã€‚å®ƒæœ‰å¤§é‡çš„å‚æ•°ã€‚<br>autodetect - é¦–å…ˆå®¹å™¨å°è¯•é€šè¿‡æ„é€ å‡½æ•°ä½¿ç”¨ autowire è£…é…ï¼Œå¦‚æœä¸èƒ½ï¼Œåˆ™å°è¯•é€šè¿‡ byType è‡ªåŠ¨è£…é…ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>åå°„</title>
      <link href="2020/11/28/%E5%8F%8D%E5%B0%84/"/>
      <url>2020/11/28/%E5%8F%8D%E5%B0%84/</url>
      
        <content type="html"><![CDATA[<font color = gold ><p>éƒ½è¯´æ¡†æ¶=åå°„+æ³¨è§£+è®¾è®¡æ¨¡å¼<br>é‚£ä¹ˆä»Šå¤©å°±æ¥æ€»ç»“ä¸€ä¸‹å…³äºåå°„çš„çŸ¥è¯†æŠŠï½ï½</p></font><h1 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„"></a>åå°„</h1><hr><h2 id="åå°„æ˜¯ä»€ä¹ˆ"><a href="#åå°„æ˜¯ä»€ä¹ˆ" class="headerlink" title="åå°„æ˜¯ä»€ä¹ˆ"></a>åå°„æ˜¯ä»€ä¹ˆ</h2><p>åŠ è½½å®Œç±»ä¹‹åï¼Œåœ¨è¿è¡Œæ—¶æ•°æ®å–åŒºå°±äº§ç”Ÿäº†ä¸€ä¸ªClassç±»å‹çš„å¯¹è±¡ï¼ŒClasså¯¹è±¡åŒ…å«äº†å®Œæ•´çš„ç±»çš„ç»“æ„ä¿¡æ¯ã€‚<br>æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªClasså¯¹è±¡å¯ä»¥çœ‹åˆ°ç±»çš„ç»“æ„ï¼Œæˆ‘ä»¬å½¢è±¡çš„ç§°ä¹‹ä¸º<code>åå°„</code>ï¼›</p><p>JAVA åå°„æœºåˆ¶è¢«çœ‹ä½œæ˜¯<code>åŠ¨æ€è¯­è¨€</code>çš„å…³é”®ï¼ˆ<strong>è¿è¡ŒæœŸé—´å¯ä»¥æ”¹å˜å…¶ç»“æ„çš„è¯­è¨€</strong>ï¼‰</p><p>Javaä¸æ˜¯åŠ¨æ€è¯­è¨€ ï¼Œä½†Javaå¯ä»¥ç§°ä¹‹ä¸ºâ€œå‡†åŠ¨æ€è¯­è¨€â€ã€‚å³Javaæœ‰ä¸€å®šçš„åŠ¨ æ€æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨åå°„æœºåˆ¶ã€å­—èŠ‚ç æ“ä½œè·å¾—ç±»ä¼¼åŠ¨æ€è¯­è¨€çš„ç‰¹æ€§ã€‚ Javaçš„åŠ¨æ€æ€§è®©ç¼–ç¨‹çš„æ—¶å€™æ›´åŠ çµæ´»ï¼<br><strong>å…è®¸ç¨‹åºåœ¨æ‰§è¡ŒæœŸé—´<br>è·å–ä»»ä½•ç±»çš„å†…éƒ¨ä¿¡æ¯<br>å¹¶ä¸”èƒ½ç›´æ¥æ“ä½œä»»æ„å¯¹è±¡çš„å†…éƒ¨å±æ€§å’Œæ–¹æ³•</strong><br>æ­£å¸¸æƒ…å†µä¸‹ æ˜¯é€šè¿‡å¼•å…¥åŒ…ç±»çš„åç§°â€“newâ€“å–å¾—å®ä¾‹åŒ–å¯¹è±¡<br>åå°„ ï¼š å®ä¾‹åŒ–å¯¹è±¡-getClass()â€“å¾—åˆ°å®Œæ•´çš„åŒ…ç±»åç§°</p><hr><h2 id="åå°„ä¼˜ç¼ºç‚¹"><a href="#åå°„ä¼˜ç¼ºç‚¹" class="headerlink" title="åå°„ä¼˜ç¼ºç‚¹"></a>åå°„ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š è¿è¡ŒæœŸé—´å¯ä»¥æ”¹å˜å…¶ç»“æ„çš„è¯­è¨€<br>      è§£è€¦ä»¥åŠæé«˜ä»£ç çš„çµæ´»æ€§ã€‚  â€”åå°„ AOP</p><p>ç¼ºç‚¹ï¼š 1ã€æ€§èƒ½ç“¶é¢ˆï¼šåå°„ç›¸å½“äºä¸€ç³»åˆ—è§£é‡Šæ“ä½œï¼Œ<br>          é€šçŸ¥ JVM è¦åšçš„äº‹æƒ…ï¼Œ<br>          æ€§èƒ½æ¯”ç›´æ¥çš„ java ä»£ç è¦æ…¢å¾ˆå¤šã€‚<br>      2ã€å®‰å…¨é—®é¢˜ï¼Œè®©æˆ‘ä»¬å¯ä»¥åŠ¨æ€æ“ä½œæ”¹å˜ç±»çš„å±æ€§åŒæ—¶ä¹Ÿå¢åŠ äº†ç±»çš„å®‰å…¨éšæ‚£ã€‚</p><hr><h2 id="åå°„èƒ½åšä»€ä¹ˆ"><a href="#åå°„èƒ½åšä»€ä¹ˆ" class="headerlink" title="åå°„èƒ½åšä»€ä¹ˆ"></a>åå°„èƒ½åšä»€ä¹ˆ</h2><p>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»<br>åœ¨è¿è¡Œçš„æ—¶å€™æ„é€ ä¸€ä¸ªç±»çš„å¯¹è±¡<br>åœ¨è¿è¡Œæ—¶å€™è°ƒç”¨ä»»æ„ä¸€ä¸ªç±»æ‰€æ‹¥æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•<br>åœ¨è¿è¡Œæ—¶å€™è·å–æ³›å‹ä¿¡æ¯<br>åœ¨è¿è¡Œæ—¶å€™è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•<br>åœ¨è¿è¡Œæ—¶å¤„ç†æ³¨è§£<br>ç”ŸæˆåŠ¨æ€ä»£ç†<br><code> java.lang.Class ä»£è¡¨ä¸€ä¸ªç±»  java.lang.reflect.Method ä»£è¡¨ç±»çš„æ–¹æ³•  java.lang.reflect.Field ä»£è¡¨ç±»çš„æˆå‘˜å˜é‡  java.lang.reflect.Constructor ä»£è¡¨ç±»çš„æ„é€ å™¨</code></p><hr><h2 id="æ€ä¹ˆåš"><a href="#æ€ä¹ˆåš" class="headerlink" title="æ€ä¹ˆåš"></a>æ€ä¹ˆåš</h2><h3 id="java-lang-Classç±»â€“åå°„çš„æºå¤´"><a href="#java-lang-Classç±»â€“åå°„çš„æºå¤´" class="headerlink" title="java.lang.Classç±»â€“åå°„çš„æºå¤´"></a>java.lang.Classç±»â€“åå°„çš„æºå¤´</h3><h3 id="java-lang-Classç±»çš„ç†è§£"><a href="#java-lang-Classç±»çš„ç†è§£" class="headerlink" title="java.lang.Classç±»çš„ç†è§£"></a>java.lang.Classç±»çš„ç†è§£</h3><p><code>åŠ è½½</code>å®Œç±»ä¹‹åï¼Œåœ¨è¿è¡Œæ—¶æ•°æ®å–åŒºå°±äº§ç”Ÿäº†ä¸€ä¸ªClassç±»å‹çš„å¯¹è±¡ï¼ŒClasså¯¹è±¡åŒ…å«äº†å®Œæ•´çš„ç±»çš„ç»“æ„ä¿¡æ¯ã€‚å¯ä»¥é€šè¿‡Classç±»çš„æ–¹æ³•è¿›è¡Œå¯¹è±¡çš„å®ä¾‹åŒ–æ“ä½œï¼Œè°ƒç”¨ä»»æ„ä¸€ä¸ªç±»æ‰€æ‹¥æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•</p><p>Classä¸»è¦æ˜¯`åå°„çš„æºå¤´``ï¼Œ<br>ä¸€ä¸ªåŠ è½½çš„ç±»åœ¨ JVM ä¸­åªä¼šæœ‰ä¸€ä¸ªClasså®ä¾‹<br>ä¸€ä¸ªClasså¯¹è±¡å¯¹åº”çš„æ˜¯ä¸€ä¸ªåŠ è½½åˆ°JVMä¸­çš„ä¸€ä¸ª.classæ–‡ä»¶</p><h3 id="å¦‚ä½•è·å–Classå¯¹è±¡"><a href="#å¦‚ä½•è·å–Classå¯¹è±¡" class="headerlink" title="å¦‚ä½•è·å–Classå¯¹è±¡"></a>å¦‚ä½•è·å–Classå¯¹è±¡</h3><ol><li>Objectç±»çš„getClass();</li><li>ä»»ä½•æ•°æ®ç±»å‹ï¼ˆåŒ…æ‹¬åŸºæœ¬æ•°æ®ç±»å‹ï¼‰éƒ½æœ‰ä¸€ä¸ªâ€œé™æ€â€çš„classå±æ€§</li><li>é€šè¿‡Classç±»çš„é™æ€æ–¹æ³•ï¼šforName(å¸¸ç”¨)</li><li>ç±»åŠ è½½å™¨<pre class="line-numbers language-java" data-language="java"><code class="language-java">&#x2F;&#x2F;----Class&lt;Person&gt; personClass &#x3D; Person.class;System.out.println(personClass);&#x2F;&#x2F;------Person person &#x3D; new Person();Class&lt;? extends Person&gt; aClass &#x3D; person.getClass();System.out.println(aClass);Class&lt;?&gt; personClz &#x3D; Class.forName(&quot;com.as.Person&quot;);System.out.println(personClz);ClassLoader classLoader &#x3D; ReflectionTest.class.getClassLoader();Class&lt;?&gt; loadClass &#x3D; classLoader.loadClass(&quot;com.as.Person&quot;);System.out.println(loadClass);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java">public class Person &#123;    private String name;    public int age;    public Person() &#123;    &#125;    public Person(String name, int age) &#123;        this.name &#x3D; name;        this.age &#x3D; age;    &#125;    private Person(String name) &#123;        this.name &#x3D; name;    &#125;    public String getName() &#123;        return name;    &#125;    @Override    public String toString() &#123;        return &quot;Person&#123;&quot; +                &quot;name&#x3D;&#39;&quot; + name + &#39;\&#39;&#39; +                &quot;, age&#x3D;&quot; + age +                &#39;&#125;&#39;;    &#125;    public void setName(String name) &#123;        this.name &#x3D; name;    &#125;    public int getAge() &#123;        return age;    &#125;    public void setAge(int age) &#123;        this.age &#x3D; age;    &#125;    public void show()&#123;        System.out.println(&quot;hello reflection&quot;);    &#125;    private String showNation(String nation)&#123;        System.out.println(&quot;å›½ç±ï¼š&quot;+nation);        return nation;    &#125;&#125;public class ReflectionTest &#123;    public static void main(String[] args) throws IllegalAccessException, InvocationTargetException, InstantiationException, NoSuchMethodException, NoSuchFieldException &#123;        &#x2F;&#x2F;åå°„åˆ›å»ºå¯¹è±¡        Class&lt;Person&gt; personClass &#x3D; Person.class;        Constructor&lt;Person&gt; constructor &#x3D; personClass.getConstructor(String.class, int.class);        Person person &#x3D; constructor.newInstance(&quot;åŠ å¤š&quot;, 24);        System.out.println(person.toString());        &#x2F;&#x2F;åå°„æ“ä½œå¯¹è±¡çš„å±æ€§        Field age &#x3D; personClass.getDeclaredField(&quot;age&quot;);        age.set(person,21);        System.out.println(person.toString());        &#x2F;&#x2F;åå°„æ“ä½œå¯¹è±¡çš„æ–¹æ³•        Method show &#x3D; personClass.getMethod(&quot;show&quot;);        show.invoke(person);        System.out.println(&quot;**********&quot;);        &#x2F;&#x2F;é€šè¿‡åå°„å¯ä»¥è°ƒç”¨Personçš„ç§æœ‰çš„ç»“æ„        Constructor&lt;Person&gt; declaredConstructor &#x3D; personClass.getDeclaredConstructor(String.class);        declaredConstructor.setAccessible(true);        Person instance &#x3D; declaredConstructor.newInstance(&quot;åŠ å¤šå®&quot;);        System.out.println(instance);        Field name &#x3D; personClass.getDeclaredField(&quot;name&quot;);        name.setAccessible(true);        name.set(person,&quot;ä½³é“&quot;);        System.out.println(person);        Method showNation &#x3D; personClass.getDeclaredMethod(&quot;showNation&quot;, String.class);        showNation.setAccessible(true);        showNation.invoke(person,&quot;China&quot;);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><h3 id="å“ªäº›ç±»å‹å¯ä»¥æœ‰Classå¯¹è±¡"><a href="#å“ªäº›ç±»å‹å¯ä»¥æœ‰Classå¯¹è±¡" class="headerlink" title="å“ªäº›ç±»å‹å¯ä»¥æœ‰Classå¯¹è±¡"></a>å“ªäº›ç±»å‹å¯ä»¥æœ‰Classå¯¹è±¡</h3><p>ç±»ï¼š<br>æ¥å£<br>æ•°ç»„ åªè¦å…ƒç´ ç±»å‹ä¸çº¬åº¦ä¸€æ ·å°±æ˜¯åŒä¸€ä¸ªclass<br>æšä¸¾<br>æ³¨è§£<br>åŸºæœ¬æ•°æ®ç±»å‹<br>void<br><code>æ•°ç»„ åªè¦å…ƒç´ ç±»å‹ä¸çº¬åº¦ä¸€æ ·å°±æ˜¯åŒä¸€ä¸ªclass</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">int[] a &#x3D; new int[10];int[] b &#x3D; new int[100];System.out.println(a.getClass()&#x3D;&#x3D;b.getClass()); &#x2F;&#x2F; true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="æœ‰äº†Classå¯¹è±¡ï¼Œèƒ½åšä»€ä¹ˆï¼Ÿ"><a href="#æœ‰äº†Classå¯¹è±¡ï¼Œèƒ½åšä»€ä¹ˆï¼Ÿ" class="headerlink" title="æœ‰äº†Classå¯¹è±¡ï¼Œèƒ½åšä»€ä¹ˆï¼Ÿ"></a>æœ‰äº†Classå¯¹è±¡ï¼Œèƒ½åšä»€ä¹ˆï¼Ÿ</h3><h4 id="åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡"><a href="#åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡" class="headerlink" title="åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡"></a>åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡</h4><ol><li>è°ƒç”¨Classå¯¹è±¡çš„newInstance()æ–¹æ³•<br>è¦ æ±‚ï¼š<br> 1ï¼‰ç±»å¿…é¡»æœ‰ä¸€ä¸ªæ— å‚æ•°çš„æ„é€ å™¨ã€‚<br> 2ï¼‰ç±»çš„æ„é€ å™¨çš„è®¿é—®æƒé™éœ€è¦è¶³å¤Ÿã€‚é€šå¸¸è®¾ç½®ä¸ºpublic<br> æ‰€ä»¥åœ¨javabeanä¸­è¦æ±‚æä¾›publicçš„ç©ºå‚æ„é€ å™¨ï¼š</li><li>é€šè¿‡Classç±»çš„getDeclaredConstructor(Class â€¦ parameterTypes)å–å¾—æœ¬ç±»çš„æŒ‡å®šå½¢å‚ç±»å‹çš„æ„é€ å™¨<h4 id="è·å–è¿è¡Œæ—¶ç±»çš„å®Œ-æ•´ç»“æ„"><a href="#è·å–è¿è¡Œæ—¶ç±»çš„å®Œ-æ•´ç»“æ„" class="headerlink" title="è·å–è¿è¡Œæ—¶ç±»çš„å®Œ æ•´ç»“æ„"></a>è·å–è¿è¡Œæ—¶ç±»çš„å®Œ æ•´ç»“æ„</h4>Fieldã€Methodã€Constructorã€Superclassã€Interfaceã€Annotation</li></ol><ol><li>å®ç°çš„å…¨éƒ¨æ¥å£<br><code>public Class&lt;?&gt;[] getInterfaces()</code><br>ç¡®å®šæ­¤å¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£å®ç°çš„æ¥å£ã€‚</li></ol><ol start="2"><li>æ‰€ç»§æ‰¿çš„çˆ¶ç±»  å…¨éƒ¨çš„æ–¹æ³• å…¨éƒ¨çš„Field<br><code>public Class&lt;? Super T&gt; getSuperclass()</code></li></ol><p>3.å…¨éƒ¨çš„æ„é€ å™¨<br><code>public Constructor&lt;T&gt;[] getConstructors()</code><br>å½“å‰è¿è¡Œæ—¶ç±»ä¸­æ‰€æœ‰publicæ„é€ æ–¹æ³•ã€‚<br><code>public Constructor&lt;T&gt;[] getDeclaredConstructors()</code><br>è¿”å›æ­¤ Class å¯¹è±¡è¡¨ç¤ºçš„ç±»å£°æ˜çš„æ‰€æœ‰æ„é€ æ–¹æ³•ã€‚</p><p>Constructorç±»ä¸­ï¼š<br>å–å¾—ä¿®é¥°ç¬¦: <code>public int getModifiers()</code>;<br>å–å¾—æ–¹æ³•åç§°: <code>public String getName()</code>;<br>å–å¾—å‚æ•°çš„ç±»å‹ï¼š<code>public Class&lt;?&gt;[] getParameterTypes()</code>;</p><ol><li>å…¨éƒ¨çš„æ–¹æ³•<br><code>public Method[] getDeclaredMethods()</code><br>è·å¾—å½“å‰è¿è¡Œæ—¶ç±»ä¸­ç±»ä¸­çš„å£°æ˜çš„æ‰€æœ‰æ–¹æ³•ï¼ŒåŒ…å«æ‰€æœ‰çš„æƒé™ï¼Œ<strong>ï¼ˆä¸åŒ…æ‹¬çˆ¶ç±»ä¸­å£°æ˜çš„ï¼‰</strong><br><code>public Method[] getMethods()</code><br>è¿”å›æ­¤Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„<strong>ç±»å’Œçˆ¶ç±»</strong>ä¸­çš„<strong>public</strong>çš„æ–¹æ³•ã€‚<br>Methodç±»ä¸­ï¼š<br><code>public Class&lt;?&gt; getReturnType()</code>å–å¾—å…¨éƒ¨çš„è¿”å›å€¼<br><code>public Class&lt;?&gt;[] getParameterTypes()</code>å–å¾—å…¨éƒ¨çš„å‚æ•°<br><code>public int getModifiers()</code>å–å¾—ä¿®é¥°ç¬¦<br><code>public Class&lt;?&gt;[] getExceptionTypes()</code>å–å¾—å¼‚å¸¸ä¿¡æ¯</li></ol><p>é€šè¿‡åå°„ï¼Œè°ƒç”¨ç±»ä¸­çš„æ–¹æ³•ï¼Œé€šè¿‡Methodç±»å®Œæˆã€‚æ­¥éª¤ï¼š<br>1.é€šè¿‡Classç±»çš„<code>getMethod(String name,Classâ€¦parameterTypes)</code>æ–¹æ³•å–å¾— ä¸€ä¸ªMethodå¯¹è±¡ï¼Œå¹¶è®¾ç½®æ­¤æ–¹æ³•æ“ä½œæ—¶æ‰€éœ€è¦çš„å‚æ•°ç±»å‹ã€‚<br>2.ä¹‹åä½¿ç”¨<code>Object invoke(Object obj, Object[] args)</code>è¿›è¡Œè°ƒç”¨ï¼Œå¹¶å‘æ–¹æ³•ä¸­ ä¼ é€’è¦è®¾ç½®çš„objå¯¹è±¡çš„å‚æ•°ä¿¡æ¯ã€‚<br>è¯´æ˜ï¼š<br>a. Object å¯¹åº”åŸæ–¹æ³•çš„è¿”å›å€¼ï¼Œè‹¥åŸæ–¹æ³•æ— è¿”å›å€¼ï¼Œæ­¤æ—¶è¿”å›null<br>b. è‹¥åŸæ–¹æ³•è‹¥ä¸ºé™æ€æ–¹æ³•ï¼Œæ­¤æ—¶å½¢å‚Object objå¯ä¸ºnull<br>c. è‹¥åŸæ–¹æ³•å½¢å‚åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™Object[] argsä¸ºnull<br>d. è‹¥åŸæ–¹æ³•å£°æ˜ä¸ºprivate,åˆ™éœ€è¦åœ¨è°ƒç”¨æ­¤invoke()æ–¹æ³•å‰ï¼Œæ˜¾å¼è°ƒç”¨ æ–¹æ³•å¯¹è±¡çš„setAccessible(true)æ–¹æ³•ï¼Œå°†å¯ä¿®æ”¹privateçš„æ–¹æ³•ã€‚</p><p>5.å…¨éƒ¨çš„Field<br><code>public Field[] getFields()</code><br>è¿”å›æ­¤Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„<strong>ç±»å’Œçˆ¶ç±»</strong>ä¸­çš„<strong>public</strong>çš„Fieldã€‚<br><code>public Field[] getDeclaredFields()</code><br>è·å¾—å½“å‰è¿è¡Œæ—¶ç±»ä¸­ç±»ä¸­çš„å£°æ˜çš„æ‰€æœ‰å±æ€§ï¼ŒåŒ…å«æ‰€æœ‰çš„æƒé™ï¼Œ<strong>ï¼ˆä¸åŒ…æ‹¬çˆ¶ç±»ä¸­å£°æ˜çš„å±æ€§ï¼‰</strong><br>Fieldæ–¹æ³•ä¸­ï¼š<br><code>public int getModifiers()</code> ä»¥æ•´æ•°å½¢å¼è¿”å›æ­¤Fieldçš„ä¿®é¥°ç¬¦<br><code>public Class&lt;?&gt; getType()</code> å¾—åˆ°Fieldçš„å±æ€§ç±»å‹<br><code>public String getName()</code> è¿”å›Fieldçš„åç§°ã€‚</p><p>åœ¨Fieldä¸­ï¼š<br><code>public Object get(Object obj)</code> å–å¾—æŒ‡å®šå¯¹è±¡objä¸Šæ­¤Fieldçš„å±æ€§å†…å®¹ <code>public void set(Object obj,Object value)</code> è®¾ç½®æŒ‡å®šå¯¹è±¡objä¸Šæ­¤Fieldçš„å±æ€§å†…å®¹</p><ol><li>Annotationç›¸å…³</li></ol><p><code>get Annotation(Class&lt;T&gt; annotationClass)</code><br><code>getDeclaredAnnotations()</code></p><p>7.æ³›å‹ç›¸å…³</p><p>è·å–çˆ¶ç±»æ³›å‹ç±»å‹ï¼š<code>Type getGenericSuperclass()</code><br>æ³›å‹ç±»å‹ï¼š<code>ParameterizedType</code><br>è·å–å®é™…çš„æ³›å‹ç±»å‹å‚æ•°æ•°ç»„ï¼š<code>getActualTypeArguments()</code></p><p>8.ç±»æ‰€åœ¨çš„åŒ…<br><code>Package getPackage()</code></p><hr><h2 id="åå°„å®é™…çš„åº”ç”¨"><a href="#åå°„å®é™…çš„åº”ç”¨" class="headerlink" title="åå°„å®é™…çš„åº”ç”¨"></a>åå°„å®é™…çš„åº”ç”¨</h2><h3 id="ä½¿ç”¨-JDBC-è¿æ¥æ•°æ®åº“"><a href="#ä½¿ç”¨-JDBC-è¿æ¥æ•°æ®åº“" class="headerlink" title="ä½¿ç”¨ JDBC è¿æ¥æ•°æ®åº“"></a>ä½¿ç”¨ JDBC è¿æ¥æ•°æ®åº“</h3><p>ä½¿ç”¨ Class.forName()é€šè¿‡åå°„åŠ è½½æ•°æ®åº“çš„é©±åŠ¨ç¨‹åºï¼›</p><h3 id="Spring-æ¡†æ¶"><a href="#Spring-æ¡†æ¶" class="headerlink" title="Spring æ¡†æ¶"></a>Spring æ¡†æ¶</h3><p>IOCï¼ˆåŠ¨æ€åŠ è½½ç®¡ç† Beanï¼‰åˆ›å»ºå¯¹è±¡ ï¼šç¨‹åºå¯åŠ¨çš„æ—¶å€™Springè¯»å–é…ç½®æ–‡ä»¶applicationContext.xmlå…µè§£ææˆæ ‡ç­¾ï¼Œåå°„å®ä¾‹åŒ–å¯¹è±¡åˆ°å®¹å™¨ä¸­<br>AOPï¼ˆåŠ¨æ€ä»£ç†ï¼‰åŠŸèƒ½éƒ½å’Œåå°„æœ‰è”ç³»ï¼›</p><h3 id="åŠ¨æ€ä»£ç†"><a href="#åŠ¨æ€ä»£ç†" class="headerlink" title="åŠ¨æ€ä»£ç†"></a>åŠ¨æ€ä»£ç†</h3><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><pre><code>ä½¿ç”¨ä¸€ä¸ªä»£ç†å°†å¯¹è±¡åŒ…è£…èµ·æ¥, ç„¶åç”¨è¯¥ä»£ç†å¯¹è±¡å–ä»£åŸå§‹å¯¹è±¡ã€‚ä»»ä½•å¯¹åŸ å§‹å¯¹è±¡çš„è°ƒç”¨éƒ½è¦é€šè¿‡ä»£ç†ã€‚ä»£ç†å¯¹è±¡å†³å®šæ˜¯å¦ä»¥åŠä½•æ—¶å°†æ–¹æ³•è°ƒç”¨è½¬åˆ°åŸå§‹å¯¹è±¡ä¸Šã€‚</code></pre><h4 id="é™æ€ä»£ç†"><a href="#é™æ€ä»£ç†" class="headerlink" title="é™æ€ä»£ç†"></a>é™æ€ä»£ç†</h4><p>é™æ€ä»£ç†ï¼Œ<br>ç‰¹å¾æ˜¯ä»£ç†ç±»å’Œç›®æ ‡å¯¹è±¡çš„ç±»éƒ½æ˜¯åœ¨ç¼–è¯‘æœŸé—´ç¡®å®šä¸‹æ¥ï¼Œä¸åˆ©äºç¨‹åºçš„æ‰©å±•ã€‚<br>åŒæ—¶ï¼Œæ¯ä¸€ä¸ªä»£ç†ç±»åªèƒ½ä¸ºä¸€ä¸ªæ¥å£æœåŠ¡ï¼Œè¿™æ ·ä¸€æ¥ç¨‹åºå¼€å‘ä¸­å¿…ç„¶äº§ç”Ÿè¿‡å¤šçš„ä»£ç†ã€‚<br>æœ€å¥½å¯ä»¥é€šè¿‡ä¸€ä¸ªä»£ç†ç±»å®Œæˆå…¨éƒ¨çš„ä»£ç†åŠŸèƒ½ã€‚<br>é‚£è¿™ä¸ªé€šç”¨çš„ä»£ç†ç±»åªèƒ½æ˜¯åœ¨è¿è¡ŒæœŸé—´æ‰èƒ½ç¡®å®šï¼Œæ ¹æ®è¿è¡Œè¿‡ç¨‹ä¸­çœ‹ä½ åŠ è½½åˆ°å†…å­˜ä¸­çš„çš„è¢«ä»£ç†ç±»æ˜¯è°ï¼ŒåŠ¨æ€åœ°å¸®ä½ å»åˆ›å»ºä»£ç†ç±»ï¼Œæ‰€ä»¥çš„è¯ä½“ç°äº†åŠ¨æ€æ€§ï¼Œè¦ç”¨åˆ°åå°„</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">interface CloFactory &#123;    public void geneCloth();&#125;&#x2F;&#x2F;è¢«ä»£ç†ç±»class DressFactory implements CloFactory&#123;    @Override    public void geneCloth() &#123;        System.out.println(&quot;ç”Ÿäº§Dress&quot;);    &#125;&#125;&#x2F;&#x2F;ä»£ç†ç±»class ProxyDress implements CloFactory&#123;    private CloFactory cloFactory;    public ProxyDress(CloFactory cloFactory) &#123;        this.cloFactory &#x3D; cloFactory;    &#125;    @Override    public void geneCloth() &#123;        System.out.println(&quot;ä¹°ææ–™&quot;);        cloFactory.geneCloth();        System.out.println(&quot;å¼€å§‹å”®å–&quot;);    &#125;&#125;public class StaticProxyTest&#123;    public static void main(String[] args) &#123;        DressFactory dressFactory &#x3D; new DressFactory();        ProxyDress proxyDress &#x3D; new ProxyDress(dressFactory);        proxyDress.geneCloth();    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åŠ¨æ€ä»£ç†å®ç°"><a href="#åŠ¨æ€ä»£ç†å®ç°" class="headerlink" title="åŠ¨æ€ä»£ç†å®ç°"></a>åŠ¨æ€ä»£ç†å®ç°</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java">import java.lang.reflect.InvocationHandler;import java.lang.reflect.Method;import java.lang.reflect.Proxy;public class DynasticProxyTest &#123;    public static void main(String[] args) &#123;        DressFactory dressFactory &#x3D; new DressFactory();        CloFactory proxyInstance &#x3D; (CloFactory) ProxyGeneric.getProxyInstance(dressFactory);        proxyInstance.geneCloth();    &#125;&#125;interface CloFactory &#123;    public void geneCloth();&#125;&#x2F;&#x2F;è¢«ä»£ç†ç±»class DressFactory implements CloFactory&#123;    @Override    public void geneCloth() &#123;        System.out.println(&quot;ç”Ÿäº§Dress&quot;);    &#125;&#125;class ProxyGeneric &#123;    &#x2F;&#x2F;å¾—åˆ°è¢«ä»£ç†å¯¹è±¡    public static Object getProxyInstance(Object obj)&#123;        MyInvocationHandler handler &#x3D;new MyInvocationHandler();        handler.bind(obj) ;        Object o &#x3D; Proxy.newProxyInstance(obj.getClass().getClassLoader(), obj.getClass().getInterfaces(),handler);        return o ;    &#125;&#125;&#x2F;&#x2F;å½“æˆ‘ä»¬ä½¿ç”¨ä»£ç†ç±»çš„å¯¹è±¡æ—¶ï¼Œè°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨invoke()class MyInvocationHandler implements InvocationHandler&#123;    Object obj;&#x2F;&#x2F;è¢«ä»£ç†å¯¹è±¡    public void bind(Object obj)&#123;        this. obj &#x3D; obj;    &#125;    @Override    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;        System.out.println(&quot;å‡†å¤‡ææ–™&quot;);        Object returnValue &#x3D; method.invoke(obj, args);        System.out.println(&quot;å®Œå·¥&quot;);        return returnValue;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h2 id="å…³äºåå°„çš„ç–‘é—®"><a href="#å…³äºåå°„çš„ç–‘é—®" class="headerlink" title="å…³äºåå°„çš„ç–‘é—®"></a>å…³äºåå°„çš„ç–‘é—®</h2><h3 id="æ€ä¹ˆçœ‹å¾…åå°„å’Œå°è£…æ€§ï¼Ÿï¼Ÿ"><a href="#æ€ä¹ˆçœ‹å¾…åå°„å’Œå°è£…æ€§ï¼Ÿï¼Ÿ" class="headerlink" title="æ€ä¹ˆçœ‹å¾…åå°„å’Œå°è£…æ€§ï¼Ÿï¼Ÿ"></a>æ€ä¹ˆçœ‹å¾…åå°„å’Œå°è£…æ€§ï¼Ÿï¼Ÿ</h3><p>å°è£…ï¼šè§£å†³çš„æ˜¯å»ºè®®æ€ä¹ˆè°ƒç”¨çš„é—®é¢˜ï¼šè¡¨ç¤ºå»ºè®®ä½ å»è°ƒç”¨å…¬å…±çš„å±æ€§å’Œæ–¹æ³•ï¼Œç§æœ‰çš„å°±ä½¿ç”¨get setæ–¹æ³•å»è°ƒç”¨<br>åå°„ï¼š è§£å†³çš„æ˜¯èƒ½ä¸èƒ½è°ƒç”¨çš„é—®é¢˜<br>ä¸çŸ›ç›¾</p><h3 id="ä»€ä¹ˆæ—¶å€™ä½¿ç”¨åå°„ï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™ä½¿ç”¨åå°„ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ä½¿ç”¨åå°„ï¼Ÿ"></a>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨åå°„ï¼Ÿ</h3><p>ç¼–è¯‘çš„æ—¶å€™ç¡®å®šä¸ä¸‹æ¥ç”¨é‚£ä¸ªå¯¹è±¡ ï¼Œæ—¢ä¸èƒ½é€šè¿‡newå¯¹è±¡çš„æ–¹å¼æ¥åšã€‚è¿™æ˜¯å°±å¯ä»¥ç”¨åå°„çš„æ–¹å¼ï¼Œåå°„çš„ç‰¹å¾ï¼šåŠ¨æ€æ€§ï¼ˆè¿è¡ŒæœŸé—´å¯ä»¥æ”¹å˜å…¶ç»“æ„çš„è¯­è¨€ï¼‰</p><hr><h2 id="ç±»çš„åŠ è½½-ä¸ClassLoaderçš„ç†è§£"><a href="#ç±»çš„åŠ è½½-ä¸ClassLoaderçš„ç†è§£" class="headerlink" title="ç±»çš„åŠ è½½ ä¸ClassLoaderçš„ç†è§£"></a>ç±»çš„åŠ è½½ ä¸ClassLoaderçš„ç†è§£</h2><h3 id="ç±»çš„åŠ è½½è¿‡ç¨‹"><a href="#ç±»çš„åŠ è½½è¿‡ç¨‹" class="headerlink" title="ç±»çš„åŠ è½½è¿‡ç¨‹"></a>ç±»çš„åŠ è½½è¿‡ç¨‹</h3><p>å½“ç¨‹åºä¸»åŠ¨ä½¿ç”¨æŸä¸ªç±»æ—¶ï¼Œå¦‚æœè¯¥ç±»è¿˜æœªè¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œåˆ™ç³»ç»Ÿä¼šé€šè¿‡ å¦‚ä¸‹ä¸‰ä¸ªæ­¥éª¤æ¥å¯¹è¯¥ç±»è¿›è¡Œåˆå§‹åŒ–ã€‚<br>åŠ è½½ï¼šå°†classæ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬æ¢æˆæ–¹æ³•åŒºçš„è¿è¡Œæ—¶ æ•°æ®ç»“æ„ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºä¸­ç±»æ•°æ®çš„è®¿é—® å…¥å£ï¼ˆå³å¼•ç”¨åœ°å€ï¼‰ã€‚æ‰€æœ‰éœ€è¦è®¿é—®å’Œä½¿ç”¨ç±»æ•°æ®åªèƒ½é€šè¿‡è¿™ä¸ªClasså¯¹è±¡ã€‚è¿™ä¸ªåŠ è½½çš„ è¿‡ç¨‹éœ€è¦ç±»åŠ è½½å™¨å‚ä¸ã€‚</p><p>é“¾æ¥ï¼šå°†Javaç±»çš„äºŒè¿›åˆ¶ä»£ç åˆå¹¶åˆ°JVMçš„è¿è¡ŒçŠ¶æ€ä¹‹ä¸­çš„è¿‡ç¨‹ã€‚<br>ïƒ˜ éªŒè¯ï¼šç¡®ä¿åŠ è½½çš„ç±»ä¿¡æ¯ç¬¦åˆJVMè§„èŒƒï¼Œä¾‹å¦‚ï¼šä»¥cafeå¼€å¤´ï¼Œæ²¡æœ‰å®‰å…¨æ–¹é¢çš„é—®é¢˜<br>ïƒ˜ å‡†å¤‡ï¼šæ­£å¼ä¸ºç±»å˜é‡ï¼ˆstaticï¼‰åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡é»˜è®¤åˆå§‹å€¼çš„é˜¶æ®µï¼Œè¿™äº›å†…å­˜ éƒ½å°†åœ¨æ–¹æ³•åŒºä¸­è¿›è¡Œåˆ†é…ã€‚<br>ïƒ˜ è§£æï¼šè™šæ‹Ÿæœºå¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨ï¼ˆå¸¸é‡åï¼‰æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨ï¼ˆåœ°å€ï¼‰çš„è¿‡ç¨‹ã€‚</p><p>åˆå§‹åŒ–ï¼šæ‰§è¡Œç±»æ„é€ å™¨<clinit>()æ–¹æ³•çš„è¿‡ç¨‹ã€‚<br>ç±»æ„é€ å™¨<clinit>()æ–¹æ³•æ˜¯ç”±ç¼–è¯‘æœŸè‡ªåŠ¨æ”¶é›†ç±»ä¸­ æ‰€æœ‰ç±»å˜é‡çš„èµ‹å€¼åŠ¨ä½œå’Œé™æ€ä»£ç å—ä¸­çš„è¯­å¥åˆå¹¶äº§ç”Ÿçš„ã€‚<br>ï¼ˆç±»æ„é€ å™¨æ˜¯æ„é€ ç±»ä¿¡æ¯çš„ï¼Œä¸æ˜¯æ„é€ è¯¥ç±»å¯¹è±¡çš„æ„é€ å™¨ï¼‰ã€‚<br>ïƒ˜ å½“åˆå§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°å…¶çˆ¶ç±»è¿˜æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ™éœ€è¦å…ˆè§¦å‘å…¶çˆ¶ç±» çš„åˆå§‹åŒ–ã€‚<br>ïƒ˜ è™šæ‹Ÿæœºä¼šä¿è¯ä¸€ä¸ªç±»çš„<clinit>()æ–¹æ³•åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­è¢«æ­£ç¡®åŠ é”å’ŒåŒæ­¥ã€‚</p><h3 id="ä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿç±»åˆå§‹åŒ–ï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿç±»åˆå§‹åŒ–ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿç±»åˆå§‹åŒ–ï¼Ÿ"></a>ä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿç±»åˆå§‹åŒ–ï¼Ÿ</h3><p>ç±»çš„ä¸»åŠ¨å¼•ç”¨ï¼ˆä¸€å®šä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼‰</p><p>å½“è™šæ‹Ÿæœºå¯åŠ¨ï¼Œå…ˆåˆå§‹åŒ–mainæ–¹æ³•æ‰€åœ¨çš„ç±»<br>newä¸€ä¸ªç±»çš„å¯¹è±¡<br>è°ƒç”¨ç±»çš„é™æ€æˆå‘˜ï¼ˆé™¤äº†finalå¸¸é‡ï¼‰å’Œé™æ€æ–¹æ³•<br>ä½¿ç”¨java.lang.reflectåŒ…çš„æ–¹æ³•å¯¹ç±»è¿›è¡Œåå°„è°ƒç”¨<br>å½“åˆå§‹åŒ–ä¸€ä¸ªç±»ï¼Œå¦‚æœå…¶çˆ¶ç±»æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œåˆ™å…ˆä¼šåˆå§‹åŒ–å®ƒçš„çˆ¶ç±»</p><p>ç±»çš„è¢«åŠ¨å¼•ç”¨ï¼ˆä¸ä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼‰</p><p>å½“è®¿é—®ä¸€ä¸ªé™æ€åŸŸæ—¶ï¼Œåªæœ‰çœŸæ­£å£°æ˜è¿™ä¸ªåŸŸçš„ç±»æ‰ä¼šè¢«åˆå§‹åŒ– ïƒ¼ å½“é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™æ€å˜é‡ï¼Œä¸ä¼šå¯¼è‡´å­ç±»åˆå§‹åŒ–</p><p>é€šè¿‡æ•°ç»„å®šä¹‰ç±»å¼•ç”¨ï¼Œä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–<br>å¼•ç”¨å¸¸é‡ä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–ï¼ˆ<strong>å¸¸é‡åœ¨é“¾æ¥é˜¶æ®µå°±å­˜å…¥è°ƒç”¨ç±»çš„å¸¸é‡æ± ä¸­äº†</strong>ï¼‰</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public class ClassLoadingTest &#123;public static void main(String[] args) &#123; &#x2F;&#x2F; ä¸»åŠ¨å¼•ç”¨ï¼šä¸€å®šä¼šå¯¼è‡´Aå’ŒFatherçš„åˆå§‹åŒ–&#x2F;&#x2F; A a &#x3D; new A();&#x2F;&#x2F; System.out.println(A.m); &#x2F;&#x2F; Class.forName(&quot;com.atguigu.java2.A&quot;);&#x2F;&#x2F; è¢«åŠ¨å¼•ç”¨ A[] array &#x3D; new A[5];&#x2F;&#x2F;ä¸ä¼šå¯¼è‡´Aå’ŒFatherçš„åˆå§‹åŒ–&#x2F;&#x2F; System.out.println(A.b);&#x2F;&#x2F;åªä¼šåˆå§‹åŒ– Father&#x2F;&#x2F; System.out.println(A.M);&#x2F;&#x2F;ä¸ä¼šå¯¼è‡´Aå’Œ Fatherçš„åˆå§‹åŒ– &#125;static &#123; System.out.println(&quot;mainæ‰€åœ¨çš„ç±»&quot;); &#125;class Father &#123;     static int b &#x3D; 2;     static &#123; System.out.println(&quot;çˆ¶ç±»è¢«åŠ è½½&quot;);     &#125;     &#125;class A extends Father &#123;static &#123;     System.out.println(&quot;å­ç±»è¢«åŠ è½½&quot;);    m &#x3D; 300;&#125; static int m &#x3D; 100; static final int M &#x3D; 1;&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ClassLoader"><a href="#ClassLoader" class="headerlink" title="ClassLoader"></a>ClassLoader</h2><h3 id="ClassLoaderä½œç”¨"><a href="#ClassLoaderä½œç”¨" class="headerlink" title="ClassLoaderä½œç”¨"></a>ClassLoaderä½œç”¨</h3><p>ç±»åŠ è½½çš„ä½œç”¨ï¼šå°†class æ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ® è½¬æ¢æˆæ–¹ æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ï¼Œç„¶ååœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡ï¼Œä½œä¸º æ–¹æ³•åŒºä¸­ç±»æ•°æ®çš„è®¿é—®å…¥å£ã€‚<br>ç±»ç¼“å­˜ï¼šæ ‡å‡†çš„JavaSEç±»åŠ è½½å™¨å¯ä»¥æŒ‰è¦æ±‚æŸ¥æ‰¾ç±»ï¼Œä½†ä¸€æ—¦æŸä¸ªç±»è¢«åŠ è½½åˆ°ç±»åŠ è½½å™¨ ä¸­ï¼Œå®ƒå°†ç»´æŒåŠ è½½ï¼ˆç¼“å­˜ï¼‰ä¸€æ®µæ—¶é—´ã€‚ä¸è¿‡JVMåƒåœ¾å›æ”¶æœºåˆ¶å¯ä»¥å›æ”¶è¿™äº›Classå¯¹è±¡</p><p>JVM è§„èŒƒå®šä¹‰äº†å¦‚ä¸‹ç±»çš„åŠ è½½å™¨ã€‚<br>å¼•å¯¼ç±»åŠ è½½å™¨ï¼šç”¨C++ç¼–å†™çš„ï¼Œæ˜¯JVMè‡ªå¸¦çš„ç±»åŠ è½½å™¨ï¼Œè´Ÿè´£Javaå¹³å°æ ¸å¿ƒåº“ï¼Œ<br><strong>ç”¨æ¥è£…è½½æ ¸å¿ƒç±»åº“</strong>ã€‚<strong>è¯¥åŠ è½½å™¨æ— æ³•ç›´æ¥è·å–</strong><br>æ‰©å±•ç±»åŠ è½½å™¨ï¼šè´Ÿè´£jre/lib/extç›®å½•ä¸‹çš„jaråŒ…æˆ– D java.ext.dirs æŒ‡å®šç›®å½•ä¸‹çš„jaråŒ…è£…å…¥å·¥ä½œåº“<br>ç³»ç»Ÿç±»åŠ è½½å™¨ï¼šè´Ÿè´£java â€“classpath æˆ– â€“D java.class.pathæ‰€æŒ‡çš„ç›®å½•ä¸‹çš„ç±»ä¸jaråŒ…è£…å…¥å·¥ä½œ ï¼Œæ˜¯æœ€å¸¸ç”¨çš„åŠ è½½å™¨</p><h3 id="ClassLoaderè·å–"><a href="#ClassLoaderè·å–" class="headerlink" title="ClassLoaderè·å–"></a>ClassLoaderè·å–</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java">&#x2F;&#x2F;1.è·å–ä¸€ä¸ªç³»ç»Ÿç±»åŠ è½½å™¨â€¢ ClassLoader classloader &#x3D; ClassLoader.getSystemClassLoader();â€¢ System.out.println(classloader);â€¢ &#x2F;&#x2F;2.è·å–ç³»ç»Ÿç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨ï¼Œå³æ‰©å±•ç±»åŠ è½½å™¨â€¢ classloader &#x3D; classloader.getParent();â€¢ System.out.println(classloader);â€¢ &#x2F;&#x2F;3.è·å–æ‰©å±•ç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨ï¼Œå³å¼•å¯¼ç±»åŠ è½½å™¨â€¢ classloader &#x3D; classloader.getParent();â€¢ System.out.println(classloader);  &#x2F;&#x2F;null æ²¡æœ‰åŠæ³•è·å–åˆ°â€¢ &#x2F;&#x2F;4.æµ‹è¯•å½“å‰ç±»ç”±å“ªä¸ªç±»åŠ è½½å™¨è¿›è¡ŒåŠ è½½â€¢ classloader &#x3D; Class.forName(&quot;exer2.ClassloaderDemo&quot;).getClassLoader();  â€¢ System.out.println(classloader);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…³äºç±»åŠ è½½å™¨çš„ä¸€ä¸ªä¸»è¦æ–¹æ³•ï¼š<br><code>getResourceAsStream(String str)</code>:<strong>è·å–ç±»è·¯å¾„ä¸‹çš„æŒ‡å®šæ–‡ä»¶çš„è¾“å…¥æµ</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">â€¢ InputStream in &#x3D; null;â€¢ in &#x3D; this.getClass().getClassLoader().getResourceAsStream(&quot;test.properties&quot;);â€¢ System.out.println(in);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="Class-forNameå’Œclassloader-loadClassçš„åŒºåˆ«"><a href="#Class-forNameå’Œclassloader-loadClassçš„åŒºåˆ«" class="headerlink" title="Class.forNameå’Œclassloader.loadClassçš„åŒºåˆ«"></a>Class.forNameå’Œclassloader.loadClassçš„åŒºåˆ«</h3><ol><li>åˆå§‹åŒ–ä¸åŒ:<ul><li>Class.forName()ä¼šå¯¹ç±»åˆå§‹åŒ–ï¼Œè€ŒloadClass()åªä¼šè£…è½½æˆ–é“¾æ¥ã€‚</li><li>foranmeåœ¨ç±»åŠ è½½çš„æ—¶å€™ä¼šæ‰§è¡Œé™æ€ä»£ç å—ï¼Œloadclassåªæœ‰åœ¨è°ƒç”¨newInstanceæ–¹æ³•çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œé™æ€ä»£ç å—</li></ul></li><li>ç±»åŠ è½½å™¨ä¸åŒ:<ul><li>Class.forName(String)æ–¹æ³•(åªæœ‰ä¸€ä¸ªå‚æ•°)ï¼Œå“ªä¸ªè°ƒç”¨äº†fornameå°±ç”¨é‚£ä¸ªç±»åŠ è½½å™¨</li><li>ClassLoader.loadClass()æ–¹æ³•æ˜¯ä¸€ä¸ªå®ä¾‹æ–¹æ³•ï¼Œè°ƒç”¨æ—¶éœ€è¦è‡ªå·±æŒ‡å®šç±»åŠ è½½å™¨</li></ul></li></ol><h2 id="åå°„ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜å‘¢ï¼Ÿ"><a href="#åå°„ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜å‘¢ï¼Ÿ" class="headerlink" title="åå°„ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜å‘¢ï¼Ÿ"></a>åå°„ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜å‘¢ï¼Ÿ</h2><h3>javaåå°„æ•ˆç‡ä½ä¸»è¦æ˜¯å› ä¸ºï¼š</h3><font color = "orange">Method invoke ä¼šå¯¹å‚æ•°åšå°è£…å’Œè§£å°çš„æ“ä½œ</font>å¯ä»¥çœ‹åˆ°ï¼Œ invokeæ–¹æ³•çš„å‚æ•°æ˜¯objectç±»å‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ã€‚å½“æˆ‘ä»¬ä¼ å…¥çš„å‚æ•°æ˜¯ç®€å•ç±»å‹çš„è¯ï¼Œéœ€è¦è½¬åŒ–ä¸ºobjectç±»å‹æ¯”å¦‚è¯´æˆ‘ä»¬ä¼ å…¥longç±»å‹çš„è¯  ï¼Œå°±éœ€è¦Long.valueOfè½¬å‹ï¼Œå°±ç”Ÿæˆäº†Lonçš„Object,åŒæ—¶ä¼ å…¥çš„æ˜¯OBjectæ•°ç»„çš„æ—¶å€™ï¼Œå°±è¦é¢å¤–çš„å°è£…objectæ•°ç»„<p><strong>åœ¨åå°„è°ƒç”¨çš„æ—¶å€™å› ä¸ºå°è£…å’Œè§£å°ï¼Œè¿™æ ·å°±äº§ç”Ÿäº†ä¸å¿…è¦çš„å†…å­˜çš„æµªè´¹<br>å½“è°ƒç”¨çš„ç³»æ•°è¾¾åˆ°ä¸€å®šå€¼çš„æ—¶å€™ï¼Œè¿˜ä¼šå¯¼è‡´GC</strong><br><font color = "orange">éœ€è¦æ£€æŸ¥æ–¹æ³•çš„å¯è§æ€§</font><br>æ¯æ¬¡è°ƒç”¨éƒ½ä¼šæ£€æŸ¥æ–¹æ³•çš„å¯è§æ€§<br><font color = "orange">éœ€è¦æ ¡éªŒå‚æ•°ï¼š</font><br>å¯¹å‚æ•°åšæ ¡éªŒï¼Œå°±æ¶‰åŠåˆ°äº†å‚æ•°çš„è§£å°çš„æ“ä½œ</p><p><font color = "orange">JITæ— æ³•ä¼˜åŒ–ï¼š</font><br>åå°„æ¶‰åŠåˆ°åŠ¨æ€åŠ è½½çš„ç±»å‹ï¼Œæ— æ³•å°±è¡ŒJITä¼˜åŒ–</p><h2 id="å¦‚ä½•é¿å…åå°„å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼Ÿ"><a href="#å¦‚ä½•é¿å…åå°„å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼Ÿ" class="headerlink" title="å¦‚ä½•é¿å…åå°„å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼Ÿ"></a>å¦‚ä½•é¿å…åå°„å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼Ÿ</h2><ol><li>m.setAccessible(true);<br>ç”±äºJDKçš„å®‰å…¨æ£€æŸ¥è€—æ—¶è¾ƒå¤š.æ‰€ä»¥é€šè¿‡setAccessible(true)çš„æ–¹å¼å…³é—­å®‰å…¨æ£€æŸ¥å°±å¯ä»¥è¾¾åˆ°æå‡åå°„é€Ÿåº¦çš„ç›®çš„</li></ol><ol start="2"><li>ç”¨ç¼“å­˜ï¼Œæ¯”å¦‚redis, è¿™ä¸ªæ–¹æ³•æé«˜æ•ˆç‡æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚<br>å°†åå°„å¾—åˆ°å…ƒæ•°æ®ä¿å­˜èµ·æ¥ï¼Œä½¿ç”¨æ—¶ï¼Œåªéœ€ä»å†…å­˜ä¸­è°ƒç”¨å³å¯</li><li>åˆ©ç”¨ä¸€äº›é«˜æ€§èƒ½çš„åå°„åº“ï¼Œå¦‚ReflectASM<br>ReflectASM <strong>ä½¿ç”¨å­—èŠ‚ç ç”Ÿæˆçš„æ–¹å¼å®ç°äº†æ›´ä¸ºé«˜æ•ˆçš„åå°„æœºåˆ¶</strong>ã€‚æ‰§è¡Œæ—¶ä¼šç”Ÿæˆä¸€ä¸ªå­˜å–ç±»æ¥ set/get å­—æ®µï¼Œè®¿é—®æ–¹æ³•æˆ–åˆ›å»ºå®ä¾‹ã€‚ä¸€çœ‹åˆ° ASM å°±èƒ½é¢†æ‚Ÿåˆ° ReflectASM ä¼šç”¨å­—èŠ‚ç ç”Ÿæˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä¾èµ–äº Java æœ¬èº«çš„åå°„æœºåˆ¶æ¥å®ç°çš„ï¼Œæ‰€ä»¥å®ƒæ›´å¿«ï¼Œ**å¹¶ä¸”é¿å…äº†è®¿é—®åŸå§‹ç±»å‹å› è‡ªåŠ¨è£…ç®±è€Œäº§ç”Ÿçš„é—®é¢˜</li></ol><p>**</p><h2 id="å“ªäº›ç±»ä¸èƒ½åå°„"><a href="#å“ªäº›ç±»ä¸èƒ½åå°„" class="headerlink" title="å“ªäº›ç±»ä¸èƒ½åå°„"></a>å“ªäº›ç±»ä¸èƒ½åå°„</h2><h3 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java">public enum  EnumSingleton &#123;    INSTANCE;    public EnumSingleton getInstance()&#123;        return INSTANCE;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¼–è¯‘</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public final class  EnumSingleton extends Enum&lt; EnumSingleton&gt; &#123;        public static final  EnumSingleton  ENUMSINGLETON;        public static  EnumSingleton[] values();        public static  EnumSingleton valueOf(String s);        static &#123;&#125;;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>åå°„åˆ›å»ºï¼Œæšä¸¾Enumæ˜¯ä¸ªæŠ½è±¡ç±»ï¼Œå…¶å®ä¸€æ—¦ä¸€ä¸ªç±»å£°æ˜ä¸ºæšä¸¾ï¼Œå®é™…ä¸Šå°±æ˜¯ç»§æ‰¿äº†Enumï¼Œ</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public abstract class Enum&lt;E extends Enum&lt;E&gt;&gt;            implements Comparable&lt;E&gt;, Serializable &#123;        private final String name;        public final String name() &#123;            return name;        &#125;        private final int ordinal;        public final int ordinal() &#123;            return ordinal;        &#125;        protected Enum(String name, int ordinal) &#123;            this.name &#x3D; name;            this.ordinal &#x3D; ordinal;        &#125;        &#x2F;&#x2F;ä½™ä¸‹çœç•¥<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä¼šå‘ç°å¹¶æ²¡æœ‰æˆ‘ä»¬æ‰€è®¾ç½®çš„æ— å‚æ„é€ å™¨</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">    public static void main(String[] args) throws IllegalAccessException, InvocationTargetException, InstantiationException, NoSuchMethodException &#123;        EnumSingleton singleton1&#x3D;EnumSingleton.INSTANCE;        EnumSingleton singleton2&#x3D;EnumSingleton.INSTANCE;        System.out.println(&quot;æ­£å¸¸æƒ…å†µä¸‹ï¼Œå®ä¾‹åŒ–ä¸¤ä¸ªå®ä¾‹æ˜¯å¦ç›¸åŒï¼š&quot;+(singleton1&#x3D;&#x3D;singleton2));        Constructor&lt;EnumSingleton&gt; constructor&#x3D; null;&#x2F;&#x2F;        constructor &#x3D; EnumSingleton.class.getDeclaredConstructor();        constructor &#x3D; EnumSingleton.class.getDeclaredConstructor(String.class,int.class);&#x2F;&#x2F;å…¶çˆ¶ç±»çš„æ„é€ å™¨        constructor.setAccessible(true);        EnumSingleton singleton3&#x3D; null;        &#x2F;&#x2F;singleton3 &#x3D; constructor.newInstance();        singleton3 &#x3D; constructor.newInstance(&quot;testInstance&quot;,66);        System.out.println(singleton1+&quot;\n&quot;+singleton2+&quot;\n&quot;+singleton3);        System.out.println(&quot;é€šè¿‡åå°„æ”»å‡»å•ä¾‹æ¨¡å¼æƒ…å†µä¸‹ï¼Œå®ä¾‹åŒ–ä¸¤ä¸ªå®ä¾‹æ˜¯å¦ç›¸åŒï¼š&quot;+(singleton1&#x3D;&#x3D;singleton3));    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç»“æœï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">æ­£å¸¸æƒ…å†µä¸‹ï¼Œå®ä¾‹åŒ–ä¸¤ä¸ªå®ä¾‹æ˜¯å¦ç›¸åŒï¼štrueException in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot reflectively create enum objects    at java.lang.reflect.Constructor.newInstance(Constructor.java:417)    at com.lxp.pattern.singleton.EnumSingleton.main(EnumSingleton.java:25)    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)    at java.lang.reflect.Method.invoke(Method.java:498)    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æˆ‘ä»¬çœ‹ä¸‹Constructorç±»çš„newInstanceæ–¹æ³•æºç ï¼š</strong></p><pre><code class="java">@CallerSensitive    public T newInstance(Object ... initargs)        throws InstantiationException, IllegalAccessException,               IllegalArgumentException, InvocationTargetException    &#123;        if (!override) &#123;            if (!Reflection.quickCheckMemberAccess(clazz, modifiers)) &#123;                Class&lt;?&gt; caller = Reflection.getCallerClass();                checkAccess(caller, clazz, null, modifiers);            &#125;        &#125;        if ((clazz.getModifiers() &amp; Modifier.ENUM) != 0)            throw new IllegalArgumentException(&quot;Cannot reflectively create enum objects&quot;);        ConstructorAccessor ca = constructorAccessor;   // read volatile        if (ca == null) &#123;            ca = acquireConstructorAccessor();        &#125;        @SuppressWarnings(&quot;unchecked&quot;)        T inst = (T) ca.newInstance(initargs);        return inst;    &#125;```**è¯´æ˜åå°„åœ¨é€šè¿‡newInstanceåˆ›å»ºå¯¹è±¡æ—¶ï¼Œä¼šæ£€æŸ¥è¯¥ç±»æ˜¯å¦ENUMä¿®é¥°ï¼Œå¦‚æœæ˜¯åˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œåå°„å¤±è´¥ã€‚**</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> javaåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ³›å‹</title>
      <link href="2020/11/28/%E6%B3%9B%E5%9E%8B/"/>
      <url>2020/11/28/%E6%B3%9B%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="30-æ³›å‹"><a href="#30-æ³›å‹" class="headerlink" title="30.æ³›å‹"></a>30.æ³›å‹</h1><h2 id="30-1ï¼šä»€ä¹ˆæ˜¯æ³›å‹"><a href="#30-1ï¼šä»€ä¹ˆæ˜¯æ³›å‹" class="headerlink" title="30-1ï¼šä»€ä¹ˆæ˜¯æ³›å‹"></a>30-1ï¼šä»€ä¹ˆæ˜¯æ³›å‹</h2><h2 id="æ³›å‹å¥½å¤„ï¼š"><a href="#æ³›å‹å¥½å¤„ï¼š" class="headerlink" title="æ³›å‹å¥½å¤„ï¼š"></a>æ³›å‹å¥½å¤„ï¼š</h2><p>ç¼–è¯‘å™¨æ£€æŸ¥ ï¼Œç±»å‹å®‰å…¨<br>å‡å°‘äº†æ•°æ®ç±»å‹è½¬æ¢<br>æ³›å‹å¯ä»¥æâ¾¼ä»£ç çš„å¤â½¤æ€§</p><h2 id="æ³›å‹çš„æœ¬è´¨å°±æ˜¯å‚æ•°åŒ–ç±»å‹ï¼Œä¹Ÿå°±æ˜¯æ‰€æ“ä½œçš„æ•°ç»„ç±»å‹è®¾è®¡ä¸ºä¸€ä¸ªå‚æ•°"><a href="#æ³›å‹çš„æœ¬è´¨å°±æ˜¯å‚æ•°åŒ–ç±»å‹ï¼Œä¹Ÿå°±æ˜¯æ‰€æ“ä½œçš„æ•°ç»„ç±»å‹è®¾è®¡ä¸ºä¸€ä¸ªå‚æ•°" class="headerlink" title="æ³›å‹çš„æœ¬è´¨å°±æ˜¯å‚æ•°åŒ–ç±»å‹ï¼Œä¹Ÿå°±æ˜¯æ‰€æ“ä½œçš„æ•°ç»„ç±»å‹è®¾è®¡ä¸ºä¸€ä¸ªå‚æ•°"></a>æ³›å‹çš„æœ¬è´¨å°±æ˜¯å‚æ•°åŒ–ç±»å‹ï¼Œä¹Ÿå°±æ˜¯æ‰€æ“ä½œçš„æ•°ç»„ç±»å‹è®¾è®¡ä¸ºä¸€ä¸ªå‚æ•°</h2><h2 id="æ³›å‹ç±»ï¼Œæ¥å£"><a href="#æ³›å‹ç±»ï¼Œæ¥å£" class="headerlink" title="æ³›å‹ç±»ï¼Œæ¥å£"></a>æ³›å‹ç±»ï¼Œæ¥å£</h2><p>class ç±»å&lt;æ³›å‹æ ‡è¯†ï¼Œæ³›å‹æ ‡è¯†&gt;{<br>  private æ³›å‹æ ‡è¯† å˜é‡å</p><p>}<br>å¸¸è§çš„æ³›å‹æ ‡è¯†ï¼š  T E K V<br>za<br>åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™<br>â€”-  æŒ‡å®šå…·ä½“çš„æ•°æ®ç±»å‹<br>â€”â€“  æ²¡æœ‰æŒ‡å®šç±»å‹  æŒ‰ç…§Objectæ¥å¤„ç†</p><p>æ³›å‹ç±»ä¸æ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹ï¼Œ<br>â€”-å› ä¸ºåœ¨ä½¿ç”¨æ³›å‹çš„æ—¶å€™ï¼ŒçœŸæ­£è¢«ç¼–è¯‘çš„æ—¶å€™ä¼šæŠŠTè½¬æ¢ä¸ºObjectï¼Œç„¶ååœ¨ä½¿ç”¨æˆå‘˜çš„æ—¶å€™åœ¨é€‚å½“çš„å®é™…è½¬æ¢ä¸ºTç±»å‹<br>                      int å¹¶ä¸æ˜¯ç»§æ‰¿è‡ªobjectï¼Œ<br>åŒä¸€ä¸ªæ³›å‹ç±»ï¼šæ ¹æ®ä¸åŒçš„æ•°æ®ç±»å‹åˆ›å»ºçš„å¯¹è±¡ï¼Œæœ¬è´¨ä¸Šæ˜¯ç»Ÿä¸€ç±»å‹ï¼Œ<br>List<Integer> listint List<String> liststr  .getClass()ç›¸åŒ</p><h2 id="æ³›å‹ç±»æ´¾ç”Ÿå­ç±»"><a href="#æ³›å‹ç±»æ´¾ç”Ÿå­ç±»" class="headerlink" title="æ³›å‹ç±»æ´¾ç”Ÿå­ç±»"></a>æ³›å‹ç±»æ´¾ç”Ÿå­ç±»</h2><p>å­ç±»æ˜¯æ³›å‹ç±»ï¼Œå­ç±»å’Œçˆ¶ç±»çš„æ³›å‹ç±»å‹è¦ä¸€è‡´ ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œæ‰©å±•</p><p>å­ç±»ä¸æ˜¯æ³›å‹ç±»çš„æ—¶å€™ï¼Œçˆ¶ç±»è¦æ˜ç¡®æ³›å‹çš„å…·ä½“ç±»å‹</p><h2 id="æ³›å‹æ–¹æ³•"><a href="#æ³›å‹æ–¹æ³•" class="headerlink" title="æ³›å‹æ–¹æ³•"></a>æ³›å‹æ–¹æ³•</h2><p>ä¿®é¥°ç¬¦ &lt;æ³›å‹æ ‡è¯†&gt;  è¿”å›å€¼ç±»å‹ æ–¹æ³•åï¼ˆå½¢å‚åˆ—è¡¨ï¼‰<br>&lt;æ³›å‹æ ‡è¯†&gt;è¡¨æ˜è¯¥æ–¹æ³•ä½¿ç”¨çš„æ³›å‹ç±»å‹ï¼Œï¼Œè¿™æ ·æ‰å¯ä»¥åœ¨æ–¹æ³•ä¸­ä½¿ç”¨æ³›å‹ç±»å‹<br>è°ƒç”¨æ–¹æ³•çš„æ—¶å€™æ‰èƒ½æ˜ç¡®å…·ä½“è¦ä½¿ç”¨çš„æ•°æ®ç±»å‹</p><p>æ³›å‹æ–¹æ³•æ”¯æŒstatic ä½†æ˜¯æ³›å‹ç±»å’Œæ¥å£ä¸æ”¯æŒ</p><p>æ³›å‹æ–¹æ³•èƒ½æ˜¯æ–¹æ³•ç‹¬ç«‹ä¸ç±»è€Œäº§ç”Ÿå˜åŒ–</p><h2 id="ç±»å‹é€šé…ç¬¦-ï¼Ÿ"><a href="#ç±»å‹é€šé…ç¬¦-ï¼Ÿ" class="headerlink" title="ç±»å‹é€šé…ç¬¦ ï¼Ÿ"></a>ç±»å‹é€šé…ç¬¦ ï¼Ÿ</h2><p>ä¸€èˆ¬æ˜¯ä»¥ï¼Ÿä»£æ›¿å…·ä½“çš„ç±»å‹å®å‚<br>æ‰€ä»¥ç±»å‹é€šé…ç¬¦æ˜¯ç±»å‹å®æƒ¨ è€Œä¸æ˜¯ç±»å‹çš„å½¢å‚</p><p> ä¸Šé™  ï¼Ÿ extends ç±»å‹  è¯¥æ³›å‹çš„ç±»å‹åªèƒ½æ˜¯å®æƒ¨ç±»å‹æˆ–è€…æ˜¯å®æƒ¨ç±»å‹çš„å­ç±»ç±»å‹<br> get èƒ½ç”¨ç±»å‹æ¥å—<br> add ä¸èƒ½æ·»åŠ  æ¯”å¦‚æ˜¯minicat ä½†æ˜¯å´addäº†catå°±ä¸è¡Œ</p><p>ä¸‹é™  ï¼Ÿ super ç±»å‹  è¯¥æ³›å‹çš„ç±»å‹åªèƒ½æ˜¯å®æƒ¨ç±»å‹æˆ–è€…æ˜¯å®æƒ¨ç±»å‹çš„çˆ¶ç±»ç±»å‹</p><h2 id="30-2ï¼šç¼–è¯‘å™¨å¦‚ä½•å¤„ç†æ³›å‹"><a href="#30-2ï¼šç¼–è¯‘å™¨å¦‚ä½•å¤„ç†æ³›å‹" class="headerlink" title="30-2ï¼šç¼–è¯‘å™¨å¦‚ä½•å¤„ç†æ³›å‹"></a>30-2ï¼šç¼–è¯‘å™¨å¦‚ä½•å¤„ç†æ³›å‹</h2><ol><li>Code specializationï¼šåœ¨å®ä¾‹åŒ–ä¸€ä¸ªæ³›å‹ç±»æˆ–æ³›å‹æ–¹æ³•æ—¶<pre><code>                 éƒ½äº§ç”Ÿä¸€ä»½æ–°çš„å­—èŠ‚ç oräºŒè¿›åˆ¶ä»£ç ã€‚</code></pre></li><li>Code sharingï¼šå¯¹æ¯ä¸ªæ³›å‹ç±»åªç”Ÿæˆå”¯ä¸€çš„ä¸€ä»½ç›®æ ‡ä»£ç ï¼›<pre><code>          è¯¥æ³›å‹ç±»çš„æ‰€æœ‰å®ä¾‹éƒ½æ˜ å°„åˆ°è¿™ä»½ç›®æ ‡ä»£ç ä¸Šï¼Œ          åœ¨éœ€è¦çš„æ—¶å€™æ‰§è¡Œç±»å‹æ£€æŸ¥å’Œç±»å‹è½¬æ¢ã€‚</code></pre></li></ol><h3 id="30-2-1ï¼šä¸ºä»€ä¹ˆJavaè¦ç”¨è¿™ç§ç¼–è¯‘å™¨"><a href="#30-2-1ï¼šä¸ºä»€ä¹ˆJavaè¦ç”¨è¿™ç§ç¼–è¯‘å™¨" class="headerlink" title="30-2-1ï¼šä¸ºä»€ä¹ˆJavaè¦ç”¨è¿™ç§ç¼–è¯‘å™¨"></a>30-2-1ï¼šä¸ºä»€ä¹ˆJavaè¦ç”¨è¿™ç§ç¼–è¯‘å™¨</h3><ol><li>C++å’ŒC#æ˜¯ä½¿ç”¨Code specializationçš„å¤„ç†æœºåˆ¶ï¼Œä»–æœ‰å‡ ä¸ªç¼ºç‚¹:<ul><li>å¯¼è‡´ä»£ç è†¨èƒ€ã€‚</li><li>åœ¨å¼•ç”¨ç±»å‹ç³»ç»Ÿä¸­ï¼Œæµªè´¹ç©ºé—´</li></ul></li><li>Javaç¼–è¯‘å™¨é€šè¿‡Code sharingæ–¹å¼ä¸ºæ¯ä¸ªæ³›å‹ç±»å‹åˆ›å»ºå”¯ä¸€çš„å­—èŠ‚ç è¡¨ç¤ºï¼Œ<br>å¹¶ä¸”å°†è¯¥æ³›å‹ç±»å‹çš„å®ä¾‹éƒ½æ˜ å°„åˆ°è¿™ä¸ªå”¯ä¸€çš„å­—èŠ‚ç è¡¨ç¤ºä¸Šã€‚<br>å°†å¤šç§æ³›å‹ç±»å½¢å®ä¾‹æ˜ å°„åˆ°å”¯ä¸€çš„å­—èŠ‚ç è¡¨ç¤ºæ˜¯é€šè¿‡ç±»å‹æ“¦é™¤ï¼ˆtype erasueï¼‰å®ç°çš„ã€‚</li></ol><h2 id="30-3-ä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤"><a href="#30-3-ä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤" class="headerlink" title="30-3: ä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤"></a>30-3: ä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤</h2><p>æ³›å‹æ˜¯jdk1.5æ‰å¼•è¿›çš„æ¦‚å¿µï¼Œåœ¨è¿™ä¹‹å‰æ˜¯æ²¡æœ‰æ³›å‹çš„ï¼Œ<br>ä½†æ˜¯æ³›å‹çš„ä»£ç èƒ½å¤Ÿå¾ˆå¥½åœ°å’Œä¹‹å‰ç‰ˆæœ¬çš„ç‰ˆæœ¬å…¼å®¹ã€‚<br>**é‚£æ˜¯å› ä¸ºï¼Œæ³›å‹çš„ä¿¡æ¯åªå­˜åœ¨ä¸ä»£ç çš„ç¼–è¯‘é˜¶æ®µï¼Œåœ¨è¿›å…¥åˆ°JVMä¹‹å‰ï¼Œä¸æ³›å‹ç›¸å…³çš„ä¿¡æ¯å›è¢«æ“¦é™¤æ‰ï¼Œæˆ‘ä»¬å°±ç§°ä¹‹ä¸ºæ˜¯æ³›å‹æ“¦é™¤<br>**</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        ArrayList<span class="token operator">&lt;</span>Integer<span class="token operator">></span> listInt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ArrayList<span class="token operator">&lt;</span>String<span class="token operator">></span> listStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listInt<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>listStr<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//true</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><h3 id="æ— é™åˆ¶ç±»å‹æ“¦é™¤"><a href="#æ— é™åˆ¶ç±»å‹æ“¦é™¤" class="headerlink" title="æ— é™åˆ¶ç±»å‹æ“¦é™¤"></a>æ— é™åˆ¶ç±»å‹æ“¦é™¤<T></h3><pre><code>    Tåœ¨ç”Ÿæˆå­—èŠ‚ç æ–‡ä»¶çš„è¿‡ç¨‹ä¸­ç”¨Objectä»£æ›¿äº†</code></pre><h3 id="æœ‰é™åˆ¶ç±»å‹æ“¦é™¤"><a href="#æœ‰é™åˆ¶ç±»å‹æ“¦é™¤" class="headerlink" title="æœ‰é™åˆ¶ç±»å‹æ“¦é™¤"></a>æœ‰é™åˆ¶ç±»å‹æ“¦é™¤<T extends Number></h3><pre><code>    Tç”¨Numberä»£æ›¿</code></pre><h3 id="æ¡¥æ¥æ–¹æ³•"><a href="#æ¡¥æ¥æ–¹æ³•" class="headerlink" title="æ¡¥æ¥æ–¹æ³•"></a>æ¡¥æ¥æ–¹æ³•</h3><h2 id="30-3-1ï¼šç±»å‹æ“¦é™¤è¿‡ç¨‹"><a href="#30-3-1ï¼šç±»å‹æ“¦é™¤è¿‡ç¨‹" class="headerlink" title="30-3-1ï¼šç±»å‹æ“¦é™¤è¿‡ç¨‹"></a>30-3-1ï¼šç±»å‹æ“¦é™¤è¿‡ç¨‹</h2><ol><li>å°†æ‰€æœ‰çš„æ³›å‹å‚æ•°ç”¨æœ€é¡¶çº§çš„çˆ¶ç±»å‹è¿›è¡Œæ›¿æ¢ã€‚ </li><li>ç§»é™¤æ‰€æœ‰çš„ç±»å‹å‚æ•°</li></ol><p>Javaçš„æ³›å‹åŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨ç¼–è¯‘å™¨è¿™ä¸ªå±‚æ¬¡ä¸Šå®ç°çš„ï¼Œ<br>åœ¨ç”Ÿæˆçš„å­—èŠ‚ç ä¸­æ˜¯ä¸åŒ…å«æ³›å‹ä¸­çš„ç±»å‹ä¿¡æ¯çš„ï¼Œ<br>ä½¿ç”¨æ³›å‹çš„æ—¶å€™åŠ ä¸Šç±»å‹å‚æ•°ï¼Œ<br>åœ¨ç¼–è¯‘å™¨ç¼–è¯‘çš„æ—¶å€™ä¼šå»æ‰ï¼Œ<br>è¿™ä¸ªè¿‡ç¨‹æˆä¸ºç±»å‹æ“¦é™¤ã€‚</p><h2 id="30-4ï¼šæ³›å‹å¸¦æ¥çš„é—®é¢˜"><a href="#30-4ï¼šæ³›å‹å¸¦æ¥çš„é—®é¢˜" class="headerlink" title="30-4ï¼šæ³›å‹å¸¦æ¥çš„é—®é¢˜"></a>30-4ï¼šæ³›å‹å¸¦æ¥çš„é—®é¢˜</h2><ol><li>è™šæ‹Ÿæœºä¸­æ²¡æœ‰æ³›å‹ï¼Œåªæœ‰æ™®é€šç±»å’Œæ™®é€šæ–¹æ³•,<br>æ‰€æœ‰æ³›å‹ç±»çš„ç±»å‹å‚æ•°åœ¨ç¼–è¯‘æ—¶éƒ½ä¼šè¢«æ“¦é™¤,<br>æ³›å‹ç±»å¹¶æ²¡æœ‰è‡ªå·±ç‹¬æœ‰çš„Classç±»å¯¹è±¡ã€‚<br>æ¯”å¦‚å¹¶ä¸å­˜åœ¨List<String>.classæˆ–æ˜¯List<Integer>.classï¼Œè€Œåªæœ‰List.classã€‚ </li><li>åˆ›å»ºæ³›å‹å¯¹è±¡æ—¶éœ€è¦æŒ‡æ˜ç±»å‹ï¼Œè®©ç¼–è¯‘å™¨å°½æ—©çš„åšå‚æ•°æ£€æŸ¥</li><li>ä¸è¦å¿½ç•¥ç¼–è¯‘å™¨çš„è­¦å‘Šä¿¡æ¯ï¼Œé‚£æ„å‘³ç€æ½œåœ¨çš„ClassCastExceptionç­‰ç€ä½ ã€‚ </li><li>é™æ€å˜é‡æ˜¯è¢«æ³›å‹ç±»çš„æ‰€æœ‰å®ä¾‹æ‰€å…±äº«çš„ã€‚ </li><li>æ³›å‹çš„ç±»å‹å‚æ•°ä¸èƒ½ç”¨åœ¨Javaå¼‚å¸¸å¤„ç†çš„catchè¯­å¥ä¸­ã€‚</li></ol><h2 id="30-5ï¼šæ³›å‹åº”ç”¨"><a href="#30-5ï¼šæ³›å‹åº”ç”¨" class="headerlink" title="30-5ï¼šæ³›å‹åº”ç”¨"></a>30-5ï¼šæ³›å‹åº”ç”¨</h2><h3 id="30-5-1ï¼šListæ³›å‹å’ŒåŸå§‹ç±»å‹Listä¹‹é—´çš„åŒºåˆ«"><a href="#30-5-1ï¼šListæ³›å‹å’ŒåŸå§‹ç±»å‹Listä¹‹é—´çš„åŒºåˆ«" class="headerlink" title="30-5-1ï¼šListæ³›å‹å’ŒåŸå§‹ç±»å‹Listä¹‹é—´çš„åŒºåˆ«?"></a>30-5-1ï¼šListæ³›å‹å’ŒåŸå§‹ç±»å‹Listä¹‹é—´çš„åŒºåˆ«?</h3><p> List<Object>å’ŒåŸå§‹ç±»å‹Listä¹‹é—´çš„åŒºåˆ«?</p><ol><li>åœ¨ç¼–è¯‘æ—¶ç¼–è¯‘å™¨ä¸ä¼šå¯¹åŸå§‹ç±»å‹è¿›è¡Œç±»å‹å®‰å…¨æ£€æŸ¥ï¼Œä¼šå¯¹å¸¦å‚æ•°çš„ç±»è¿›è¡Œæ£€æŸ¥</li><li>ä½ å¯ä»¥æŠŠä»»ä½•å¸¦å‚æ•°çš„ç±»å‹ä¼ é€’ç»™åŸå§‹ç±»å‹Listï¼Œä½†æ˜¯listä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯</li></ol><h3 id="30-5-2ï¼šListæ³›å‹å’ŒåŸå§‹ç±»å‹Listæ³›å‹ä¹‹é—´çš„åŒºåˆ«"><a href="#30-5-2ï¼šListæ³›å‹å’ŒåŸå§‹ç±»å‹Listæ³›å‹ä¹‹é—´çš„åŒºåˆ«" class="headerlink" title="30-5-2ï¼šListæ³›å‹å’ŒåŸå§‹ç±»å‹Listæ³›å‹ä¹‹é—´çš„åŒºåˆ«?"></a>30-5-2ï¼šListæ³›å‹å’ŒåŸå§‹ç±»å‹Listæ³›å‹ä¹‹é—´çš„åŒºåˆ«?</h3><p>List&lt;?&gt;å’ŒåŸå§‹ç±»å‹List<Object>ä¹‹é—´çš„åŒºåˆ«?</p><p>List<?>æ˜¯ä¸€ä¸ªæœªçŸ¥ç±»å‹çš„Listï¼Œè€ŒList<Object> å…¶å®æ˜¯ä»»æ„ç±»å‹çš„Listã€‚ä½ å¯ä»¥æŠŠList<String>, List<Integer>èµ‹å€¼ç»™List<?>ï¼Œå´ä¸èƒ½æŠŠList<String>èµ‹å€¼ç»™ List<Object>ã€‚</p><h3 id="30-5-3-å­ç±»ç»§æ‰¿çˆ¶ç±»çš„publicå¯ä»¥å†™æˆprivateå—"><a href="#30-5-3-å­ç±»ç»§æ‰¿çˆ¶ç±»çš„publicå¯ä»¥å†™æˆprivateå—" class="headerlink" title="30-5-3:å­ç±»ç»§æ‰¿çˆ¶ç±»çš„publicå¯ä»¥å†™æˆprivateå—"></a>30-5-3:å­ç±»ç»§æ‰¿çˆ¶ç±»çš„publicå¯ä»¥å†™æˆprivateå—</h3><p>å¯ä»¥å†™ï¼Œä½†æ˜¯å˜ä¸ºprivateä¹‹åï¼Œéœ€è¦å¯¹æ–¹æ³•é‡å†™å†™get/setæ–¹æ³•</p><h3 id="30-5-4ï¼šå¤šæ€æ—¶æ˜¯å¦ä¼šå‡ºç°ç±»å‹æ“¦é™¤"><a href="#30-5-4ï¼šå¤šæ€æ—¶æ˜¯å¦ä¼šå‡ºç°ç±»å‹æ“¦é™¤" class="headerlink" title="30-5-4ï¼šå¤šæ€æ—¶æ˜¯å¦ä¼šå‡ºç°ç±»å‹æ“¦é™¤"></a>30-5-4ï¼šå¤šæ€æ—¶æ˜¯å¦ä¼šå‡ºç°ç±»å‹æ“¦é™¤</h3><p>ä¼šå‡ºç°ç±»å‹æ“¦é™¤<br>ç¼–è¯‘å™¨åœ¨ç¼–è¯‘ä¸€ä¸ªç»§æ‰¿è‡ªæ³›å‹ç±»çš„å­ç±»æ—¶ï¼Œ<br>ä¸ºäº†æ–¹æ³•è¦†ç›–çš„ç­¾ååŒ¹é…ï¼Œä¿ç•™æ³›å‹ç±»å‹çš„å¤šæ€æ€§ï¼Œä¼šç”Ÿæˆä¸€ä¸ªæ¡¥æ¥æ–¹æ³•</p>]]></content>
      
      
      
        <tags>
            
            <tag> javaåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ³¨è§£</title>
      <link href="2020/11/28/%E6%B3%A8%E8%A7%A3/"/>
      <url>2020/11/28/%E6%B3%A8%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<font color = gold ><p>éƒ½è¯´æ¡†æ¶=åå°„+æ³¨è§£+è®¾è®¡æ¨¡å¼<br>é‚£ä¹ˆæ¥ç€å°±æ¥æ€»ç»“ä¸€ä¸‹å…³äºæ³¨è§£çš„çŸ¥è¯†æŠŠï½ï½</p></font><h1 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h1><h1 id="1"><a href="#1" class="headerlink" title="1"></a>1</h1><h2 id="å…ƒæ³¨è§£ä»¥åŠåˆ†ç±»"><a href="#å…ƒæ³¨è§£ä»¥åŠåˆ†ç±»" class="headerlink" title="å…ƒæ³¨è§£ä»¥åŠåˆ†ç±»"></a>å…ƒæ³¨è§£ä»¥åŠåˆ†ç±»</h2><p>å®šä¹‰å…¶ä»–æ³¨è§£çš„æ³¨è§£ ï¼Œå…±å››ä¸ª</p><ol><li>@Targetï¼ˆè¡¨ç¤ºè¯¥æ³¨è§£å¯ä»¥ç”¨äºä»€ä¹ˆåœ°æ–¹ï¼‰</li><li>@Retentionï¼ˆè¡¨ç¤ºå†ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨è§£ä¿¡æ¯ï¼‰</li><li>@Documentedï¼ˆå°†æ­¤æ³¨è§£åŒ…å«å†javadocä¸­ï¼‰</li><li>@Inheritedï¼ˆå…è®¸å­ç±»ç»§æ‰¿çˆ¶ç±»ä¸­çš„æ³¨è§£ï¼‰</li></ol><h2 id="Javaå¸¸ç”¨æ³¨è§£"><a href="#Javaå¸¸ç”¨æ³¨è§£" class="headerlink" title="Javaå¸¸ç”¨æ³¨è§£"></a>Javaå¸¸ç”¨æ³¨è§£</h2><ol><li>@Override è¡¨ç¤ºå½“å‰æ–¹æ³•è¦†ç›–äº†çˆ¶ç±»çš„æ–¹æ³•</li><li>@Deprecation è¡¨ç¤ºæ–¹æ³•å·²ç»è¿‡æ—¶,æ–¹æ³•ä¸Šæœ‰æ¨ªçº¿ï¼Œä½¿ç”¨æ—¶ä¼šæœ‰è­¦å‘Šã€‚</li><li>@SuppressWarnings è¡¨ç¤ºå…³é—­ä¸€äº›è­¦å‘Šä¿¡æ¯(é€šçŸ¥javaç¼–è¯‘å™¨å¿½ç•¥ç‰¹å®šçš„ç¼–è¯‘è­¦å‘Š)</li><li>SafeVarargs (jdk1.7æ›´æ–°) è¡¨ç¤ºï¼šä¸“é—¨ä¸ºæŠ‘åˆ¶â€œå †æ±¡æŸ“â€è­¦å‘Šæä¾›çš„ã€‚</li><li>@FunctionalInterface (jdk1.8æ›´æ–°) è¡¨ç¤ºï¼šç”¨æ¥æŒ‡å®šæŸä¸ªæ¥å£å¿…é¡»æ˜¯å‡½æ•°å¼æ¥å£ï¼Œå¦åˆ™å°±ä¼šç¼–è¯‘å‡ºé”™ã€‚</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> javaåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•åˆ›å»ºçº¿ç¨‹ï¼Ÿå‡ ç§æ–¹å¼ï¼Ÿ</title>
      <link href="2020/11/28/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E6%80%8E%E4%B9%88%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%EF%BC%9F/"/>
      <url>2020/11/28/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E6%80%8E%E4%B9%88%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%EF%BC%9F/</url>
      
        <content type="html"><![CDATA[<h2 id="æ€ä¹ˆåˆ›å»ºçº¿ç¨‹"><a href="#æ€ä¹ˆåˆ›å»ºçº¿ç¨‹" class="headerlink" title="æ€ä¹ˆåˆ›å»ºçº¿ç¨‹"></a>æ€ä¹ˆåˆ›å»ºçº¿ç¨‹</h2><p><strong>JDK1.5ä¹‹å‰</strong>åˆ›å»ºæ–°æ‰§è¡Œçº¿ç¨‹æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p><h3 id="ç»§æ‰¿Threadç±»çš„æ–¹å¼"><a href="#ç»§æ‰¿Threadç±»çš„æ–¹å¼" class="headerlink" title="ç»§æ‰¿Threadç±»çš„æ–¹å¼"></a>ç»§æ‰¿Threadç±»çš„æ–¹å¼</h3><p><strong>æ–¹å¼ä¸€ï¼šç»§æ‰¿Threadç±»</strong></p><ol><li><p>å®šä¹‰å­ç±»ç»§æ‰¿Threadç±»ã€‚</p></li><li><p>å­ç±»ä¸­é‡å†™Threadç±»ä¸­çš„runæ–¹æ³•ã€‚</p></li><li><p>åˆ›å»ºThreadå­ç±»å¯¹è±¡ï¼Œå³åˆ›å»ºäº†çº¿ç¨‹å¯¹è±¡ã€‚</p></li><li><p>è°ƒç”¨çº¿ç¨‹å¯¹è±¡startæ–¹æ³•</p></li></ol><h3 id="å®ç°Runnableæ¥å£çš„æ–¹å¼"><a href="#å®ç°Runnableæ¥å£çš„æ–¹å¼" class="headerlink" title="å®ç°Runnableæ¥å£çš„æ–¹å¼"></a>å®ç°Runnableæ¥å£çš„æ–¹å¼</h3><p>æ–¹å¼äºŒï¼šå®ç°Runnableæ¥å£</p><ol><li><p>å®šä¹‰å­ç±»ï¼Œå®ç°Runnableæ¥å£ã€‚</p></li><li><p>å­ç±»ä¸­é‡å†™Runnableæ¥å£ä¸­çš„runæ–¹æ³•ã€‚</p></li><li><p>é€šè¿‡Threadç±»å«å‚æ„é€ å™¨åˆ›å»ºçº¿ç¨‹å¯¹è±¡ã€‚</p></li><li><p>å°†Runnableæ¥å£çš„å­ç±»å¯¹è±¡ä½œä¸ºå®é™…å‚æ•°ä¼ é€’ç»™Threadç±»çš„æ„é€ å™¨ä¸­ã€‚</p></li><li><p>è°ƒç”¨Threadç±»çš„startæ–¹æ³•ï¼šå¼€å¯çº¿ç¨‹ï¼Œè°ƒç”¨Runnableå­ç±»æ¥å£çš„runæ–¹æ³•ã€‚</p></li></ol><p>public class Thread extends Object implements Runnable<br>éƒ½éœ€è¦é‡å†™runæ–¹æ³•ï¼Œ</p><h2 id="å®ç°æ–¹å¼çš„å¥½å¤„"><a href="#å®ç°æ–¹å¼çš„å¥½å¤„" class="headerlink" title="å®ç°æ–¹å¼çš„å¥½å¤„"></a><code>å®ç°æ–¹å¼çš„å¥½å¤„</code></h2><ol><li>é¿å…äº†å•ç»§æ‰¿çš„å±€é™æ€§s extends Threadå°±ä¸èƒ½ç»§æ‰¿å…¶ä»–çš„çˆ¶ç±»äº†</li><li><code>å¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«åŒä¸€ä¸ªæ¥å£å®ç°ç±»çš„å¯¹è±¡</code>ï¼Œéå¸¸é€‚åˆå¤šä¸ªç›¸åŒçº¿ç¨‹æ¥å¤„ç†åŒä¸€ä»½èµ„æºã€‚ </li><li><code>ä»¥ç»§æ‰¿çš„æ–¹å¼çš„å…±äº«æ•°æ®çš„è¯å°±éœ€è¦å†™static</code></li></ol><h3 id="å®ç°Callableæ¥å£"><a href="#å®ç°Callableæ¥å£" class="headerlink" title="å®ç°Callableæ¥å£"></a>å®ç°Callableæ¥å£</h3><p>ä¸ä½¿ç”¨Runnableç›¸æ¯”ï¼Œ CallableåŠŸèƒ½æ›´å¼ºå¤§äº›</p><p><strong>run()æ–¹æ³•ï¼Œ<br>å¯ä»¥æœ‰è¿”å›å€¼<br>æ–¹æ³•å¯ä»¥æŠ›å‡ºå¼‚å¸¸<br>æ”¯æŒæ³›å‹çš„è¿”å›å€¼</strong><br>éœ€è¦å€ŸåŠ©FutureTaskç±»ï¼Œæ¯”å¦‚è·å–è¿”å›ç»“æœ<br>FutureTask åŒæ—¶å®ç°äº†Runnable, Futureæ¥å£ã€‚å®ƒæ—¢å¯ä»¥ä½œä¸º Runnableè¢«çº¿ç¨‹æ‰§è¡Œï¼Œåˆå¯ä»¥ä½œä¸ºFutureå¾—åˆ°Callableçš„è¿”å›å€¼</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">FutureTask&lt;Integer&gt; futureTask &#x3D; new FutureTask&lt;Integer&gt;(new MyThread03());        new Thread(futureTask).start();        try &#123;            Integer value &#x3D; futureTask.get();&#x2F;&#x2F;            System.out.println(value);        &#125; catch (InterruptedException e) &#123;            e.printStackTrace();        &#125; catch (ExecutionException e) &#123;            e.printStackTrace();        &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä½¿ç”¨çº¿ç¨‹æ± "><a href="#ä½¿ç”¨çº¿ç¨‹æ± " class="headerlink" title="ä½¿ç”¨çº¿ç¨‹æ± "></a>ä½¿ç”¨çº¿ç¨‹æ± </h3><p>æ¯”å¦‚å¹¶å‘æƒ…å†µä¸‹è¯·æ±‚æ ‘å¤šï¼Œä¸”æ¯ä¸ªçº¿ç¨‹çš„æ‰§è¡Œæ—¶é—´ç«¯çš„æƒ…å†µä¸‹ï¼Œç»å¸¸åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ å¯¹æ€§èƒ½å½±å“å¾ˆå¤§ã€‚<br>æ€è·¯ï¼šæå‰åˆ›å»ºå¥½å¤šä¸ªçº¿ç¨‹ï¼Œæ”¾å…¥çº¿ç¨‹æ± ä¸­ï¼Œä½¿ç”¨æ—¶ç›´æ¥è·å–ï¼Œä½¿ç”¨å®Œ æ”¾å›æ± ä¸­ã€‚å¯ä»¥é¿å…é¢‘ç¹åˆ›å»ºé”€æ¯ã€å®ç°é‡å¤åˆ©ç”¨ã€‚<br>å¥½å¤„ï¼š</p><p>æé«˜å“åº”é€Ÿåº¦ï¼ˆå‡å°‘äº†åˆ›å»ºæ–°çº¿ç¨‹çš„æ—¶é—´ï¼‰<br>é™ä½èµ„æºæ¶ˆè€—ï¼ˆé‡å¤åˆ©ç”¨çº¿ç¨‹æ± ä¸­çº¿ç¨‹ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½åˆ›å»ºï¼‰<br>ä¾¿äºçº¿ç¨‹ç®¡ç†<br>ïƒ¼ corePoolSizeï¼šæ ¸å¿ƒæ± çš„å¤§å°<br>ïƒ¼ maximumPoolSizeï¼šæœ€å¤§çº¿ç¨‹æ•°<br>ïƒ¼ keepAliveTimeï¼šçº¿ç¨‹æ²¡æœ‰ä»»åŠ¡æ—¶æœ€å¤šä¿æŒå¤šé•¿æ—¶é—´åä¼šç»ˆæ­¢</p><p>JDK 5.0èµ·æä¾›äº†çº¿ç¨‹æ± ç›¸å…³APIï¼š<br>ExecutorService å’Œ Executors<br>ExecutorServiceï¼šçœŸæ­£çš„çº¿ç¨‹æ± æ¥å£ã€‚å¸¸è§å­ç±»ThreadPoolExecutor</p><p><code>void execute(Runnable command)</code> ï¼šæ‰§è¡Œä»»åŠ¡/å‘½ä»¤ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬ç”¨æ¥æ‰§è¡Œ Runnable<br><code>&lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task)</code>ï¼šæ‰§è¡Œä»»åŠ¡ï¼Œæœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬åˆæ¥æ‰§è¡Œ Callable<br><code>void shutdown() ï¼šå…³é—­è¿æ¥æ± </code></p><p>Executorsï¼šå·¥å…·ç±»ã€çº¿ç¨‹æ± çš„å·¥å‚ç±»ï¼Œç”¨äºåˆ›å»ºå¹¶è¿”å›ä¸åŒç±»å‹çš„çº¿ç¨‹æ± </p><p><code>Executors.newCachedThreadPool()</code>ï¼šåˆ›å»ºä¸€ä¸ªå¯æ ¹æ®éœ€è¦åˆ›å»ºæ–°çº¿ç¨‹çš„çº¿ç¨‹æ± <br><code>Executors.newFixedThreadPool(n)</code>; åˆ›å»ºä¸€ä¸ªå¯é‡ç”¨å›ºå®šçº¿ç¨‹æ•°çš„çº¿ç¨‹æ± <br><code>Executors.newSingleThreadExecutor()</code> ï¼šåˆ›å»ºä¸€ä¸ªåªæœ‰ä¸€ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± <br><code>Executors.newScheduledThreadPool(n)</code>ï¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œå®ƒå¯å®‰æ’åœ¨ç»™å®šå»¶è¿Ÿåè¿ è¡Œå‘½ä»¤æˆ–è€…å®šæœŸåœ°æ‰§è¡Œã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">import java.util.concurrent.ExecutorService;import java.util.concurrent.Executors;&#x2F;&#x2F;åˆ›å»ºå¹¶ä½¿ç”¨å¤šçº¿ç¨‹çš„ç¬¬å››ç§æ–¹æ³•ï¼šä½¿ç”¨çº¿ç¨‹æ± class MyThread implements Runnable &#123;@Overridepublic void run() &#123;for (int i &#x3D; 1; i &lt;&#x3D; 100; i++) &#123;System.out.println(Thread.currentThread().getName() + &quot;:&quot; + i);&#125;&#125;&#125;public class ThreadPool &#123;public static void main(String[] args) &#123;&#x2F;&#x2F; 1.è°ƒç”¨Executorsçš„newFixedThreadPool(),è¿”å›æŒ‡å®šçº¿ç¨‹æ•°é‡çš„ExecutorServiceExecutorService pool &#x3D; Executors.newFixedThreadPool(10);&#x2F;&#x2F; 2.å°†Runnableå®ç°ç±»çš„å¯¹è±¡ä½œä¸ºå½¢å‚ä¼ é€’ç»™ExecutorServiceçš„submit()æ–¹æ³•ä¸­ï¼Œå¼€å¯çº¿ç¨‹&#x2F;&#x2F; å¹¶æ‰§è¡Œç›¸å…³çš„run()pool.execute(new MyThread());pool.execute(new MyThread());pool.execute(new MyThread());&#x2F;&#x2F; 3.ç»“æŸçº¿ç¨‹çš„ä½¿ç”¨pool.shutdown();&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="çº¿ç¨‹çš„é€šä¿¡"><a href="#çº¿ç¨‹çš„é€šä¿¡" class="headerlink" title="çº¿ç¨‹çš„é€šä¿¡"></a>çº¿ç¨‹çš„é€šä¿¡</h2><h3 id="ä½¿ç”¨ä¸¤ä¸ªçº¿ç¨‹æ‰“å°-1-100ã€‚çº¿ç¨‹1-çº¿ç¨‹2-äº¤æ›¿æ‰“å°"><a href="#ä½¿ç”¨ä¸¤ä¸ªçº¿ç¨‹æ‰“å°-1-100ã€‚çº¿ç¨‹1-çº¿ç¨‹2-äº¤æ›¿æ‰“å°" class="headerlink" title="ä½¿ç”¨ä¸¤ä¸ªçº¿ç¨‹æ‰“å° 1-100ã€‚çº¿ç¨‹1, çº¿ç¨‹2 äº¤æ›¿æ‰“å°"></a>ä½¿ç”¨ä¸¤ä¸ªçº¿ç¨‹æ‰“å° 1-100ã€‚çº¿ç¨‹1, çº¿ç¨‹2 äº¤æ›¿æ‰“å°</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java">package com.atguigu;public class ThreadCommunication&#123;    public static void main(String[] args) &#123;        PrintNumber printNumber &#x3D; new PrintNumber();        Thread thread &#x3D; new Thread(printNumber, &quot;åˆ†çº¿ç¨‹1&quot;);        Thread thread1 &#x3D; new Thread(printNumber, &quot;åˆ†çº¿ç¨‹11&quot;);        thread.start();        thread1.start();    &#125;&#125;class PrintNumber implements Runnable&#123;    int number &#x3D; 1;    @Override    public void run() &#123;        while(true)&#123;            synchronized (this)&#123;                notify();                if (number&lt;&#x3D;100)&#123;                    System.out.println(Thread.currentThread().getName()+&quot;:&quot;+number);                    number++;                &#125;else &#123;                    break;                &#125;                try &#123;                    wait();                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;            &#125;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="wait-ä¸-notify-å’Œ-notifyAll"><a href="#wait-ä¸-notify-å’Œ-notifyAll" class="headerlink" title="wait() ä¸ notify() å’Œ notifyAll()"></a>wait() ä¸ notify() å’Œ notifyAll()</h3><p>wait()ï¼šä»¤å½“å‰çº¿ç¨‹é˜»å¡ï¼Œå¹¶é‡Šæ”¾é”ï¼Œä½¿åˆ«çš„çº¿ç¨‹å¯è®¿é—®å¹¶ä¿®æ”¹å…±äº«èµ„æºï¼Œè€Œå½“å‰çº¿ç¨‹æ’é˜Ÿç­‰å€™å…¶ä»–çº¿ç¨‹è°ƒç”¨notify()æˆ–notifyAll()æ–¹æ³•å”¤é†’ï¼Œå”¤é†’åç­‰å¾…é‡æ–°è·å¾—å¯¹ç›‘è§†å™¨çš„æ‰€æœ‰æƒåæ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚</p><p>notify()ï¼šå”¤é†’è¢«waitçš„ä¸€ä¸ªçº¿ç¨‹ï¼Œ å¦‚æœè¯´æœ‰å¤šä¸ªçº¿ç¨‹è¢«é˜»å¡çš„è¯ã€‚å°±å”¤é†’ä¼˜å…ˆçº§æœ€é«˜çš„é‚£ä¸ª<br>notifyAll ()ï¼šå”¤é†’æ‰€æœ‰waitçº¿ç¨‹</p><p><code>è¿™ä¸‰ä¸ªæ–¹æ³•åªæœ‰åœ¨synchronizedæ–¹æ³•æˆ–synchronizedä»£ç å—ä¸­æ‰èƒ½ä½¿ç”¨</code>ï¼Œ</p><p><code>è¿™ä¸‰ä¸ªæ–¹æ³•çš„è°ƒç”¨è€…å¿…é¡»æ˜¯åŒæ­¥ç›‘è§†å™¨</code>ï¼Œå¦åˆ™ä¼šæŠ¥ java.lang.`IllegalMonitorStateExceptionå¼‚å¸¸ã€‚</p><h3 id="ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜"><a href="#ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜" class="headerlink" title="ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜"></a>ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜</h3><p>ç”Ÿäº§è€…(Productor)å°†äº§å“äº¤ç»™åº—å‘˜(Clerk)ï¼Œè€Œæ¶ˆè´¹è€…(Customer)ä»åº—å‘˜å¤„ å–èµ°äº§å“ï¼Œåº—å‘˜ä¸€æ¬¡åªèƒ½æŒæœ‰å›ºå®šæ•°é‡çš„äº§å“(æ¯”å¦‚:20ï¼‰ï¼Œå¦‚æœç”Ÿäº§è€…è¯•å›¾ ç”Ÿäº§æ›´å¤šçš„äº§å“ï¼Œåº—å‘˜ä¼šå«ç”Ÿäº§è€…åœä¸€ä¸‹ï¼Œå¦‚æœåº—ä¸­æœ‰ç©ºä½æ”¾äº§å“äº†å†é€š çŸ¥ç”Ÿäº§è€…ç»§ç»­ç”Ÿäº§ï¼›å¦‚æœåº—ä¸­æ²¡æœ‰äº§å“äº†ï¼Œåº—å‘˜ä¼šå‘Šè¯‰æ¶ˆè´¹è€…ç­‰ä¸€ä¸‹ï¼Œå¦‚ æœåº—ä¸­æœ‰äº§å“äº†å†é€šçŸ¥æ¶ˆè´¹è€…æ¥å–èµ°äº§å“ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Clerk &#123;     &#x2F;&#x2F; å”®è´§å‘˜     private int product &#x3D; 0;     public synchronized void addProduct() &#123;         if (product &gt;&#x3D; 20) &#123;             try &#123;                 wait();             &#125; catch (InterruptedException e) &#123;                e.printStackTrace(); &#125;&#125; else &#123;     product++;     System.out.println(&quot;ç”Ÿäº§è€…ç”Ÿäº§äº† ç¬¬&quot; + product + &quot;ä¸ªäº§å“&quot;);     notifyAll();public synchronized void getProduct() &#123;     if (this.product &lt;&#x3D; 0) &#123;         try &#123;             wait();             &#125; catch (InterruptedException e) &#123;                 e.printStackTrace();                 &#125;                 &#125; else &#123;                     System.out.println(&quot;æ¶ˆè´¹è€…å–èµ°äº†ç¬¬&quot; + product + &quot;ä¸ªäº§å“&quot;); product--; notifyAll();                     &#125;                &#125;             &#125;    &#125;&#125;class Productor implements Runnable &#123; &#x2F;&#x2F; ç”Ÿäº§è€…     Clerk clerk;    public Productor(Clerk clerk) &#123; this.clerk &#x3D; clerk; &#125;    public void run() &#123;    System.out.println(&quot;ç”Ÿäº§è€…å¼€å§‹ç”Ÿäº§äº§å“&quot;);     while (true) &#123;         try &#123;         Thread.sleep((int) Math.random() * 1000);         &#125; catch (InterruptedException e) &#123;             e.printStackTrace(); &#125;              clerk.addProduct();              &#125;    &#125;&#125;class Consumer implements Runnable &#123; &#x2F;&#x2F; æ¶ˆè´¹è€…     Clerk clerk; public Consumer(Clerk clerk) &#123; this.clerk &#x3D; clerk; &#125;    public void run() &#123;    System.out.println(&quot;æ¶ˆè´¹è€…å¼€å§‹å–èµ°äº§å“&quot;);     while (true) &#123; try &#123;         Thread.sleep((int) Math.random() * 1000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125;         clerk.getProduct(); &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="çº¿ç¨‹çš„è°ƒåº¦"><a href="#çº¿ç¨‹çš„è°ƒåº¦" class="headerlink" title="çº¿ç¨‹çš„è°ƒåº¦"></a>çº¿ç¨‹çš„è°ƒåº¦</h2><h2 id="synchronized-ä¸-Lock-çš„å¯¹æ¯”"><a href="#synchronized-ä¸-Lock-çš„å¯¹æ¯”" class="headerlink" title="synchronized ä¸ Lock çš„å¯¹æ¯”"></a><code>synchronized ä¸ Lock çš„å¯¹æ¯”</code></h2><ol><li><p>Lockæ˜¯æ˜¾å¼é”ï¼ˆæ‰‹åŠ¨å¼€å¯å’Œå…³é—­é”ï¼Œåˆ«å¿˜è®°å…³é—­é”ï¼‰ï¼Œ<br>synchronizedæ˜¯ éšå¼é”ï¼Œå‡ºäº†ä½œç”¨åŸŸè‡ªåŠ¨é‡Šæ”¾<br>å½“å‰çº¿ç¨‹çš„åŒæ­¥æ–¹æ³•ã€åŒæ­¥ä»£ç å—æ‰§è¡Œç»“æŸã€‚<br>å½“å‰çº¿ç¨‹åœ¨åŒæ­¥ä»£ç å—ã€åŒæ­¥æ–¹æ³•ä¸­é‡åˆ°breakã€returnç»ˆæ­¢äº†è¯¥ä»£ç å—ã€ è¯¥æ–¹æ³•çš„ç»§ç»­æ‰§è¡Œã€‚<br>å½“å‰çº¿ç¨‹åœ¨åŒæ­¥ä»£ç å—ã€åŒæ­¥æ–¹æ³•ä¸­å‡ºç°äº†æœªå¤„ç†çš„Erroræˆ–Exceptionï¼Œå¯¼è‡´å¼‚å¸¸ç»“æŸã€‚<br>å½“å‰çº¿ç¨‹åœ¨åŒæ­¥ä»£ç å—ã€åŒæ­¥æ–¹æ³•ä¸­æ‰§è¡Œäº†çº¿ç¨‹å¯¹è±¡çš„<code>wait()</code>æ–¹æ³•ï¼Œ<code>å½“å‰çº¿ç¨‹æš‚åœï¼Œå¹¶é‡Šæ”¾é”ã€‚</code></p></li><li><p>Lockåªæœ‰ä»£ç å—é”ï¼Œ<br>synchronizedæœ‰ä»£ç å—é”å’Œæ–¹æ³•é”</p></li><li><p>ä½¿ç”¨Locké”ï¼ŒJVMå°†èŠ±è´¹è¾ƒå°‘çš„æ—¶é—´æ¥è°ƒåº¦çº¿ç¨‹ï¼Œæ€§èƒ½æ›´å¥½ã€‚å¹¶ä¸”å…·æœ‰ æ›´å¥½çš„æ‰©å±•æ€§ï¼ˆæä¾›æ›´å¤šçš„å­ç±»ï¼‰</p></li></ol><h2 id="ä¸ºä»€ä¹ˆæˆ‘ä»¬è°ƒç”¨-start-æ–¹æ³•æ—¶ä¼šæ‰§è¡Œ-run-æ–¹æ³•ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½ç›´æ¥è°ƒç”¨-run-æ–¹æ³•ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæˆ‘ä»¬è°ƒç”¨-start-æ–¹æ³•æ—¶ä¼šæ‰§è¡Œ-run-æ–¹æ³•ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½ç›´æ¥è°ƒç”¨-run-æ–¹æ³•ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæˆ‘ä»¬è°ƒç”¨ start() æ–¹æ³•æ—¶ä¼šæ‰§è¡Œ run() æ–¹æ³•ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½ç›´æ¥è°ƒç”¨ run() æ–¹æ³•ï¼Ÿ"></a>ä¸ºä»€ä¹ˆæˆ‘ä»¬è°ƒç”¨ start() æ–¹æ³•æ—¶ä¼šæ‰§è¡Œ run() æ–¹æ³•ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½ç›´æ¥è°ƒç”¨ run() æ–¹æ³•ï¼Ÿ</h2><p>æ€»ç»“ï¼š è°ƒç”¨ start æ–¹æ³•æ–¹å¯å¯åŠ¨çº¿ç¨‹å¹¶ä½¿çº¿ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œè€Œ run æ–¹æ³•åªæ˜¯ thread çš„ä¸€ä¸ªæ™®é€šæ–¹æ³•è°ƒç”¨ï¼Œè¿˜æ˜¯åœ¨ä¸»çº¿ç¨‹é‡Œæ‰§è¡Œã€‚</p><ol start="5"><li>run()æ–¹æ³•ç”±JVMè°ƒç”¨ï¼Œ<strong>ä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Œæ‰§è¡Œçš„è¿‡ç¨‹æ§åˆ¶éƒ½æœ‰æ“ä½œç³»ç»Ÿçš„CPU è°ƒåº¦å†³å®šã€‚</strong></li></ol><ol start="6"><li><strong>ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡åªèƒ½è°ƒç”¨ä¸€æ¬¡start()æ–¹æ³•</strong>å¯åŠ¨ï¼Œå¦‚æœé‡å¤è°ƒç”¨äº†ï¼Œåˆ™å°†æŠ›å‡ºä»¥ä¸Š çš„å¼‚å¸¸â€œ<code>IllegalThreadStateException</code>â€ã€‚<br>å¸¸ç”¨æ–¹æ³•ï¼š<br><code>static Thread yield()</code>:é‡Šæ”¾å½“å‰çº¿ç¨‹cpuçš„æ‰§è¡Œæƒ ï¼Œä¸‹ä¸€æ—¶åˆ»è¿˜å¯ä»¥å†è·å–åˆ°<br><code>join()</code>:å½“açº¿ç¨‹è°ƒç”¨bçº¿ç¨‹çš„ join() æ–¹æ³•æ—¶ï¼Œ<code>açº¿ç¨‹å°†è¢«é˜»å¡</code>ï¼Œç›´åˆ°bçº¿ç¨‹æ‰§è¡Œå®Œä¸ºæ­¢,açº¿ç¨‹æ‰ç»“æŸé˜»å¡<br><code>static void sleep(long millis)</code>ï¼š(æŒ‡å®šæ—¶é—´:æ¯«ç§’)<br>ä»¤å½“å‰æ´»åŠ¨çº¿ç¨‹åœ¨<strong>æŒ‡å®šæ—¶é—´æ®µå†…æ”¾å¼ƒå¯¹CPUæ§åˆ¶</strong>,ä½¿å…¶ä»–çº¿ç¨‹æœ‰æœºä¼šè¢«æ‰§è¡Œ,<strong>æ—¶é—´åˆ°åé‡æ’é˜Ÿ</strong>ã€‚ æŠ›å‡ºInterruptedExceptionå¼‚å¸¸<br>stop(): å¼ºåˆ¶çº¿ç¨‹ç”Ÿå‘½æœŸç»“æŸï¼Œä¸æ¨èä½¿ç”¨<br>boolean isAlive()ï¼šè¿”å›booleanï¼Œåˆ¤æ–­çº¿ç¨‹æ˜¯å¦è¿˜æ´»ç€</li></ol>]]></content>
      
      
      <categories>
          
          <category> å¹¶å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤šçº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="2020/11/23/javaweb%E7%AC%94%E8%AE%B0-----javascript/"/>
      <url>2020/11/23/javaweb%E7%AC%94%E8%AE%B0-----javascript/</url>
      
        <content type="html"><![CDATA[<h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><ol><li><p>å˜é‡å£°æ˜ï¼Œjavascriptå¼±ç±»å‹è¯­è¨€ï¼ŒåŠ¨æ€ç±»å‹è¯­è¨€è¿è¡ŒæœŸé—´å¯ä»¥ä»»æ„èµ‹å€¼<br> var i = 0;<br> i = true;<br> i = â€œhiâ€;<br> alert(i);<br> var str= â€œhelloworldâ€;<br> alert(str);</p></li><li><p>å˜é‡èµ‹å€¼</p></li><li><p>å˜é‡ä¸¥æ ¼åŒºåˆ†å¤§å†™å°å†™</p></li><li><p>æ•°æ®ç±»å‹<br> String ï¼Œ number å¸ƒå°” æ•°ç»„  å¯¹è±¡ null Undefined(åªå£°æ˜ä¸èµ‹å€¼)</p></li></ol><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p>ä½¿ç”¨functionå£°æ˜</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="2020/11/22/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/cookie--session/"/>
      <url>2020/11/22/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/cookie--session/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%EF%BC%81%EF%BC%81%EF%BC%81%EF%BC%81-id%E7%94%9F%E6%88%90%E5%99%A8/"/>
      <url>2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%EF%BC%81%EF%BC%81%EF%BC%81%EF%BC%81-id%E7%94%9F%E6%88%90%E5%99%A8/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å•ä½“é¡¹ç›®--å‡†å¤‡å·¥ä½œ</title>
      <link href="2020/11/20/%E7%94%B5%E5%95%86%E5%8D%95%E4%BD%93%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/"/>
      <url>2020/11/20/%E7%94%B5%E5%95%86%E5%8D%95%E4%BD%93%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<h1 id="ç”µå•†é¡¹ç›®ï¼šå•ä½“æ¶æ„è®¾è®¡äºé¡¹ç›®å¼€å‘"><a href="#ç”µå•†é¡¹ç›®ï¼šå•ä½“æ¶æ„è®¾è®¡äºé¡¹ç›®å¼€å‘" class="headerlink" title="ç”µå•†é¡¹ç›®ï¼šå•ä½“æ¶æ„è®¾è®¡äºé¡¹ç›®å¼€å‘"></a>ç”µå•†é¡¹ç›®ï¼šå•ä½“æ¶æ„è®¾è®¡äºé¡¹ç›®å¼€å‘</h1><h1 id="åŸºäºSpringBoot2-x"><a href="#åŸºäºSpringBoot2-x" class="headerlink" title="åŸºäºSpringBoot2.x"></a>åŸºäºSpringBoot2.x</h1><p>å®ç°å•ä½“ç”µå•†é¡¹ç›®æ ¸å¿ƒåŠŸèƒ½å¼€å‘</p><p>å®ç°å•ä½“ç”µå•†é¡¹ç›®ä¸ªäººä¸­å¿ƒåŠŸèƒ½</p><p>é¡¹ç›®éƒ¨ç½²ä¸Šçº¿</p><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p>é¡¹ç›®å±•ç¤ºä»¥åŠä¸»è¦çš„åŠŸèƒ½ï¼šè½®æ’­å›¾<br>                    ä¸»é¡µä¸åŒåˆ†ç±»<br>                    æ ¹æ®é¡µé¢çš„æ»šåŠ¨æ…¢æ…¢çš„è¿›è¡ŒåŠ è½½ï¼šåœ¨å‰ç«¯è®¾è®¡çš„è°ƒç”¨æ¨¡å¼<br>                    é¦–é¡µæœç´¢åŠŸèƒ½ï¼šè¾“å…¥å…³é”®è¯ é¡µé¢è·³è½¬<br>                    åˆ†é¡µåŠŸèƒ½<br>                    é»˜è®¤æ’åº é”€é‡æ’åº ä»·æ ¼æœ‰é™ æ’åºè§„åˆ™<br>                    è´­ç‰©è½¦<br>                    æ”¯ä»˜<br>                    æ²¡æœ‰ç™»å½•çš„è¯å°±ç™»å½•<br>                    ç™»å½•åŠŸèƒ½ å›è°ƒåˆ°è´­ç‰©è½¦<br>                    ç»“ç®—é¡µé¢  åœ°å€ å¯ä»¥è¿›è¡Œç¼–è¾‘ é€‰æ‹©<br>                    å¾®ä¿¡æ”¯ä»˜ æ”¯ä»˜å®æ”¯ä»˜<br>                    æŸ¥çœ‹æˆ‘çš„è®¢å• è·³è½¬åˆ°ä¸ªäººä¸­å¿ƒ<br>                    ä¸ªäººä¸­å¿ƒï¼šä»£å‘è´§<br>                    å…¶ä¸­å°±æ˜¯è®¢å•<br>                    æˆ‘çš„è¯„ä»·<br>                    æˆ‘çš„ä¿¡æ¯<br>                    æ”¶è´§åœ°å€</p><h2 id="å‰åæ®µä¸»è¦æŠ€æœ¯é€‰å‹"><a href="#å‰åæ®µä¸»è¦æŠ€æœ¯é€‰å‹" class="headerlink" title="å‰åæ®µä¸»è¦æŠ€æœ¯é€‰å‹"></a>å‰åæ®µä¸»è¦æŠ€æœ¯é€‰å‹</h2><p>åæ®µæŠ€æœ¯é€‰å‹<br><code>SpringBoot Spring Mybatis</code> æ¡†æ¶æ•´åˆ</p><p>SpringBootè¿˜æ˜¯SpringMVC??<br>SpringMVCæ˜¯æ¡†æ¶  é…ç½®é¡¹å¾ˆå¤šå°±å¾ˆç¹ç<br>                è¿˜å¾—è‡ªå·±ä¸‹è½½tomcat<br>SpringBootæ˜¯æ¡†æ¶ï¼šä¸»è¦å®ç°äº†è‡ªåŠ¨é…ç½®ï¼Œ<br>                ä»xmlé…ç½®ç¹çåˆ°ymlï¼Œ<br>                è¿˜é›†æˆäº†å¾ˆå¤šçš„ä¸­é—´ä»¶ï¼Œç”¨starterä¾èµ–å’Œå¼•ç”¨ï¼Œç®€åŒ–äº†mavené…ç½®<br>                ä»å¤–ç½®çš„tomcatå˜ä¸ºå†…ç½®çš„tomcatï¼Œåœ¨yamlå°±å¯ä»¥é…ç½®</p><p>å‰ç«¯æŠ€æœ¯é€‰å‹ï¼š<br>        Jquery<br>        VUEæœ¬èº«æ˜¯æ¸è¿›å¼æ¡†æ¶ï¼Œæ–¹ä¾¿ã€‚åœ¨æ¸è¿›å¼è¿‡ç¨‹ä¸­å¯ä»¥é€æ­¥é€æ­¥å»æ›¿æ¢æ‰åŸæ¥çš„ä»£ç <br>        html<br>        css</p><p>æŠ€æœ¯é€‰å‹è¦è€ƒè™‘åˆ°çš„ï¼š<br>    åˆ‡åˆä¸šåŠ¡<br>    ç¤¾åŒºæ´»è·ƒåº¦ï¼šä»£è¡¨ä½¿ç”¨ç‡é«˜ï¼Œä¼˜ç¼ºç‚¹<br>    å›¢é˜ŸæŠ€æœ¯æ°´å¹³<br>    ç‰ˆæœ¬æ›´æ–°è¿­ä»£çš„å‘¨æœŸï¼šä»¥å‰Dubboä¸­é—´åœæ›´äº†ä¸€æ®µæ—¶é—´ï¼Œé‚£ä¹ˆè¿™æ®µæ—¶é—´å°±ä¼šå½±å“ä¸šåŠ¡çš„ä½¿ç”¨<br>    å®‰å…¨æ€§<br>    æˆåŠŸæ¡ˆä¾‹ï¼šå£ç¢‘ä¸é”™çš„</p><h2 id="å‰åç«¯åˆ†ç¦»å¼€å‘æ¨¡å¼ï¼š"><a href="#å‰åç«¯åˆ†ç¦»å¼€å‘æ¨¡å¼ï¼š" class="headerlink" title="å‰åç«¯åˆ†ç¦»å¼€å‘æ¨¡å¼ï¼š"></a>å‰åç«¯åˆ†ç¦»å¼€å‘æ¨¡å¼ï¼š</h2><p>æ—©èµ·ä¼ ç»Ÿçš„JAVAwebå¼€å‘æ¨¡å¼ï¼š<br>                      ç”¨æˆ· â€“ æµè§ˆå™¨ -urlâ€“æœåŠ¡å™¨ waråŒ…(åæ®µmodel,view,controller å‰ç«¯html(jspæ¸²æŸ“æˆhtml)cssjs)  åªè¦æœ‰ç”¨æˆ·è®¿é—®æœåŠ¡å™¨ï¼Œæ‰€æœ‰è¯·æ±‚çš„é¡µé¢éƒ½åœ¨æœåŠ¡å™¨è¿›è¡Œæ¸²æŸ“ã€‚å½“ç”¨æˆ·è¶Šæ¥è¶Šå¤šçš„è¯ï¼Œ æ‰€æœ‰é¡µé¢éƒ½åœ¨æœåŠ¡å™¨è¿›è¡Œæ¸²æŸ“ï¼ŒæœåŠ¡å™¨å‹åŠ›å¤ªå¤§äº†äº†ã€‚<br>                      éœ€è¦æ³¨æ„çš„æ˜¯  ä¼ ç»Ÿwebå¼€å‘ ï¼Œæµè§ˆå™¨è¯·æ±‚åˆ°çš„æœåŠ¡å™¨çš„æ‰€æœ‰é¡µé¢éƒ½æ˜¯åŸºäºurlæ¥è¿›è¡Œè·³è½¬çš„</p><p>å‰åç«¯å•é¡µé¢çš„äº¤äº’ï¼šmvvmå‰ç«¯å¼€å‘æ¨¡å¼<br>                        æ‰‹æœº  â€“ å°ç¨‹åº/å®‰å“â€”- â€”â€”â€”â€“æœåŠ¡å™¨model,view<br>                      ç”¨æˆ·â€”-æµè§ˆå™¨â€“h5â€“nginxï¼ˆhtml css jsï¼‰â€“Restful webservice&gt;-æœåŠ¡å™¨model,view,controlleré™æ€èµ„æºåœ¨é™æ€èµ„æºæœåŠ¡å™¨ä¸Šï¼Œ<br>                      å‰ç«¯é¾Ÿå‰ç«¯ï¼Œåç«¯ä»£ç åªè¦ä¸€å¥—æå¥½äº†</p><h2 id="æ•°æ®åº“è¡¨è®¾è®¡ï¼š"><a href="#æ•°æ®åº“è¡¨è®¾è®¡ï¼š" class="headerlink" title="æ•°æ®åº“è¡¨è®¾è®¡ï¼š"></a>æ•°æ®åº“è¡¨è®¾è®¡ï¼š</h2><p>å…¨å±€çš„è§„åˆ’ï¼Œæ•°æ®åº“è¡¨è®¾è®¡å·¥å…·è®¾è®¡åº“ä»¥åŠè¡¨ï¼Œå‰æœŸå°±è®¾è®¡å¥½çš„<br><code>PDMan</code>:<br>            æ•°æ®åº“å»ºæ¨¡å·¥å…·<br>            è®¾ç½®ï¼šé¢„å¤„ç†çš„æ¨¡ç‰ˆï¼Œ æ¯æ¬¡æ–°å»ºè¡¨çš„æ—¶å€™éƒ½ä¼šç”Ÿæˆ<br>            æ•°æ®åº“è®¾ç½®ï¼š<br>            å¦‚ä½•æŠŠå…³ç³»å›¾å’Œæ•°æ®åº“çš„è¡¨è¿›è¡Œå¯¹åº”ï¼šæ¨¡å‹ç‰ˆæœ¬â€“åˆå§‹åŒ–åŸºçº¿å†™ç‰ˆæœ¬å·-ç‚¹å‡»åŒæ­¥ï¼Œæ³¨æ„åŒæ­¥é…ç½®é‡Œé€‰çš„å¿…é¡»æ˜¯å¢é‡</p><hr><h3 id="æˆ‘ä»¬çš„è®¾è®¡åº“è¡¨ä¸­æ²¡æœ‰ä½¿ç”¨æ•°æ®åº“å¤–é”®"><a href="#æˆ‘ä»¬çš„è®¾è®¡åº“è¡¨ä¸­æ²¡æœ‰ä½¿ç”¨æ•°æ®åº“å¤–é”®" class="headerlink" title="æˆ‘ä»¬çš„è®¾è®¡åº“è¡¨ä¸­æ²¡æœ‰ä½¿ç”¨æ•°æ®åº“å¤–é”®"></a>æˆ‘ä»¬çš„è®¾è®¡åº“è¡¨ä¸­æ²¡æœ‰ä½¿ç”¨æ•°æ®åº“å¤–é”®</h3><p>1ï¼Œæ€§èƒ½å½±å“</p><p>å¯¹äºæ•°æ®çš„å®Œæ•´æ€§ä¼šåšæ£€æŸ¥æ“ä½œï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§å¹¶å‘çš„æ—¶å€™ï¼Œä¼šå½±å“æ€§èƒ½</p><p>2ï¼Œçƒ­æ›´æ–°ï¼ˆä¸åœæœºç»´æŠ¤ï¼‰<br>å¦‚æœæœ‰å¤–é”®çš„è¯ï¼Œæ˜¯å¼ºä¸€è‡´æ€§çš„ï¼Œä½¿çš„æ–°æ›´æ–°çš„ä»£ç æ— æ³•è¿è¡Œï¼Œéœ€è¦é‡å¯æœåŠ¡ã€‚è€Œæˆ‘ä»¬å¸Œæœ›ä¸åœæœºç»´æŠ¤ã€‚</p><p>3 é™ä½è€¦åˆåº¦</p><p>ç‰©ç†å¤–é”®ä¸å­˜åœ¨ï¼Œé€»è¾‘å¤–é”®è¿˜æ˜¯å­˜åœ¨çš„ï¼Œæ¯”å¦‚è¯´cghtbæœ‰htbhå­—æ®µï¼Œhtmxbä¹Ÿæœ‰htbhå­—æ®µ</p><p>4 æ•°æ®åº“åˆ†åº“å‘è¡¨<br>æœ‰å¤–é”®å…³ç³»çš„ä¸¤å¼ è¡¨ï¼Œéš¾ä»¥åšåˆ°åˆ†åˆ°ä¸¤ä¸ªä¸åŒçš„æ•°æ®åº“ï¼Œå› ä¸ºè€¦åˆåº¦æ˜¯åœ¨æ˜¯å¤ªé«˜äº†ã€‚</p><hr><h2 id="é¡¹ç›®ç»“æ„æ­å»º"><a href="#é¡¹ç›®ç»“æ„æ­å»º" class="headerlink" title="é¡¹ç›®ç»“æ„æ­å»º"></a>é¡¹ç›®ç»“æ„æ­å»º</h2><h3 id="é¡¹ç›®æ‹†åˆ†ä¸èšåˆï¼š"><a href="#é¡¹ç›®æ‹†åˆ†ä¸èšåˆï¼š" class="headerlink" title="é¡¹ç›®æ‹†åˆ†ä¸èšåˆï¼š"></a>é¡¹ç›®æ‹†åˆ†ä¸èšåˆï¼š</h3><p>åæ®µåˆ†å±‚æ¶æ„æ¨¡å¼ï¼šåŸºäºmavenåˆ†å±‚ä¸æ‹†åˆ†<br>é¡¹ç›®åˆ†å±‚è®¾è®¡åŸåˆ™<br>å‰æœŸæ‹†åˆ†ï¼šæ ¹æ®ä¸šåŠ¡æ‹†åˆ†ä¸ºä¸åŒçš„å­æ¨¡å—<br>åæœŸèšåˆï¼šé€šè¿‡<code>maven</code>é¡¹ç›®çš„èšåˆ</p><p>jar                             common.jarå­æ¨¡å—/å·¥ç¨‹  pojo.jar(æ•°æ®åº“è¡¨é€†å‘ç”Ÿæˆ)  mapper.jar<br>æˆ–è€…        â€”-                service.jar  controller.jar     ã€‚ã€‚ã€‚<br>war<br>æœ€ç»ˆè¿è¡Œçš„åŒ…                      pomèšåˆå·¥ç¨‹  æ‰€æœ‰å­æ¨¡å—éƒ½åœ¨èšåˆå·¥ç¨‹é‡Œé¢</p><p>è¿™æ ·çš„è¯å°±å¯ä»¥å¾ˆå¤šäººè¿›è¡Œå¼€å‘<br>å¤šä¸ªä¸åŒçš„é¡¹ç›®å¯ä»¥éƒ½å¯¼å…¥commonçš„ä¾èµ–ä¸ç”¨å¤šæ¬¡å†™ä»£ç ï¼Œ</p><h3 id="Ideaæ„å»ºï¼šå…·ä½“æ“ä½œçš„è¯å¯ä»¥å‚è€ƒhttps-blog-csdn-net-weixin-43434182-article-details-108017186"><a href="#Ideaæ„å»ºï¼šå…·ä½“æ“ä½œçš„è¯å¯ä»¥å‚è€ƒhttps-blog-csdn-net-weixin-43434182-article-details-108017186" class="headerlink" title="Ideaæ„å»ºï¼šå…·ä½“æ“ä½œçš„è¯å¯ä»¥å‚è€ƒhttps://blog.csdn.net/weixin_43434182/article/details/108017186"></a>Ideaæ„å»ºï¼šå…·ä½“æ“ä½œçš„è¯å¯ä»¥å‚è€ƒ<a href="https://blog.csdn.net/weixin_43434182/article/details/108017186">https://blog.csdn.net/weixin_43434182/article/details/108017186</a></h3><pre><code> 1. æ‹†åˆ†ï¼š        çˆ¶å·¥ç¨‹ç”±äºæ„å»ºçš„æ˜¯èšåˆå·¥ç¨‹ï¼Œæ‰€ä»¥æ‰“åŒ…æ–¹å¼é€‰æ‹©pom        æ„å»ºpojoï¼Œpojoå¼•ç”¨common        æ„å»ºmapperï¼Œmapperå¼•ç”¨pojoï¼Œ        æ„å»ºserviceï¼Œserviceå¼•ç”¨mapperï¼Œ        æ„å»ºapiï¼Œapiå¼•ç”¨service    èšåˆï¼šroot --install ä¹‹åä¾èµ–å…³ç³»æ‰ä¼šçœŸæ­£çš„å»ºç«‹2. çˆ¶å·¥ç¨‹æ•´åˆspring boot   pom.xmlå¼•å…¥spring bootåŸºç¡€ä¾èµ–</code></pre><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.imooc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>foodie-dev<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--        1.èšåˆå·¥ç¨‹å¯ä»¥åˆ†é¡¶çº§é¡¹ç›®ï¼ˆé¡¶çº§å·¥ç¨‹ï¼Œçˆ¶å·¥ç¨‹ï¼‰å’Œå­å·¥ç¨‹ï¼Œä¸¤è€…ä¹‹é—´ä¸ºç»§æ‰¿å…³ç³»        å­å·¥ç¨‹åœ¨mavenä¸­ç§°ä¹‹ä¸ºmoduleï¼Œæ¨¡å—ä¹‹é—´æ—¶å¹³çº§çš„ï¼Œå¯ä»¥ç›¸äº’ä¾èµ–        2.å­å·¥ç¨‹å¯ä»¥ä½¿ç”¨çˆ¶å·¥ç¨‹æ‰€æœ‰çš„èµ„æºï¼ˆä¾èµ–ï¼‰ï¼Œå­å·¥ç¨‹ä¹‹é—´å¦‚æœéœ€è¦ç›¸äº’ä¹‹é—´ä½¿ç”¨èµ„æºï¼Œéœ€è¦æ„å»ºä¾èµ–ï¼ˆæ„å»ºå…³ç³»ï¼‰        3.çˆ¶å·¥ç¨‹å¯ä»¥ç”±å¤šä¸ªå­å·¥ç¨‹ç»„åˆè€Œæˆ    --></span>    <span class="token comment" spellcheck="true">&lt;!--æ‰€æœ‰çš„å­å·¥ç¨‹éƒ½ä¼šåœ¨è¿™é‡Œå‡ºç°--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>foodie-dev-common<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>foodie-dev-pojo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>foodie-dev-mapper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>foodie-dev-service<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>foodie-dev-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modules</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- èšåˆå·¥ç¨‹æ‰“åŒ…æ–¹å¼é€‰æ‹©pom--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--å¼•å…¥ä¾èµ–parent,ç»Ÿä¸€ç®¡ç†ç‰ˆæœ¬--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.1.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--è®¾ç½®èµ„æºå±æ€§--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--è®¾ç½®æºç ç¼–ç æ ¼å¼--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--è®¾ç½®ç¼–è¯‘åæ–‡ä»¶ç¼–ç æ ¼å¼--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.reporting.outputEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.reporting.outputEncoding</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>                <span class="token comment" spellcheck="true">&lt;!--æ’é™¤è¿™ä¸€å—ä¾èµ–ï¼Œåç»­å¼•å…¥å…¶ä»–ä¾èµ–--></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--spring bootå¯ä»¥è§£æymlæ–‡ä»¶ï¼Œå¦‚æœæƒ³è§£æxmlç­‰éymlé…ç½®æ–‡ä»¶ï¼Œéœ€è¦æ­¤ä¾èµ–--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-configuration-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>ç„¶ååœ¨controllerå±‚å°±å¯ä»¥åœ¨resourceä¸‹åˆ›å»ºapplication.yml</code></pre><p>ç„¶åç¼–å†™å¯åŠ¨ç±»<br>    <code>java     @SpringBootApplication     public class Application &#123;         public static void main(String[] args) &#123;             SpringApplication.run(Application.class,args);         &#125;     &#125;     </code></p><p>ç„¶åï¼Œå› ä¸ºæ˜¯èšåˆé¡¹ç›®ï¼Œéœ€è¦å…ˆinstallå­é¡¹ç›®ï¼Œä½¿å…¶æˆä¸ºä¸»é¡¹ç›®çš„ä¾èµ–ï¼Œç„¶åå¯åŠ¨é¡¹ç›®</p><hr><p>mybatis mysql mapper<br>å¯¼å…¥ä¾èµ–<br>å†™é…ç½®æ–‡ä»¶<br>mybatisé€†å‘ç”Ÿæˆå·¥å…·:æ‰“å¼€é¡¹ç›®ï¼Œä¸»è¦ä¿®æ”¹generatorConfig.xmlæ–‡ä»¶,ç„¶åGeneratorDisplayï¼Œå³é”®è¿è¡Œï¼Œç”Ÿæˆç›¸åº”çš„æ–‡ä»¶ï¼Œ<br>å¤åˆ¶åˆ°é¡¹ç›®ä¸­ï¼Œå› ä¸ºå¼•ç”¨äº†é€šç”¨mapperï¼Œéœ€è¦åœ¨é¡¹ç›®ä¸­è¿›è¡Œç›¸åº”çš„é…ç½®</p><p>Restful<br>api service å±‚å¼€å‘<br><code>Postman</code>è°ƒè¯•Restfulæ¥å£</p>]]></content>
      
      
      
        <tags>
            
            <tag> é¡¹ç›® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java8 9 10æ–°ç‰¹æ€§</title>
      <link href="2020/11/20/java8910%E6%96%B0%E7%89%B9%E6%80%A7/"/>
      <url>2020/11/20/java8910%E6%96%B0%E7%89%B9%E6%80%A7/</url>
      
        <content type="html"><![CDATA[<h2 id="Lambdaè¡¨è¾¾å¼"><a href="#Lambdaè¡¨è¾¾å¼" class="headerlink" title="Lambdaè¡¨è¾¾å¼"></a>Lambdaè¡¨è¾¾å¼</h2><p><code>Lambda è¡¨è¾¾å¼</code>ï¼šåœ¨Java 8 è¯­è¨€ä¸­å¼•å…¥çš„ä¸€ç§æ–°çš„è¯­æ³•å…ƒç´ å’Œæ“ ä½œç¬¦ã€‚è¿™ä¸ªæ“ä½œç¬¦ä¸º â€œ-&gt;â€ ï¼Œ è¯¥æ“ä½œç¬¦è¢«ç§°ä¸º Lambda æ“ä½œç¬¦ æˆ–ç®­å¤´æ“ä½œç¬¦ã€‚å®ƒå°† Lambda åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š<br><code>æ¥å£ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯å…è®¸æœ‰å…¶ä»–å®ç°çš„defaultæ–¹æ³•</code><br><code>å·¦ä¾§</code>ï¼šæŒ‡å®šäº† Lambda è¡¨è¾¾å¼éœ€è¦çš„å‚æ•°åˆ—è¡¨<br><strong>æ•°æ®ç±»å‹å¯ä»¥çœç•¥ï¼Œå› ä¸ºå¯ç”±ç¼–è¯‘å™¨æ¨æ–­å¾—å‡ºï¼Œç§°ä¸ºâ€œç±»å‹æ¨æ–­â€</strong><br><strong>Lambda è‹¥åªéœ€è¦ä¸€ä¸ªå‚æ•°æ—¶ï¼Œå‚æ•°çš„å°æ‹¬å·å¯ä»¥çœç•¥</strong><br><code>å³ä¾§</code>ï¼šæŒ‡å®šäº† Lambda ä½“ï¼Œæ˜¯æŠ½è±¡æ–¹æ³•çš„å®ç°é€»è¾‘ï¼Œä¹Ÿå³ Lambda è¡¨è¾¾å¼è¦æ‰§è¡Œçš„åŠŸèƒ½ã€‚<br><strong>å½“ Lambda ä½“åªæœ‰ä¸€æ¡è¯­å¥æ—¶ï¼Œreturn ä¸å¤§æ‹¬å·è‹¥æœ‰ï¼Œéƒ½å¯ä»¥çœç•¥</strong></p><h2 id="å‡½æ•°å¼-Functional-æ¥å£"><a href="#å‡½æ•°å¼-Functional-æ¥å£" class="headerlink" title="å‡½æ•°å¼(Functional)æ¥å£"></a>å‡½æ•°å¼(Functional)æ¥å£</h2><h2 id="æ–¹æ³•å¼•ç”¨ä¸æ„é€ å™¨å¼•ç”¨"><a href="#æ–¹æ³•å¼•ç”¨ä¸æ„é€ å™¨å¼•ç”¨" class="headerlink" title="æ–¹æ³•å¼•ç”¨ä¸æ„é€ å™¨å¼•ç”¨"></a>æ–¹æ³•å¼•ç”¨ä¸æ„é€ å™¨å¼•ç”¨</h2><h2 id="å¼ºå¤§çš„Stream-API"><a href="#å¼ºå¤§çš„Stream-API" class="headerlink" title="å¼ºå¤§çš„Stream API"></a>å¼ºå¤§çš„Stream API</h2><h2 id="Optionalç±»"><a href="#Optionalç±»" class="headerlink" title="Optionalç±»"></a>Optionalç±»</h2>]]></content>
      
      
      
        <tags>
            
            <tag> javaæ–°ç‰¹æ€§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”Ÿäº§è€…æ¶ˆè´¹è€…---çº¿ç¨‹é€šä¿¡</title>
      <link href="2020/11/20/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85/"/>
      <url>2020/11/20/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85/</url>
      
        <content type="html"><![CDATA[<p>é¢˜ç›®ï¼šç°åœ¨ä¸¤ä¸ªçº¿ç¨‹ï¼Œå¯ä»¥æ“ä½œåˆå§‹å€¼ä¸ºé›¶çš„å˜é‡ï¼Œ<br>å®ç°ä¸€ä¸ªçº¿ç¨‹+1ï¼Œä¸€ä¸ªçº¿ç¨‹å‡1ï¼›<br>äº¤æ›¿æ‰“å° æ¥10è½® å˜é‡åˆå§‹å€¼ä¸ºé›¶</p><font color='orange' ><ol><li><p><code>çº¿ç¨‹æ“ä½œèµ„æºç±»</code>ï¼šé«˜å†…èšä½è€¦åˆ</p></li><li><p>é€šä¿¡ï¼šä¸ç¬¦åˆæ¡ä»¶åˆ¤æ–­ç­‰å¾…ï¼Œä¸šåŠ¡é€»è¾‘ï¼Œå”¤é†’ï¼›</p></li><li><p>å¤šçº¿ç¨‹äº¤äº’ä¸­ï¼Œå¿…é¡»è¦é˜²æ­¢å¤šçº¿ç¨‹çš„<code>è™šå‡å”¤é†’</code>ï¼Œä¹Ÿå³åœ¨å¤šçº¿ç¨‹åˆ¤æ–­ä¸­ä¸è®¸ç”¨ifï¼Œå°±è¦ç”¨while</p></li></ol></font><hr><h2 id="synchronized-wait-notifyAll"><a href="#synchronized-wait-notifyAll" class="headerlink" title="synchronized+wait+notifyAll"></a>synchronized+wait+notifyAll</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Opera&#123;    private int num &#x3D; 0;    public synchronized void incrnum() throws InterruptedException &#123;        while(num!&#x3D;0)&#123;            this.wait();        &#125;        num++;        System.out.println(Thread.currentThread().getName()+&quot;:&quot;+num);        this.notifyAll();    &#125;    public synchronized void decrnum() throws InterruptedException &#123;        while(num&#x3D;&#x3D;0)&#123;            this.wait();        &#125;        num--;        System.out.println(Thread.currentThread().getName()+&quot;:&quot;+num);        this.notifyAll();    &#125;    public static void main(String[] args) &#123;        Opera op &#x3D; new Opera();        Thread b &#x3D; new Thread(()-&gt;&#123;            for (int i &#x3D; 0; i &lt; 10; i++) &#123;                try &#123;                    op.decrnum();                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;            &#125;        &#125;,&quot;b&quot;);        Thread a &#x3D; new Thread(()-&gt;&#123;            for (int i &#x3D; 0; i &lt; 10; i++) &#123;                try &#123;                    op.incrnum();                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;            &#125;        &#125;,&quot;a&quot;);        Thread c &#x3D; new Thread(()-&gt;&#123;            for (int i &#x3D; 0; i &lt; 10; i++) &#123;                try &#123;                    op.incrnum();                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;            &#125;        &#125;,&quot;c&quot;);        Thread d &#x3D; new Thread(()-&gt;&#123;            for (int i &#x3D; 0; i &lt; 10; i++) &#123;                try &#123;                    op.decrnum();                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;            &#125;        &#125;,&quot;d&quot;);        a.start();        b.start();        c.start();        d.start();    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Lock-await-signalAll"><a href="#Lock-await-signalAll" class="headerlink" title="Lock+await+signalAll"></a>Lock+await+signalAll</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Opera1&#123;    private int num &#x3D; 0;    private  Lock lock &#x3D;new ReentrantLock();    private Condition condition &#x3D; lock.newCondition();    public void incrnum() throws InterruptedException &#123;        lock.lock();        try &#123;            while(num!&#x3D;0)&#123;                condition.await();            &#125;            num++;            System.out.println(Thread.currentThread().getName()+&quot;:&quot;+num);            condition.signalAll();        &#125; catch (InterruptedException e) &#123;            e.printStackTrace();        &#125; finally &#123;            lock.unlock();        &#125;    &#125;    public  void decrnum() throws InterruptedException &#123;        lock.lock();        try &#123;            while(num&#x3D;&#x3D;0)&#123;                condition.await();            &#125;            num--;            System.out.println(Thread.currentThread().getName()+&quot;:&quot;+num);            condition.signalAll();        &#125; catch (InterruptedException e) &#123;            e.printStackTrace();        &#125; finally &#123;            lock.unlock();        &#125;    &#125;&#125;public static void main(String[] args) &#123;        Opera1 op &#x3D; new Opera1();        Thread b &#x3D; new Thread(()-&gt;&#123;            for (int i &#x3D; 0; i &lt; 10; i++) &#123;                try &#123;                    op.decrnum();                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;            &#125;        &#125;,&quot;b&quot;);        Thread a &#x3D; new Thread(()-&gt;&#123;            for (int i &#x3D; 0; i &lt; 10; i++) &#123;                try &#123;                    op.incrnum();                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;            &#125;        &#125;,&quot;a&quot;);        Thread c &#x3D; new Thread(()-&gt;&#123;            for (int i &#x3D; 0; i &lt; 10; i++) &#123;                try &#123;                    op.incrnum();                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;            &#125;        &#125;,&quot;c&quot;);        Thread d &#x3D; new Thread(()-&gt;&#123;            for (int i &#x3D; 0; i &lt; 10; i++) &#123;                try &#123;                    op.decrnum();                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;            &#125;        &#125;,&quot;d&quot;);        a.start();        b.start();        c.start();        d.start();    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç²¾ç¡®é€šçŸ¥é¡ºåºè®¿é—®"><a href="#ç²¾ç¡®é€šçŸ¥é¡ºåºè®¿é—®" class="headerlink" title="ç²¾ç¡®é€šçŸ¥é¡ºåºè®¿é—®"></a>ç²¾ç¡®é€šçŸ¥é¡ºåºè®¿é—®</h2><font color='orange' ><ol><li><p><code>çº¿ç¨‹æ“ä½œèµ„æºç±»</code>ï¼šé«˜å†…èšä½è€¦åˆ</p></li><li><p>é€šä¿¡ï¼šä¸ç¬¦åˆæ¡ä»¶åˆ¤æ–­ç­‰å¾…ï¼Œä¸šåŠ¡é€»è¾‘ï¼Œå”¤é†’ï¼›</p></li><li><p>å¤šçº¿ç¨‹äº¤äº’ä¸­ï¼Œå¿…é¡»è¦é˜²æ­¢å¤šçº¿ç¨‹çš„<code>è™šå‡å”¤é†’</code>ï¼Œä¹Ÿå³åœ¨å¤šçº¿ç¨‹åˆ¤æ–­ä¸­ä¸è®¸ç”¨ifï¼Œå°±è¦ç”¨while</p></li><li><p>æ ‡è¯†ä½</p></li></ol></font><hr><pre class="line-numbers language-java" data-language="java"><code class="language-java">package com.atguigu;import java.util.concurrent.locks.Condition;import java.util.concurrent.locks.Lock;import java.util.concurrent.locks.ReentrantLock;public class OrderCommunition &#123;    public static void main(String[] args) &#123;        OrderPrint orderPrint &#x3D; new OrderPrint();        new Thread(()-&gt;&#123;            for (int i &#x3D; 0; i &lt; 3; i++) &#123;                try &#123;                    orderPrint.print1();                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;            &#125;        &#125;,&quot;A&quot;).start();        new Thread(()-&gt;&#123;            for (int i &#x3D; 0; i &lt; 3; i++) &#123;                try &#123;                    orderPrint.print2();                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;            &#125;        &#125;,&quot;A&quot;).start();        new Thread(()-&gt;&#123;            for (int i &#x3D; 0; i &lt; 3; i++) &#123;                try &#123;                    orderPrint.print3();                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;            &#125;        &#125;,&quot;A&quot;).start();    &#125;&#125;class OrderPrint&#123;    private  int number &#x3D; 1;    private Lock lock &#x3D; new ReentrantLock();    private Condition condition1&#x3D; lock.newCondition();    private Condition condition2&#x3D; lock.newCondition();    private Condition condition3&#x3D; lock.newCondition();    public void print1() throws InterruptedException &#123;        lock.lock();        try &#123;            while(number!&#x3D;1)&#123;                condition1.await();            &#125;            for (int i &#x3D; 0; i &lt; 5; i++) &#123;                System.out.println(Thread.currentThread().getName()+&quot;:&quot;+i);            &#125;            number&#x3D;2;            condition2.signal();        &#125; catch (InterruptedException e) &#123;            e.printStackTrace();        &#125; finally &#123;            lock.unlock();        &#125;    &#125;    public void print2() throws InterruptedException &#123;        lock.lock();        try &#123;            while(number!&#x3D;2)&#123;                condition2.await();            &#125;            for (int i &#x3D; 0; i &lt; 10; i++) &#123;                System.out.println(Thread.currentThread().getName()+&quot;:&quot;+i);            &#125;            number&#x3D;3;            condition3.signal();        &#125; catch (InterruptedException e) &#123;            e.printStackTrace();        &#125; finally &#123;            lock.unlock();        &#125;    &#125;    public void print3() throws InterruptedException &#123;        lock.lock();        try &#123;            while(number!&#x3D;3)&#123;                condition3.await();            &#125;            for (int i &#x3D; 0; i &lt; 5; i++) &#123;                System.out.println(Thread.currentThread().getName()+&quot;:&quot;+i);            &#125;            number&#x3D;1;            condition1.signal();        &#125; catch (InterruptedException e) &#123;            e.printStackTrace();        &#125; finally &#123;            lock.unlock();        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> å¤šçº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çº¿ç¨‹å®‰å…¨å¦‚ä½•ä¿è¯ï¼Ÿ</title>
      <link href="2020/11/20/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/"/>
      <url>2020/11/20/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="çº¿ç¨‹çš„å®‰å…¨"><a href="#çº¿ç¨‹çš„å®‰å…¨" class="headerlink" title="çº¿ç¨‹çš„å®‰å…¨"></a>çº¿ç¨‹çš„å®‰å…¨</h2><ol><li><code>synchronized</code><h3 id="æ€ä¹ˆä¿è¯çº¿ç¨‹å®‰å…¨"><a href="#æ€ä¹ˆä¿è¯çº¿ç¨‹å®‰å…¨" class="headerlink" title="æ€ä¹ˆä¿è¯çº¿ç¨‹å®‰å…¨"></a>æ€ä¹ˆä¿è¯çº¿ç¨‹å®‰å…¨</h3><code>åŒæ­¥æ–¹æ³•çš„é”</code>ï¼šé™æ€æ–¹æ³•ï¼ˆç±»å.classï¼‰ã€éé™æ€æ–¹æ³•ï¼ˆthisï¼‰<br><code>åŒæ­¥ä»£ç å—</code>ï¼šè‡ªå·±æŒ‡å®šï¼Œå¾ˆå¤šæ—¶å€™ä¹Ÿæ˜¯æŒ‡å®šä¸ºthisæˆ–ç±»å.class<br>å¿…é¡»ç¡®ä¿ä½¿ç”¨<code>åŒä¸€ä¸ªèµ„æºçš„å¤šä¸ªçº¿ç¨‹å…±ç”¨ä¸€æŠŠé”</code> ï¼Œè¿™ä¸ªéå¸¸é‡è¦ ï¼Œå¦åˆ™å°±æ— æ³•ä¿è¯å…±äº«èµ„æºçš„å®‰å…¨<br><code>ä¸€ä¸ªçº¿ç¨‹ç±»ä¸­çš„æ‰€æœ‰é™æ€æ–¹æ³•å…±ç”¨åŒä¸€æŠŠé”ï¼ˆç±»å.classï¼‰</code>ï¼Œ<br><code>æ‰€æœ‰éé™æ€æ–¹æ³•å…±ç”¨åŒä¸€æŠŠé”ï¼ˆthisï¼‰</code><br>åŒæ­¥ä»£ç å—ï¼ˆæŒ‡å®šéœ€è°¨æ…ï¼‰<br>å¿…é¡»æ˜¯åŒä¸€æŠŠé”<br> <code>æ³¨æ„çš„æ˜¯</code><br>åœ¨Threadä¸­è¦è°¨æ…ä½¿ç”¨thisä½œä¸ºåŒæ­¥ç›‘è§†å™¨ ï¼Œå› ä¸ºéƒ½æ˜¯new thread() å¤šçº¿ç¨‹è°ƒç”¨çš„æ—¶å€™ä¸æ˜¯åŒä¸€æŠŠé”<br>è€Œåœ¨Runnableçš„æ—¶å€™ï¼Œ å¤šä¸ªçº¿ç¨‹é€šè¿‡å…±åŒå®ç°Runnableæ¥å£ï¼Œæ‰€ä»¥çš„è¯å¯ä»¥ä½¿ç”¨thisä½œä¸ºåŒæ­¥ç›‘è§†å™¨</li></ol><h3 id="é‡Šæ”¾é”çš„æ“ä½œ"><a href="#é‡Šæ”¾é”çš„æ“ä½œ" class="headerlink" title="é‡Šæ”¾é”çš„æ“ä½œ"></a>é‡Šæ”¾é”çš„æ“ä½œ</h3><p>å½“å‰çº¿ç¨‹çš„åŒæ­¥æ–¹æ³•ã€åŒæ­¥ä»£ç å—æ‰§è¡Œç»“æŸã€‚<br>å½“å‰çº¿ç¨‹åœ¨åŒæ­¥ä»£ç å—ã€åŒæ­¥æ–¹æ³•ä¸­é‡åˆ°breakã€returnç»ˆæ­¢äº†è¯¥ä»£ç å—ã€ è¯¥æ–¹æ³•çš„ç»§ç»­æ‰§è¡Œã€‚<br>å½“å‰çº¿ç¨‹åœ¨åŒæ­¥ä»£ç å—ã€åŒæ­¥æ–¹æ³•ä¸­å‡ºç°äº†æœªå¤„ç†çš„Erroræˆ–Exceptionï¼Œå¯¼è‡´å¼‚å¸¸ç»“æŸã€‚<br>å½“å‰çº¿ç¨‹åœ¨åŒæ­¥ä»£ç å—ã€åŒæ­¥æ–¹æ³•ä¸­æ‰§è¡Œäº†çº¿ç¨‹å¯¹è±¡çš„<code>wait()</code>æ–¹æ³•ï¼Œ<code>å½“å‰çº¿ç¨‹æš‚åœï¼Œå¹¶é‡Šæ”¾é”ã€‚</code><br> 2.  Lock(é”)</p><p>ä»JDK 5.0å¼€å§‹ï¼ŒJavaæä¾›äº†æ›´å¼ºå¤§çš„çº¿ç¨‹åŒæ­¥æœºåˆ¶â€”â€”é€šè¿‡æ˜¾å¼å®šä¹‰åŒæ­¥é”å¯¹è±¡æ¥å®ç°åŒæ­¥ã€‚åŒæ­¥é”ä½¿ç”¨Lockå¯¹è±¡å……å½“ã€‚<br>java.util.concurrent.locks.<code>Lockæ¥å£</code>æ˜¯æ§åˆ¶å¤šä¸ªçº¿ç¨‹å¯¹å…±äº«èµ„æºè¿›è¡Œè®¿é—®çš„ å·¥å…·ã€‚é”æä¾›äº†å¯¹å…±äº«èµ„æºçš„ç‹¬å è®¿é—®ï¼Œæ¯æ¬¡åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹Lockå¯¹è±¡åŠ é”ï¼Œçº¿ç¨‹å¼€å§‹è®¿é—®å…±äº«èµ„æºä¹‹å‰åº”å…ˆè·å¾—Lockå¯¹è±¡ã€‚</p><p><code>ReentrantLock </code>ç±»å®ç°äº† Lock ï¼Œå®ƒæ‹¥æœ‰ä¸ synchronized ç›¸åŒçš„å¹¶å‘æ€§å’Œ å†…å­˜è¯­ä¹‰ï¼Œåœ¨å®ç°çº¿ç¨‹å®‰å…¨çš„æ§åˆ¶ä¸­ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ReentrantLockï¼Œå¯ä»¥ æ˜¾å¼åŠ é”ã€é‡Šæ”¾é”ã€‚<br>éå…¬å¹³é”ï¼šååˆ†ä¸å…¬å¹³ï¼šå¯ä»¥æ’é˜Ÿ ï¼ˆé»˜è®¤ï¼‰</p><p>ä¸¥æ ¼æŒ‰ç…§è§„èŒƒæ¥å†™   lock.lock(); åœ¨tryå¤–é¢</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class A&#123;private final ReentrantLock lock &#x3D; new ReenTrantLock(); public void m()&#123;lock.lock(); try&#123;&#x2F;&#x2F;ä¿è¯çº¿ç¨‹å®‰å…¨çš„ä»£ç ; &#125; finally&#123;lock.unlock(); &#125;&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> å¤šçº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é”çš„å­¦ä¹ æ¡ˆä¾‹--ç†è§£</title>
      <link href="2020/11/20/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E9%94%81%E7%9A%84%E5%AD%A6%E4%B9%A0%E6%A1%88%E4%BE%8B--%E7%90%86%E8%A7%A3/"/>
      <url>2020/11/20/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E9%94%81%E7%9A%84%E5%AD%A6%E4%B9%A0%E6%A1%88%E4%BE%8B--%E7%90%86%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h2 id="åŠ æ·±ç†è§£"><a href="#åŠ æ·±ç†è§£" class="headerlink" title="åŠ æ·±ç†è§£"></a><code>åŠ æ·±ç†è§£</code></h2><ol><li>å¦‚æœè¯´åŒä¸€ä¸ªç±»ä¸­æœ‰å¤šä¸ªéstaticçš„synchronizedçš„æ—¶å€™ï¼ŒæŸä¸€ä¸ªæ—¶åˆ»å†…ï¼Œåªèƒ½ä¸€ä¸ªçº¿ç¨‹å»è°ƒç”¨å…¶ä¸­çš„ä¸€ä¸ªSynchronizedæ–¹æ³•</li><li>sleepæ˜¯ä¸ä¼šé‡Šæ”¾é”çš„</li><li>ä¸åŒç‚¹çš„çº¿ç¨‹å¯ä»¥åŒæ—¶è®¿é—®synchronizedæ–¹æ³•å’Œæ™®é€šæ–¹æ³•</li><li>å¦‚æœé”çš„ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¯ä»¥åŒæ—¶è®¿é—®</li><li>é™æ€åŒæ­¥æ–¹æ³•ï¼Œå¤šä¸ªçº¿ç¨‹éƒ½æ˜¯é”çš„åŒä¸€ä¸ªå­—èŠ‚ç </li><li>é™æ€åŒæ­¥æ–¹æ³•å’Œå¯¹è±¡ä¸æ˜¯åŒä¸€ä¸ªé”</li></ol>]]></content>
      
      
      <categories>
          
          <category> åŠ¨æ€è§„åˆ’ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤šçº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ†å¸ƒå¼é”</title>
      <link href="2020/11/20/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/"/>
      <url>2020/11/20/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/</url>
      
        <content type="html"><![CDATA[<p>redis  6.0.8</p><p><code>åˆ†å¸ƒå¼é”</code> ï¼š åœ¨åˆ†å¸ƒå¼æ¶æ„ä¸­ æ‹†åˆ†å“¥å“¥å¾®æœåŠ¡ä¹‹å ä¸ºäº†é¿å…å†²çªå’Œæ•°æ®æ•…éšœè€ŒåŠ å…¥çš„ä¸€ç§é”</p><p>mysql<br>zookeeper<br>redis<br>ä¸€ç­å¤§å®¶éƒ½ä¹ æƒ¯redisåˆ†å¸ƒå¼é”</p><p>redisâ€”redlock ====redission lock  unlock</p>]]></content>
      
      
      
        <tags>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>maven</title>
      <link href="2020/11/20/maven/%E4%BB%80%E4%B9%88%E6%98%AFmaven/"/>
      <url>2020/11/20/maven/%E4%BB%80%E4%B9%88%E6%98%AFmaven/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨maven"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨maven" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨maven"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨maven</h2><p>Mavenæ˜¯å¹²ä»€ä¹ˆç”¨çš„ï¼Ÿä»¬æœ‰å¿…è¦é€šè¿‡ä¼ä¸šå¼€å‘ä¸­çš„å®é™…éœ€æ±‚æ¥çœ‹ä¸€çœ‹å“ªäº›æ–¹é¢æ˜¯æˆ‘ä»¬ç°æœ‰æŠ€æœ¯çš„ä¸è¶³ã€‚<br>1.1 æ·»åŠ ç¬¬ä¸‰æ–¹jaråŒ…<br>åœ¨ä»Šå¤©çš„JavaEEå¼€å‘é¢†åŸŸï¼Œæœ‰å¤§é‡çš„ç¬¬ä¸‰æ–¹æ¡†æ¶å’Œå·¥å…·å¯ä»¥ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚è¦ä½¿ç”¨è¿™äº›jaråŒ…æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å¤åˆ¶ç²˜è´´åˆ° <code>WEB-INFç›®å½•ä¸‹çš„libç›®å½•</code>ä¸‹ã€‚ä½†æ˜¯è¿™ä¼šå¯¼è‡´æ¯æ¬¡åˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ç¨‹å°±éœ€è¦å°†jaråŒ…é‡å¤å¤åˆ¶åˆ°libç›®å½•ä¸‹ï¼Œä»è€Œé€ æˆå·¥ä½œåŒºä¸­å­˜åœ¨<code>å¤§é‡é‡å¤</code>çš„ä»¶ã€‚<br>ä½¿ç”¨Mavenåæ¯ä¸ªjaråŒ…åªåœ¨<code>æœ¬åœ°ä»“åº“</code>ä¸­ä¿å­˜<code>ä¸€ä»½</code>ï¼Œéœ€è¦jaråŒ…çš„å·¥ç¨‹åªéœ€è¦ç»´æŠ¤ä¸€ä¸ªæ–‡æœ¬å½¢å¼çš„jaråŒ…çš„å¼•ç”¨â€”â€”æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œ<code>åæ ‡</code>â€ã€‚ä¸ä»…æå¤§çš„èŠ‚çº¦äº†å­˜å‚¨ç©ºé—´ï¼Œè®©é¡¹ç›®æ›´è½»å·§ï¼Œæ›´é¿å…äº†é‡å¤æ–‡ä»¶å¤ªå¤šè€Œé€ æˆçš„æ··ä¹±ã€‚<br>1.2 jaråŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»<br>jaråŒ…å¾€å¾€ä¸æ˜¯å­¤ç«‹å­˜åœ¨çš„ï¼Œå¾ˆå¤šjaråŒ…éƒ½éœ€è¦åœ¨å…¶ä»–jaråŒ…çš„æ”¯æŒä¸‹æ‰èƒ½å¤Ÿæ­£å¸¸å·¥ä½œï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºjaråŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚<br>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä½ çŸ¥é“ä½ æ‰€ä½¿ç”¨çš„æ‰€æœ‰jaråŒ…çš„ä¾èµ–å…³ç³»å—ï¼Ÿ<br>å½“ä½ æ‹¿åˆ°ä¸€ä¸ªæ–°çš„ä»æœªä½¿ç”¨è¿‡çš„jaråŒ…ï¼Œä½ å¦‚ä½•å¾—çŸ¥ä»–éœ€è¦å“ªäº›jaråŒ…çš„æ”¯æŒå‘¢ï¼Ÿå¦‚æœä¸äº†è§£è¿™ä¸ªæƒ…å†µï¼Œå¯¼å…¥çš„jaråŒ…ä¸å¤Ÿï¼Œé‚£ä¹ˆç°æœ‰çš„ç¨‹åºå°†ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚å†è¿›ä¸€æ­¥ï¼Œå½“ä½ çš„é¡¹ç›®ä¸­éœ€è¦ç”¨åˆ°ä¸Šç™¾ä¸ªjaråŒ…æ—¶ï¼Œä½ è¿˜ä¼šäººä¸ºçš„ï¼Œæ‰‹å·¥çš„é€ä¸€ç¡®è®¤å®ƒä»¬ä¾èµ–çš„å…¶ä»–jaråŒ…å—ï¼Ÿè¿™ç®€ç›´æ˜¯ä¸å¯æƒ³è±¡çš„ã€‚<br><strong>å¼•å…¥Mavenå</strong>ï¼ŒMavenå°±å¯<strong>ä»¥æ›¿æˆ‘ä»¬è‡ªåŠ¨çš„å°†å½“å‰jaråŒ…æ‰€ä¾èµ–çš„å…¶ä»–æ‰€æœ‰jaråŒ…å…¨éƒ¨å¯¼å…¥è¿›æ¥ï¼Œæ— éœ€äººå·¥å‚ä¸ï¼Œ</strong>èŠ‚çº¦äº†æˆ‘ä»¬å¤§é‡çš„æ—¶é—´å’Œç²¾åŠ›<br>1.3 å¤„ç†jaråŒ…ä¹‹é—´çš„å†²çª<br>ä¸Šä¸€ç‚¹è¯´çš„æ˜¯jaråŒ…ä¸è¶³é¡¹ç›®æ— æ³•æ­£å¸¸å·¥ä½œï¼Œä½†å…¶å®æœ‰çš„æ—¶å€™jaråŒ…å¤šäº†é¡¹ç›®ä»ç„¶æ— æ³•æ­£å¸¸å·¥ä½œï¼Œè¿™å°±æ˜¯jaråŒ…ä¹‹é—´çš„å†²çªã€‚<br>ä¸¾ä¸ªä¾‹å­ï¼šæˆ‘ä»¬ç°åœ¨æœ‰ä¸‰ä¸ªå·¥ç¨‹MakeFriendã€HelloFriendã€å’ŒHelloã€‚MakeFriendä¾èµ–HelloFriendï¼ŒHelloFriendä¾èµ–Helloã€‚è€ŒHelloä¾èµ–log4j.1.2.17.jarï¼ŒHelloFriendä¾èµ–log4j.1.2.14.jarã€‚<br>é‚£ä¹ˆMakeFriendå·¥ç¨‹çš„è¿è¡Œæ—¶ç¯å¢ƒä¸­è¯¥å¯¼å…¥log4j.1.2.14.jarå‘¢è¿˜æ˜¯log4j.1.2.17.jarå‘¢ï¼Ÿ<br>è¿™æ ·çš„é—®é¢˜ä¸€ä¸ªä¸¤ä¸ªè¿˜å¯ä»¥æ‰‹å·¥è§£å†³ï¼Œä½†å¦‚æœç³»ç»Ÿä¸­å­˜åœ¨å‡ åä¸Šç™¾çš„jaråŒ…ï¼Œä»–ä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ä¼šéå¸¸å¤æ‚ï¼Œå‡ ä¹ä¸å¯èƒ½æ‰‹å·¥å®ç°ä¾èµ–å…³ç³»çš„æ¢³ç†ã€‚<br>ä½¿ç”¨Mavenå°±å¯ä»¥è‡ªåŠ¨çš„å¤„ç†jaråŒ…ä¹‹é—´çš„å†²çªé—®é¢˜ã€‚å› ä¸ºMavenä¸­å†…ç½®äº†ä¸¤æ¡ä¾èµ–åŸåˆ™ï¼š   **<code>æœ€çŸ­è·¯å¾„è€…ä¼˜å…ˆå’Œå…ˆå£°æ˜è€…ä¼˜å…ˆ</code>**ï¼Œä¸Šè¿°é—®é¢˜MakeFriendå·¥ç¨‹ä¼šè‡ªåŠ¨ä½¿ç”¨log4j.1.2.14.jarã€‚<br>1.4 è·å–ç¬¬ä¸‰æ–¹jaråŒ…<br>JavaEEå¼€å‘ä¸­éœ€è¦ä½¿ç”¨åˆ°çš„jaråŒ…ç§ç±»ç¹å¤šï¼Œå‡ ä¹æ¯ä¸ªjaråŒ…åœ¨å…¶æœ¬èº«çš„å®˜ç½‘ä¸Šçš„è·å–æ–¹å¼éƒ½ä¸å°½ç›¸åŒã€‚ä¸ºäº†æŸ¥æ‰¾ä¸€ä¸ªjaråŒ…æ‰¾éäº’è”ç½‘ï¼Œèº«å¿ƒä¿±ç–²ï¼Œæ²¡æœ‰ç»å†è¿‡çš„äººæˆ–è®¸ä½“ä¼šä¸åˆ°è¿™ç§æŠ˜ç£¨ã€‚ä¸ä»…å¦‚æ­¤ï¼Œè´¹åŠ²å¿ƒè¡€æ‰¾çš„jaråŒ…é‡Œæœ‰çš„æ—¶å€™å¹¶æ²¡æœ‰ä½ éœ€è¦çš„é‚£ä¸ªç±»ï¼Œåˆæˆ–è€…åˆåŒåçš„ç±»æ²¡æœ‰ä½ è¦çš„æ–¹æ³•â€”â€”ä»¥ä¸è§„èŒƒçš„æ–¹å¼è·å–çš„jaråŒ…ä¹Ÿå¾€å¾€æ˜¯ä¸è§„èŒƒçš„ã€‚<br>ä½¿ç”¨Mavenæˆ‘ä»¬å¯ä»¥äº«å—åˆ°ä¸€ä¸ªå®Œå…¨ç»Ÿä¸€è§„èŒƒçš„jaråŒ…ç®¡ç†ä½“ç³»ã€‚ä½ åªéœ€è¦åœ¨ä½ çš„é¡¹ç›®ä¸­ä»¥åæ ‡çš„æ–¹å¼ä¾èµ–ä¸€ä¸ªjaråŒ…ï¼ŒMavenå°±ä¼šè‡ªåŠ¨ä»<code>ä¸­å¤®ä»“åº“</code>è¿›è¡Œä¸‹è½½ï¼Œå¹¶åŒæ—¶ä¸‹è½½è¿™ä¸ªjaråŒ…æ‰€ä¾èµ–çš„å…¶ä»–jaråŒ…â€”â€”è§„èŒƒã€å®Œæ•´ã€å‡†ç¡®ï¼ä¸€æ¬¡æ€§è§£å†³æ‰€æœ‰é—®é¢˜ï¼<br>1.5 å°†é¡¹ç›®æ‹†åˆ†æˆå¤šä¸ªå·¥ç¨‹æ¨¡å—<br>éšç€JavaEEé¡¹ç›®çš„è§„æ¨¡è¶Šæ¥è¶Šåºå¤§ï¼Œå¼€å‘å›¢é˜Ÿçš„è§„æ¨¡ä¹Ÿä¸æ—¥ä¿±å¢ã€‚ä¸€ä¸ªé¡¹ç›®ä¸Šåƒäººçš„å›¢é˜ŸæŒç»­å¼€å‘å¾ˆå¤šå¹´å¯¹äºJavaEEé¡¹ç›®æ¥è¯´å†æ­£å¸¸ä¸è¿‡ã€‚é‚£ä¹ˆæˆ‘ä»¬æƒ³è±¡ä¸€ä¸‹ï¼šå‡ ç™¾ä¸Šåƒçš„äººå¼€å‘çš„é¡¹ç›®æ˜¯åŒä¸€ä¸ªWebå·¥ç¨‹ã€‚é‚£ä¹ˆæ¶æ„å¸ˆã€é¡¹ç›®ç»ç†è¯¥å¦‚ä½•åˆ’åˆ†é¡¹ç›®çš„æ¨¡å—ã€å¦‚ä½•åˆ†å·¥å‘¢ï¼Ÿè¿™ä¹ˆå¤§çš„é¡¹ç›®å·²ç»ä¸å¯èƒ½é€šè¿‡packageç»“æ„æ¥åˆ’åˆ†æ¨¡å—ï¼Œå¿…é¡»å°†é¡¹ç›®æ‹†åˆ†æˆå¤šä¸ªå·¥ç¨‹ååŒå¼€å‘ã€‚å¤šä¸ªæ¨¡å—å·¥ç¨‹ä¸­æœ‰çš„æ˜¯Javaå·¥ç¨‹ï¼Œæœ‰çš„æ˜¯Webå·¥ç¨‹ã€‚<br>é‚£ä¹ˆ<code>å·¥ç¨‹æ‹†åˆ†ååˆå¦‚ä½•è¿›è¡Œäº’ç›¸è°ƒç”¨å’Œè®¿é—®å‘¢</code>ï¼Ÿè¿™å°±éœ€è¦ç”¨åˆ°Mavençš„<code>ä¾èµ–ç®¡ç†æœºåˆ¶</code>ã€‚å¤§å®¶è¯·çœ‹æˆ‘ä»¬çš„Surveyè°ƒæŸ¥é¡¹ç›®æ‹†åˆ†çš„æƒ…å†µï¼š</p><p>ä¸Šå±‚æ¨¡å—ä¾èµ–ä¸‹å±‚ï¼Œæ‰€ä»¥ä¸‹å±‚æ¨¡å—ä¸­å®šä¹‰çš„APIéƒ½å¯ä»¥ä¸ºä¸Šå±‚æ‰€è°ƒç”¨å’Œè®¿é—®ã€‚<br>1.6 å®ç°é¡¹ç›®çš„åˆ†å¸ƒå¼éƒ¨ç½²<br>åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œé¡¹ç›®è§„æ¨¡å¢åŠ åˆ°ä¸€å®šç¨‹åº¦åï¼Œå¯èƒ½æ¯ä¸ªæ¨¡å—éƒ½éœ€è¦è¿è¡Œåœ¨ç‹¬ç«‹çš„æœåŠ¡å™¨ä¸Šï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º`åˆ†å¸ƒå¼éƒ¨ç½²ï¼Œè¿™é‡ŒåŒæ ·éœ€è¦ç”¨åˆ°Mavenã€‚</p><h2 id="ä»€ä¹ˆæ˜¯maven"><a href="#ä»€ä¹ˆæ˜¯maven" class="headerlink" title="ä»€ä¹ˆæ˜¯maven"></a>ä»€ä¹ˆæ˜¯maven</h2><p> Mavenæ˜¯ä¸€æ¬¾è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œä¸“æ³¨æœåŠ¡äºJavaå¹³å°çš„é¡¹ç›®æ„å»ºå’Œä¾èµ–ç®¡ç†ã€‚</p><h3 id="é‚£ä¹ˆä»€ä¹ˆæ˜¯æ„å»ºå‘¢ï¼Ÿ"><a href="#é‚£ä¹ˆä»€ä¹ˆæ˜¯æ„å»ºå‘¢ï¼Ÿ" class="headerlink" title="é‚£ä¹ˆä»€ä¹ˆæ˜¯æ„å»ºå‘¢ï¼Ÿ"></a>é‚£ä¹ˆä»€ä¹ˆæ˜¯æ„å»ºå‘¢ï¼Ÿ</h3><p>æ„å»ºå¹¶ä¸æ˜¯åˆ›å»ºï¼Œåˆ›å»ºä¸€ä¸ªå·¥ç¨‹å¹¶ä¸ç­‰äºæ„å»ºä¸€ä¸ªé¡¹ç›®ã€‚è¦äº†è§£æ„å»ºçš„å«ä¹‰æˆ‘ä»¬åº”è¯¥ç”±æµ…å…¥æ·±çš„ä»ä»¥ä¸‹ä¸‰ä¸ªå±‚é¢æ¥çœ‹ï¼š<br>â‘ çº¯Javaä»£ç <br>å¤§å®¶éƒ½çŸ¥é“ï¼Œæˆ‘ä»¬Javaæ˜¯ä¸€é—¨ç¼–è¯‘å‹è¯­è¨€ï¼Œ.javaæ‰©å±•åçš„æºæ–‡ä»¶éœ€è¦ç¼–è¯‘æˆ.classæ‰©å±•åçš„å­—èŠ‚ç æ–‡ä»¶æ‰èƒ½å¤Ÿæ‰§è¡Œã€‚æ‰€ä»¥ç¼–å†™ä»»ä½•Javaä»£ç æƒ³è¦æ‰§è¡Œçš„è¯å°±å¿…é¡»ç»è¿‡ç¼–è¯‘å¾—åˆ°å¯¹åº”çš„.classæ–‡ä»¶ã€‚<br>â‘¡Webå·¥ç¨‹<br>å½“æˆ‘ä»¬éœ€è¦é€šè¿‡æµè§ˆå™¨è®¿é—®Javaç¨‹åºæ—¶å°±å¿…é¡»å°†åŒ…å«Javaç¨‹åºçš„Webå·¥ç¨‹ç¼–è¯‘çš„ç»“æœâ€œæ‹¿â€åˆ°æœåŠ¡å™¨ä¸Šçš„æŒ‡å®šç›®å½•ä¸‹ï¼Œå¹¶å¯åŠ¨æœåŠ¡å™¨æ‰è¡Œã€‚è¿™ä¸ªâ€œæ‹¿â€çš„è¿‡ç¨‹æˆ‘ä»¬å«éƒ¨ç½²ã€‚<br>æˆ‘ä»¬å¯ä»¥å°†æœªç¼–è¯‘çš„Webå·¥ç¨‹æ¯”å–»ä¸ºä¸€åªç”Ÿçš„é¸¡ï¼Œç¼–è¯‘å¥½çš„Webå·¥ç¨‹æ˜¯ä¸€åªç…®ç†Ÿçš„é¸¡ï¼Œç¼–è¯‘éƒ¨ç½²çš„è¿‡ç¨‹å°±æ˜¯å°†é¸¡ç‚–ç†Ÿã€‚<br>Webå·¥ç¨‹å’Œå…¶ç¼–è¯‘ç»“æœçš„ç›®å½•ç»“æ„å¯¹æ¯”è§ä¸‹å›¾ï¼š</p><p>â‘¢å®é™…é¡¹ç›®<br>åœ¨å®é™…é¡¹ç›®ä¸­æ•´åˆç¬¬ä¸‰æ–¹æ¡†æ¶ï¼ŒWebå·¥ç¨‹ä¸­é™¤äº†Javaç¨‹åºå’ŒJSPé¡µé¢ã€å›¾ç‰‡ç­‰é™æ€èµ„æºä¹‹å¤–ï¼Œè¿˜åŒ…æ‹¬ç¬¬ä¸‰æ–¹æ¡†æ¶çš„jaråŒ…ä»¥åŠå„ç§å„æ ·çš„é…ç½®æ–‡ä»¶ã€‚æ‰€æœ‰è¿™äº›èµ„æºéƒ½å¿…é¡»æŒ‰ç…§æ­£ç¡®çš„ç›®å½•ç»“æ„éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼Œé¡¹ç›®æ‰å¯ä»¥è¿è¡Œã€‚<br>æ‰€ä»¥ç»¼ä¸Šæ‰€è¿°ï¼šæ„å»ºå°±æ˜¯ä»¥æˆ‘ä»¬ç¼–å†™çš„Javaä»£ç ã€æ¡†æ¶é…ç½®æ–‡ä»¶ã€å›½é™…åŒ–ç­‰å…¶ä»–èµ„æºæ–‡ä»¶ã€JSPé¡µé¢å’Œå›¾ç‰‡ç­‰é™æ€èµ„æºä½œä¸ºâ€œåŸææ–™â€ï¼Œå»â€œç”Ÿäº§â€å‡ºä¸€ä¸ªå¯ä»¥è¿è¡Œçš„é¡¹ç›®çš„è¿‡ç¨‹ã€‚<br>é‚£ä¹ˆé¡¹ç›®æ„å»ºçš„å…¨è¿‡ç¨‹ä¸­éƒ½åŒ…å«å“ªäº›ç¯èŠ‚å‘¢ï¼Ÿ</p><h3 id="æ„å»ºç¯èŠ‚"><a href="#æ„å»ºç¯èŠ‚" class="headerlink" title="æ„å»ºç¯èŠ‚"></a>æ„å»ºç¯èŠ‚</h3><p>â‘ æ¸…ç†ï¼šåˆ é™¤ä»¥å‰çš„ç¼–è¯‘ç»“æœï¼Œä¸ºé‡æ–°ç¼–è¯‘åšå¥½å‡†å¤‡ã€‚<br>â‘¡ç¼–è¯‘ï¼šå°†Javaæºç¨‹åºç¼–è¯‘ä¸ºå­—èŠ‚ç æ–‡ä»¶ã€‚<br>â‘¢æµ‹è¯•ï¼šé’ˆå¯¹é¡¹ç›®ä¸­çš„å…³é”®ç‚¹è¿›è¡Œæµ‹è¯•ï¼Œç¡®ä¿é¡¹ç›®åœ¨è¿­ä»£å¼€å‘è¿‡ç¨‹ä¸­å…³é”®ç‚¹çš„æ­£ç¡®æ€§ã€‚<br>â‘£æŠ¥å‘Šï¼šåœ¨æ¯ä¸€æ¬¡æµ‹è¯•åä»¥æ ‡å‡†çš„æ ¼å¼è®°å½•å’Œå±•ç¤ºæµ‹è¯•ç»“æœã€‚<br>â‘¤æ‰“åŒ…ï¼šå°†ä¸€ä¸ªåŒ…å«è¯¸å¤šæ–‡ä»¶çš„å·¥ç¨‹å°è£…ä¸ºä¸€ä¸ªå‹ç¼©æ–‡ä»¶ç”¨äºå®‰è£…æˆ–éƒ¨ç½²ã€‚Javaå·¥ç¨‹å¯¹åº”jaråŒ…ï¼ŒWebå·¥ç¨‹å¯¹åº”waråŒ…ã€‚<br>â‘¥å®‰è£…ï¼šåœ¨Mavenç¯å¢ƒä¸‹ç‰¹æŒ‡å°†æ‰“åŒ…çš„ç»“æœâ€”â€”jaråŒ…æˆ–waråŒ…å®‰è£…åˆ°æœ¬åœ°ä»“åº“ä¸­ã€‚<br>â‘¦éƒ¨ç½²ï¼šå°†æ‰“åŒ…çš„ç»“æœéƒ¨ç½²åˆ°è¿œç¨‹ä»“åº“æˆ–å°†waråŒ…éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šè¿è¡Œã€‚</p><h2 id="ä¾èµ–ç®¡ç†"><a href="#ä¾èµ–ç®¡ç†" class="headerlink" title="ä¾èµ–ç®¡ç†"></a>ä¾èµ–ç®¡ç†</h2><h3 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h3><p>å½“A jaråŒ…éœ€è¦ç”¨åˆ°B jaråŒ…ä¸­çš„ç±»æ—¶ï¼Œæˆ‘ä»¬å°±è¯´Aå¯¹Bæœ‰ä¾èµ–ã€‚<br>é€šè¿‡ç¬¬äºŒä¸ªMavenå·¥ç¨‹æˆ‘ä»¬å·²ç»çœ‹åˆ°ï¼Œå½“å‰å·¥ç¨‹ä¼šåˆ°æœ¬åœ°ä»“åº“ä¸­æ ¹æ®åæ ‡æŸ¥æ‰¾å®ƒæ‰€ä¾èµ–çš„jaråŒ…ã€‚<br>é…ç½®çš„åŸºæœ¬å½¢å¼æ˜¯ä½¿ç”¨dependencyæ ‡ç­¾æŒ‡å®šç›®æ ‡jaråŒ…çš„åæ ‡ã€‚ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">   &lt;dependencies&gt;&lt;dependency&gt;&lt;!â€”åæ ‡ --&gt;&lt;groupId&gt;junit&lt;&#x2F;groupId&gt;&lt;artifactId&gt;junit&lt;&#x2F;artifactId&gt;&lt;version&gt;4.10&lt;&#x2F;version&gt;&lt;!-- ä¾èµ–çš„èŒƒå›´ --&gt;&lt;scope&gt;test&lt;&#x2F;scope&gt;&lt;&#x2F;dependency&gt;&lt;&#x2F;dependencies&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç›´æ¥ä¾èµ–å’Œé—´æ¥ä¾èµ–"><a href="#ç›´æ¥ä¾èµ–å’Œé—´æ¥ä¾èµ–" class="headerlink" title="ç›´æ¥ä¾èµ–å’Œé—´æ¥ä¾èµ–"></a>ç›´æ¥ä¾èµ–å’Œé—´æ¥ä¾èµ–</h3><p>å¦‚æœAä¾èµ–Bï¼ŒBä¾èµ–Cï¼Œé‚£ä¹ˆAâ†’Bå’ŒBâ†’Céƒ½æ˜¯ç›´æ¥ä¾èµ–ï¼Œè€ŒAâ†’Cæ˜¯é—´æ¥ä¾èµ–ã€‚</p><h3 id="ä¾èµ–çš„èŒƒå›´"><a href="#ä¾èµ–çš„èŒƒå›´" class="headerlink" title="ä¾èµ–çš„èŒƒå›´"></a>ä¾èµ–çš„èŒƒå›´</h3><p>å½“ä¸€ä¸ªMavenå·¥ç¨‹æ·»åŠ äº†å¯¹æŸä¸ªjaråŒ…çš„ä¾èµ–åï¼Œè¿™ä¸ªè¢«ä¾èµ–çš„jaråŒ…å¯ä»¥å¯¹åº”ä¸‹é¢å‡ ä¸ªå¯é€‰çš„èŒƒå›´ï¼š<br>â‘ compile<br>[1]<strong>mainç›®å½•ä¸‹çš„Javaä»£ç å¯ä»¥è®¿é—®è¿™ä¸ªèŒƒå›´çš„ä¾èµ–</strong><br>[2]<strong>testç›®å½•ä¸‹çš„Javaä»£ç å¯ä»¥è®¿é—®è¿™ä¸ªèŒƒå›´çš„ä¾èµ–</strong><br>[3]<strong>éƒ¨ç½²åˆ°TomcatæœåŠ¡å™¨ä¸Šè¿è¡Œæ—¶è¦æ”¾åœ¨WEB-INFçš„libç›®å½•ä¸‹</strong><br>ä¾‹å¦‚ï¼šå¯¹Helloçš„ä¾èµ–ã€‚ä¸»ç¨‹åºã€æµ‹è¯•ç¨‹åºå’ŒæœåŠ¡å™¨è¿è¡Œæ—¶éƒ½éœ€è¦ç”¨åˆ°ã€‚<br>â‘¡test<br>[1]<strong>mainç›®å½•ä¸‹çš„Javaä»£ç ä¸èƒ½è®¿é—®è¿™ä¸ªèŒƒå›´çš„ä¾èµ–<br>[2]testç›®å½•ä¸‹çš„Javaä»£ç å¯ä»¥è®¿é—®è¿™ä¸ªèŒƒå›´çš„ä¾èµ–<br>[3]éƒ¨ç½²åˆ°TomcatæœåŠ¡å™¨ä¸Šè¿è¡Œæ—¶ä¸ä¼šæ”¾åœ¨WEB-INFçš„libç›®å½•ä¸‹</strong><br>ä¾‹å¦‚ï¼šå¯¹junitçš„ä¾èµ–ã€‚ä»…ä»…æ˜¯æµ‹è¯•ç¨‹åºéƒ¨åˆ†éœ€è¦ã€‚<br>â‘¢provided<br>[1]mainç›®å½•ä¸‹çš„Javaä»£ç å¯ä»¥è®¿é—®è¿™ä¸ªèŒƒå›´çš„ä¾èµ–<br>[2]testç›®å½•ä¸‹çš„Javaä»£ç å¯ä»¥è®¿é—®è¿™ä¸ªèŒƒå›´çš„ä¾èµ–<br>[3]éƒ¨ç½²åˆ°TomcatæœåŠ¡å™¨ä¸Šè¿è¡Œæ—¶ä¸ä¼šæ”¾åœ¨WEB-INFçš„libç›®å½•ä¸‹<br>ä¾‹å¦‚ï¼šservlet-apiåœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œæ—¶ï¼ŒServletå®¹å™¨ä¼šæä¾›ç›¸å…³APIï¼Œæ‰€ä»¥éƒ¨ç½²çš„æ—¶å€™ä¸éœ€è¦ã€‚</p><h3 id="ä¾èµ–çš„ä¼ é€’æ€§"><a href="#ä¾èµ–çš„ä¼ é€’æ€§" class="headerlink" title="ä¾èµ–çš„ä¼ é€’æ€§"></a>ä¾èµ–çš„ä¼ é€’æ€§</h3><p>å½“å­˜åœ¨é—´æ¥ä¾èµ–çš„æƒ…å†µæ—¶ï¼Œä¸»å·¥ç¨‹å¯¹é—´æ¥ä¾èµ–çš„jarå¯ä»¥è®¿é—®å—ï¼Ÿè¿™è¦çœ‹é—´æ¥ä¾èµ–çš„jaråŒ…å¼•å…¥æ—¶çš„ä¾èµ–èŒƒå›´â€”â€”<code>åªæœ‰ä¾èµ–èŒƒå›´ä¸ºcompileæ—¶å¯ä»¥è®¿é—®</code>ã€‚ä¾‹å¦‚ï¼š</p><h3 id="ä¾èµ–çš„åŸåˆ™ï¼šè§£å†³jaråŒ…å†²çª"><a href="#ä¾èµ–çš„åŸåˆ™ï¼šè§£å†³jaråŒ…å†²çª" class="headerlink" title="ä¾èµ–çš„åŸåˆ™ï¼šè§£å†³jaråŒ…å†²çª"></a>ä¾èµ–çš„åŸåˆ™ï¼šè§£å†³jaråŒ…å†²çª</h3><p><code>è·¯å¾„æœ€çŸ­è€…ä¼˜å…ˆ</code><br> ä¸¾ä¸ªä¾‹å­ï¼šæˆ‘ä»¬ç°åœ¨æœ‰ä¸‰ä¸ªå·¥ç¨‹MakeFriendã€HelloFriendã€å’ŒHelloã€‚MakeFriendä¾èµ–HelloFriendï¼ŒHelloFriendä¾èµ–Helloã€‚è€ŒHelloä¾èµ–log4j.1.2.17.jarï¼ŒHelloFriendä¾èµ–log4j.1.2.14.jarã€‚<br><code>è·¯å¾„ç›¸åŒæ—¶å…ˆå£°æ˜è€…ä¼˜å…ˆ</code></p><p>è¿™é‡Œâ€œå£°æ˜â€çš„å…ˆåé¡ºåºæŒ‡çš„æ˜¯<code>dependencyæ ‡ç­¾é…ç½®çš„å…ˆåé¡ºåºã€‚</code></p><h3 id="ä¾èµ–çš„æ’é™¤"><a href="#ä¾èµ–çš„æ’é™¤" class="headerlink" title="ä¾èµ–çš„æ’é™¤"></a>ä¾èµ–çš„æ’é™¤</h3><p>æœ‰çš„æ—¶å€™ä¸ºäº†ç¡®ä¿ç¨‹åºæ­£ç¡®å¯ä»¥å°†æœ‰å¯èƒ½é‡å¤çš„é—´æ¥ä¾èµ–æ’é™¤ã€‚</p><pre class="line-numbers language-none"><code class="language-none">&lt;exclusions&gt;&lt;exclusion&gt;&lt;groupId&gt;commons-logging&lt;&#x2F;groupId&gt;&lt;artifactId&gt;commons-logging&lt;&#x2F;artifactId&gt;&lt;&#x2F;exclusion&gt;&lt;&#x2F;exclusions&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç»Ÿä¸€ç®¡ç†ç›®æ ‡jaråŒ…çš„ç‰ˆæœ¬"><a href="#ç»Ÿä¸€ç®¡ç†ç›®æ ‡jaråŒ…çš„ç‰ˆæœ¬" class="headerlink" title="ç»Ÿä¸€ç®¡ç†ç›®æ ‡jaråŒ…çš„ç‰ˆæœ¬"></a>ç»Ÿä¸€ç®¡ç†ç›®æ ‡jaråŒ…çš„ç‰ˆæœ¬</h3><p>ä»¥å¯¹Springçš„jaråŒ…ä¾èµ–ä¸ºä¾‹ï¼šSpringçš„æ¯ä¸€ä¸ªç‰ˆæœ¬ä¸­éƒ½åŒ…å«spring-coreã€spring-contextç­‰jaråŒ…ã€‚æˆ‘ä»¬åº”è¯¥å¯¼å…¥ç‰ˆæœ¬ä¸€è‡´çš„Spring jaråŒ…</p><pre class="line-numbers language-none"><code class="language-none">      &lt;properties&gt;          &lt;spring.version&gt;4.1.1.RELEASE&lt;&#x2F;spring.version&gt;      &lt;&#x2F;properties&gt;      &lt;dependency&gt;&lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;&lt;artifactId&gt;spring-webmvc&lt;&#x2F;artifactId&gt;&lt;version&gt;$&#123;spring.version&#125;&lt;&#x2F;version&gt;&lt;&#x2F;dependency&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åˆ›å»ºçˆ¶å·¥ç¨‹"><a href="#åˆ›å»ºçˆ¶å·¥ç¨‹" class="headerlink" title="åˆ›å»ºçˆ¶å·¥ç¨‹"></a>åˆ›å»ºçˆ¶å·¥ç¨‹</h2><p>åˆ›å»ºçˆ¶å·¥ç¨‹å’Œåˆ›å»ºä¸€èˆ¬çš„Javaå·¥ç¨‹æ“ä½œä¸€è‡´ï¼Œå”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<code>æ‰“åŒ…æ–¹å¼å¤„è¦è®¾ç½®ä¸ºpomã€‚</code><br>åœ¨å­å·¥ç¨‹ä¸­å¼•ç”¨çˆ¶å·¥ç¨‹<br>`<parent><br>    <!-- çˆ¶å·¥ç¨‹åæ ‡ --><br>    <groupId>â€¦</groupId><br>    <artifactId>â€¦</artifactId><br>    <version>â€¦</version><br>    <relativePath>ä»å½“å‰ç›®å½•åˆ°çˆ¶é¡¹ç›®çš„pom.xmlæ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„</relativePath><br></parent></p><parent>    <groupId>com.atguigu.maven</groupId>    <artifactId>Parent</artifactId>    <version>0.0.1-SNAPSHOT</version><pre><code>&lt;!-- æŒ‡å®šä»å½“å‰å­å·¥ç¨‹çš„pom.xmlæ–‡ä»¶å‡ºå‘ï¼ŒæŸ¥æ‰¾çˆ¶å·¥ç¨‹çš„pom.xmlçš„è·¯å¾„ --&gt;&lt;relativePath&gt;../Parent/pom.xml&lt;/relativePath&gt;</code></pre><p></parent><code>åœ¨çˆ¶å·¥ç¨‹ä¸­ç®¡ç†ä¾èµ– å°†Parenté¡¹ç›®ä¸­çš„dependenciesæ ‡ç­¾ï¼Œç”¨dependencyManagementæ ‡ç­¾æ‹¬èµ·æ¥</code><dependencyManagement><br>    <dependencies><br>        <dependency><br>            <groupId>junit</groupId><br>            <artifactId>junit</artifactId><br>            <version>4.9</version><br>            <scope>test</scope><br>        </dependency><br>    </dependencies><br></dependencyManagement><code>åœ¨å­é¡¹ç›®ä¸­é‡æ–°æŒ‡å®šéœ€è¦çš„ä¾èµ–ï¼Œåˆ é™¤èŒƒå›´å’Œç‰ˆæœ¬å·</code><dependencies><br>    <dependency><br>        <groupId>junit</groupId><br>        <artifactId>junit</artifactId><br>    </dependency><br></dependencies>`</p>]]></content>
      
      
      
        <tags>
            
            <tag> é¡¹ç›®æ„å»ºå·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVCç®€ä»‹</title>
      <link href="2020/11/20/springmvc/springmvc%E5%BA%94%E7%94%A8/"/>
      <url>2020/11/20/springmvc/springmvc%E5%BA%94%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="1-what"><a href="#1-what" class="headerlink" title="1.what"></a>1.what</h2><p>1ï¼‰    Spring ä¸ºåŸºäº <code>MVC è®¾è®¡ç†å¿µ</code>çš„ä¼˜ç§€çš„Web æ¡†æ¶ï¼Œæ˜¯ç›®å‰æœ€ä¸»æµçš„MVC æ¡†æ¶ä¹‹ä¸€ ï¼Œæ˜¯åº”ç”¨  <code>è¡¨ç°å±‚</code>çš„æ¡†æ¶</p><p><strong><code>MVCè®¾è®¡æ¨¡å¼</code></strong></p><p>MVC å…¨åæ˜¯ Model View Controllerï¼Œæ˜¯ æ¨¡å‹(model)ï¼è§†å›¾(view)ï¼æ§åˆ¶å™¨(controller) çš„ç¼©å†™ï¼Œ æ˜¯â¼€ ç§â½¤äºè®¾è®¡åˆ›å»º Web åº”â½¤ç¨‹åºè¡¨ç°å±‚çš„æ¨¡å¼ã€‚MVC ä¸­æ¯ä¸ªéƒ¨åˆ†å„å¸å…¶èŒï¼š</p><p>Modelï¼ˆæ¨¡å‹ï¼‰ï¼šæ¨¡å‹åŒ…å«<code>ä¸šåŠ¡æ¨¡å‹å’Œæ•°æ®æ¨¡å‹</code>ï¼Œæ•°æ®æ¨¡å‹â½¤äºå°è£…æ•°æ®[pojo voå‰å°ä¼ é€’æ•°æ® poæƒ³æ•°æ®åº“æŒä¹…åŒ–æ•°æ®]ï¼Œä¸šåŠ¡æ¨¡å‹â½¤äºå¤„ç†ä¸šåŠ¡ã€‚</p><p>Viewï¼ˆè§†å›¾ï¼‰ï¼š é€šå¸¸æŒ‡çš„å°±æ˜¯æˆ‘ä»¬çš„ jsp æˆ–è€… htmlã€‚ä½œâ½¤â¼€èˆ¬å°±æ˜¯å±•ç¤ºæ•°æ®çš„ã€‚é€šå¸¸è§†å›¾æ˜¯<code>ä¾æ® æ¨¡å‹æ•°æ®åˆ›å»º</code>çš„ã€‚</p><p>Controllerï¼ˆæ§åˆ¶å™¨ï¼‰ï¼š æ˜¯åº”â½¤ç¨‹åºä¸­å¤„ç†â½¤æˆ·äº¤äº’çš„éƒ¨åˆ†ã€‚ä½œâ½¤â¼€èˆ¬å°±æ˜¯å¤„ç†ç¨‹åºé€»è¾‘çš„ã€‚</p><p>MVCæå€¡ï¼šæ¯â¼€å±‚åªç¼–å†™â¾ƒâ¼°çš„ä¸œâ»„ï¼Œä¸ç¼–å†™ä»»ä½•å…¶ä»–çš„ä»£ç ï¼›åˆ†å±‚æ˜¯ä¸ºäº†<code>è§£è€¦</code>ï¼Œè§£è€¦æ˜¯ä¸ºäº†ç»´ æŠ¤â½…ä¾¿å’Œ<code>åˆ†â¼¯åä½œ</code>ã€‚</p><h2 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h2><p>å®ƒé€šè¿‡â¼€å¥—æ³¨è§£ï¼Œè®©â¼€ä¸ªç®€å•çš„Javaç±»æˆä¸ºå¤„ç†è¯·æ±‚çš„æ§åˆ¶å™¨ï¼Œâ½½â½†é¡»å®ç°ä»»ä½•æ¥â¼ã€‚</p><p>åŒæ—¶å®ƒè¿˜â½€æŒ RESTful ç¼–ç¨‹â»›æ ¼çš„è¯·æ±‚ã€‚</p><p><code>Spring MVC æœ¬è´¨å¯ä»¥è®¤ä¸ºæ˜¯å¯¹servletçš„å°è£…</code>ï¼Œç®€åŒ–äº†æˆ‘ä»¬serlvetçš„å¼€å‘<br><code>ä½œâ½¤ï¼š1ï¼‰æ¥æ”¶è¯·æ±‚ 2ï¼‰è¿”å›å“åº”ï¼Œè·³è½¬â»šâ¾¯</code></p>]]></content>
      
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>url-patterné…ç½®åŸç†åŠå¯¹é™æ€èµ„æºçš„æ”¯æŒ</title>
      <link href="2020/11/20/springmvc/url%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB/"/>
      <url>2020/11/20/springmvc/url%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-none"><code class="language-none">&lt;servlet&gt;    &lt;servlet-name&gt;springmvc&lt;&#x2F;servlet-name&gt;    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;&#x2F;servlet-class&gt;    &lt;init-param&gt;      &lt;param-name&gt;contextConfigLocation&lt;&#x2F;param-name&gt;      &lt;param-value&gt;classpath:springmvc.xml&lt;&#x2F;param-value&gt;    &lt;&#x2F;init-param&gt;  &lt;&#x2F;servlet&gt;  &lt;servlet-mapping&gt;    &lt;servlet-name&gt;springmvc&lt;&#x2F;servlet-name&gt;        &lt;!--æ‹¦æˆªåŒ¹é…è§„åˆ™çš„urlè¯·æ±‚ï¼Œè¿›å…¥springmvcæ¡†æ¶å¤„ç†--&gt;    &lt;url-pattern&gt;&#x2F;&lt;&#x2F;url-pattern&gt;  &lt;&#x2F;servlet-mapping&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â‘     è§£é‡Šé…ç½®æ–‡ä»¶çš„åç§°å®šä¹‰è§„åˆ™:<br>â‘¡    DispatcherServletè‡ªåŠ¨åŠ è½½çš„é…ç½®æ–‡ä»¶çš„ä½ç½®åŠåç§°ï¼š<br>å®é™…ä¸Šä¹Ÿå¯ä»¥ä¸é€šè¿‡ contextConfigLocation æ¥é…ç½® SpringMVC çš„é…ç½®æ–‡ä»¶, è€Œä½¿ç”¨é»˜è®¤çš„.é»˜è®¤çš„é…ç½®æ–‡ä»¶ä¸º: <code>/WEB-INF/&lt;servlet-name&gt;-servlet.xml</code><br>3ï¼‰    åŠ å…¥ Spring MVC çš„é…ç½®æ–‡ä»¶ï¼šspringmvc.xml<br> <init-param><br>      <param-name>contextConfigLocation</param-name><br>      <param-value>classpath:springmvc.xml</param-value><br>    </init-param></p><h2 id="1ï¼š-ä¸ä¼šæ‹¦æˆª-jspï¼Œ"><a href="#1ï¼š-ä¸ä¼šæ‹¦æˆª-jspï¼Œ" class="headerlink" title="1ï¼š/ ä¸ä¼šæ‹¦æˆª .jspï¼Œ"></a>1ï¼š<code>/ ä¸ä¼šæ‹¦æˆª .jspï¼Œ</code></h2><p>   <code>ä½†æ˜¯ä¼šæ‹¦æˆª.htmlç­‰é™æ€èµ„æº</code>ï¼ˆé™æ€èµ„æºï¼šé™¤äº†servletå’Œjspä¹‹å¤–çš„<code>jsã€cssã€png</code>ç­‰ï¼‰</p><h3 id="ä¸ºä»€ä¹ˆé…ç½®ä¸º-ä¼šæ‹¦æˆªé™æ€èµ„æºï¼Ÿï¼Ÿï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆé…ç½®ä¸º-ä¼šæ‹¦æˆªé™æ€èµ„æºï¼Ÿï¼Ÿï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆé…ç½®ä¸º/ ä¼šæ‹¦æˆªé™æ€èµ„æºï¼Ÿï¼Ÿï¼Ÿ"></a><strong>ä¸ºä»€ä¹ˆé…ç½®ä¸º/ ä¼šæ‹¦æˆªé™æ€èµ„æºï¼Ÿï¼Ÿï¼Ÿ</strong></h3><p>å› ä¸ºtomcatå®¹å™¨ä¸­æœ‰ä¸€ä¸ªweb.xmlï¼Œä½ çš„é¡¹ç›®ä¸­ä¹Ÿæœ‰ä¸€ä¸ªweb.xml<br>çˆ¶web.xmlä¸­æœ‰ä¸€ä¸ªDefaultServlet,  url-pattern æ˜¯ä¸€ä¸ª /<br>æ­¤æ—¶æˆ‘ä»¬è‡ªå·±çš„web.xmlä¸­ä¹Ÿé…ç½®äº†ä¸€ä¸ª / ,<strong>è¦†å†™äº†çˆ¶web.xmlçš„é…ç½®</strong></p><p>å½“å¼€å‘äººå‘˜è®¾ç½®çš„url-patternä¸tomcatçš„ä¸€æ ·æ—¶ï¼Œå¼€å‘äººå‘˜çš„ä¼˜å…ˆè¢«å¤„ç†<br>æ‰€ä»¥å®¢æˆ·ç«¯å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œä¼˜å…ˆé€šè¿‡DispatcherServletå»å¤„ç†è¯·æ±‚ï¼Œæ‰¾è¯¥è¯·æ±‚æ˜¯å¦æœ‰å¯¹åº”çš„å¤„ç†å™¨.<br>å› æ­¤å¯¹äºé™æ€èµ„æºçš„è¯·æ±‚, SpringMVC ä¼šå°†ä»–ä»¬å½“æˆä¸€ä¸ªæ™®é€šè¯·æ±‚å¤„ç†,<code>å› æ‰¾ä¸åˆ°å¯¹åº”å¤„ç†å™¨å°†å¯¼è‡´é”™è¯¯</code>ã€‚</p><h3 id="ä¸ºä»€ä¹ˆä¸æ‹¦æˆª-jspå‘¢ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¸æ‹¦æˆª-jspå‘¢ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¸æ‹¦æˆª.jspå‘¢ï¼Ÿ"></a><strong>ä¸ºä»€ä¹ˆä¸æ‹¦æˆª.jspå‘¢ï¼Ÿ</strong></h3><p>å› ä¸ºçˆ¶web.xmlä¸­æœ‰ä¸€ä¸ª  <code>JspServlet</code>ï¼Œè¿™ä¸ªservlet<code>æ‹¦æˆª.jspæ–‡ä»¶</code>ï¼Œ<strong>è€Œæˆ‘ä»¬å¹¶æ²¡æœ‰è¦†å†™è¿™ä¸ªé…ç½®ï¼Œ</strong><br>æ‰€ä»¥springmvcæ­¤æ—¶ä¸æ‹¦æˆªjspï¼Œ<strong>jspçš„å¤„ç†äº¤ç»™äº†tomcat</strong></p><h2 id="2ï¼š-æ‹¦æˆªæ‰€æœ‰ï¼ŒåŒ…æ‹¬-jsp"><a href="#2ï¼š-æ‹¦æˆªæ‰€æœ‰ï¼ŒåŒ…æ‹¬-jsp" class="headerlink" title="2ï¼š/* æ‹¦æˆªæ‰€æœ‰ï¼ŒåŒ…æ‹¬.jsp"></a>2ï¼š/* <code>æ‹¦æˆªæ‰€æœ‰ï¼ŒåŒ…æ‹¬.jsp</code></h2><h2 id="å¦‚ä½•è§£å†³-æ‹¦æˆªé™æ€èµ„æºè¿™ä»¶äº‹ï¼Ÿ"><a href="#å¦‚ä½•è§£å†³-æ‹¦æˆªé™æ€èµ„æºè¿™ä»¶äº‹ï¼Ÿ" class="headerlink" title="å¦‚ä½•è§£å†³/æ‹¦æˆªé™æ€èµ„æºè¿™ä»¶äº‹ï¼Ÿ"></a>å¦‚ä½•è§£å†³/æ‹¦æˆªé™æ€èµ„æºè¿™ä»¶äº‹ï¼Ÿ</h2><ol><li>è¿™ç§æ–¹æ¡ˆåªèƒ½æŠŠé™æ€èµ„æºé˜²æ­¢åœ¨webappç›®å½•ä¸‹<br>åœ¨ SpringMVC çš„é…ç½®æ–‡ä»¶ä¸­<br>é…ç½® <a href="mvc:default-servlet-handler/">mvc:default-servlet-handler/</a><br>é…ç½® <a href="mvc:annotation-driven/">mvc:annotation-driven/</a>(è‡ªåŠ¨æ³¨å†Œåˆé€‚çš„é€‚é…å™¨å’Œæ˜ å°„å™¨)</li></ol><p><code>å…³äº&lt;mvc:default-servlet-handler/&gt;ä½œç”¨</code><br><a href="mvc:default-servlet-handler/">mvc:default-servlet-handler/</a> å°†åœ¨ SpringMVC ä¸Šä¸‹æ–‡ä¸­å®šä¹‰ä¸€ä¸ª<code>DefaultServletHttpRequestHandler</code>ï¼Œ<br><strong>å®ƒä¼šå¯¹è¿›å…¥ <code>DispatcherServlet </code>çš„è¯·æ±‚è¿›è¡Œç­›æŸ¥ï¼Œ</strong><br>    â€”å¦‚æœå‘ç°æ˜¯æ˜¯é™æ€èµ„æºçš„è¯·æ±‚ï¼Œå°±å°†è¯¥è¯·æ±‚äº¤ç”± <strong>WEB åº”ç”¨æœåŠ¡å™¨é»˜è®¤çš„ Servlet</strong> å¤„ç†ï¼Œ<br>    â€”å¦‚æœä¸æ˜¯é™æ€èµ„æºçš„è¯·æ±‚ï¼Œæ‰ç”± DispatcherServlet ç»§ç»­å¤„ç†</p><p>ä¸€èˆ¬ WEB åº”ç”¨æœåŠ¡å™¨é»˜è®¤çš„ Servlet çš„åç§°éƒ½æ˜¯ defaultã€‚<br>è‹¥æ‰€ä½¿ç”¨çš„ WEB æœåŠ¡å™¨çš„é»˜è®¤ Servlet åç§°ä¸æ˜¯ defaultï¼Œåˆ™éœ€è¦é€šè¿‡ default-servlet-name å±æ€§æ˜¾å¼æŒ‡å®š        </p><p><code>&lt;mvc:default-servlet-handler default-servlet-name=&quot;&quot;/&gt;</code></p><ol start="2"><li>æƒ³è¦æ”¾åœ¨resourceä¸‹æ”¾ç½®é™æ€èµ„æºa.html<br> &lt;mvc:resources location= â€œclasspath:/â€œ mapping=â€/resources/**â€&gt;</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVCè¯·æ±‚å¤„ç†æµç¨‹åŠä¸‰å¤§æ ¸å¿ƒç»„ä»¶</title>
      <link href="2020/11/20/springmvc/%E8%AF%B7%E6%B1%82%E6%B5%81%E7%A8%8B/"/>
      <url>2020/11/20/springmvc/%E8%AF%B7%E6%B1%82%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="SpringMVCè¯·æ±‚æµç¨‹"><a href="#SpringMVCè¯·æ±‚æµç¨‹" class="headerlink" title="SpringMVCè¯·æ±‚æµç¨‹"></a>SpringMVCè¯·æ±‚æµç¨‹</h2><p>ç¬¬â¼€æ­¥ï¼šâ½¤æˆ·å‘é€è¯·æ±‚â¾„å‰ç«¯æ§åˆ¶å™¨<code>DispatcherServlet </code><br>ç¬¬â¼†æ­¥ï¼š<code>DispatcherServlet</code>æ”¶åˆ°è¯·æ±‚,è°ƒâ½¤<code>HandlerMappingå¤„ç†å™¨æ˜ å°„å™¨</code> ,é—®å½“å‰å¤„ç†è¯·æ±‚çš„handlerï¼Œ<br>HandlerMappingå¤„ç†å™¨æ˜ å°„å™¨æ˜¯ä¸ªmap,keyæ˜¯url,valueèƒ½å¤Ÿå¤„ç†å½“å‰urlçš„handle,</p><p>ç¬¬ä¸‰æ­¥ï¼šå¤„ç†å™¨æ˜ å°„å™¨æ ¹æ®è¯·æ±‚Urlæ‰¾åˆ°å…·ä½“çš„<code>Handler</code>ï¼ˆåç«¯æ§åˆ¶å™¨:æ‰§è¡Œå…·ä½“ä¸šåŠ¡é€»è¾‘çš„æ–¹æ³•ï¼‰ï¼Œè¿”å›<code>å¤„ç†å™¨çš„æ‰§è¡Œé“¾</code><br>â½£æˆå¤„ç†å™¨å¯¹è±¡åŠå¤„ç†å™¨<code>æ‹¦æˆªå™¨</code>(å¦‚æœ æœ‰åˆ™â½£æˆ)â¼€å¹¶è¿”å›<code>DispatcherServlet</code></p><p>ç¬¬å››æ­¥ï¼š<code>DispatcherServle</code>tè°ƒâ½¤<code>HandlerAdapterå¤„ç†å™¨é€‚é…å™¨</code>å»è°ƒâ½¤<code>Handler </code></p><p>ç¬¬äº”æ­¥ï¼šå¤„ç†å™¨é€‚é…å™¨æ‰§â¾<code>Handler</code> </p><p>ç¬¬å…­æ­¥ï¼šHandleræ‰§â¾å®Œæˆç»™å¤„ç†å™¨é€‚é…å™¨è¿”å›<code>ModelAndView </code></p><p>ç¬¬ä¸ƒæ­¥ï¼šå¤„ç†å™¨é€‚é…å™¨å‘å‰ç«¯æ§åˆ¶å™¨è¿”å› <code>ModelAndView</code>ï¼ŒModelAndView æ˜¯SpringMVC æ¡†æ¶çš„â¼€ä¸ªåº•å±‚å¯¹è±¡ï¼ŒåŒ…æ‹¬ Model å’Œ View </p><p>ç¬¬â¼‹æ­¥ï¼šå‰ç«¯æ§åˆ¶å™¨è¯·æ±‚è§†å›¾è§£æå™¨å»è¿›â¾è§†å›¾è§£æï¼Œæ ¹æ®é€»è¾‘è§†å›¾åæ¥è§£æçœŸæ­£çš„è§†å›¾ã€‚ </p><p>ç¬¬ä¹æ­¥ï¼šè§†å›¾è§£æå™¨å‘å‰ç«¯æ§åˆ¶å™¨è¿”å›<code>View å¯¹è±¡</code></p><p>ç¬¬â¼—æ­¥ï¼šå‰ç«¯æ§åˆ¶å™¨è¿›â¾è§†å›¾æ¸²æŸ“ï¼Œå°±æ˜¯å°†æ¨¡å‹æ•°æ®ï¼ˆåœ¨ ModelAndView å¯¹è±¡ä¸­ï¼‰å¡«å……åˆ° <code>request åŸŸ </code></p><p>ç¬¬â¼—â¼€æ­¥ï¼šå‰ç«¯æ§åˆ¶å™¨å‘â½¤æˆ·å“åº”ç»“æœ</p><p><img src="2020-12-09-19-45-53.png"></p><h2 id="Spring-MVC-ä¹â¼¤ç»„ä»¶"><a href="#Spring-MVC-ä¹â¼¤ç»„ä»¶" class="headerlink" title="Spring MVC ä¹â¼¤ç»„ä»¶"></a>Spring MVC ä¹â¼¤ç»„ä»¶</h2><p><strong>HandlerMappingï¼ˆå¤„ç†å™¨æ˜ å°„å™¨ï¼‰</strong><br>HandlerMapping æ˜¯â½¤æ¥æŸ¥æ‰¾ Handler çš„ï¼Œä¹Ÿå°±æ˜¯å¤„ç†å™¨ï¼Œå…·ä½“çš„è¡¨ç°å½¢å¼å¯ä»¥æ˜¯ç±»ï¼Œä¹Ÿå¯ä»¥æ˜¯ â½…æ³•ã€‚<br>â½å¦‚ï¼Œ<code>æ ‡æ³¨äº†@RequestMappingçš„æ¯ä¸ªâ½…æ³•éƒ½å¯ä»¥çœ‹æˆæ˜¯â¼€ä¸ªHandler</code>ã€‚<br>Handler<code>è´Ÿè´£å…·ä½“å®é™…çš„è¯·æ±‚å¤„ç†</code>ï¼Œåœ¨è¯·æ±‚åˆ°è¾¾åï¼ŒHandlerMapping çš„<code>ä½œâ½¤</code>ä¾¿æ˜¯æ‰¾åˆ°è¯·æ±‚ç›¸åº”çš„å¤„ç†å™¨ <code>Handler</code> å’Œ <code>Interceptor</code>.<br>HandlerMapping ï¼šè¯·æ±‚æ˜ å°„åˆ°å¤„ç†å™¨ï¼Œæ‰¾è°æ¥å¤„ç†ï¼Œå¦‚æœæ˜ å°„æˆåŠŸè¿”å›ä¸€ä¸ªHandlerExecutionChainå¯¹è±¡ï¼ˆåŒ…å«ä¸€ä¸ªHandlerå¤„ç†å™¨(é¡µé¢æ§åˆ¶å™¨)å¯¹è±¡ã€å¤šä¸ªHandlerInterceptoræ‹¦æˆªå™¨å¯¹è±¡ï¼‰<br><strong>HandlerAdapterï¼ˆå¤„ç†å™¨é€‚é…å™¨ï¼‰</strong><br>HandlerAdapter æ˜¯â¼€ä¸ªé€‚é…å™¨ã€‚å› ä¸º Spring MVC ä¸­ Handler å¯ä»¥æ˜¯ä»»æ„å½¢å¼çš„ï¼Œåªè¦èƒ½å¤„ç†è¯· æ±‚å³å¯ã€‚ä½†æ˜¯æŠŠè¯·æ±‚äº¤ç»™ Servlet çš„æ—¶å€™ï¼Œç”±äº Servlet çš„â½…æ³•ç»“æ„éƒ½æ˜¯ doService(HttpServletRequest req,HttpServletResponse resp)å½¢å¼çš„ï¼Œè¦è®©å›ºå®šçš„ Servlet å¤„ç† â½…æ³•è°ƒâ½¤ Handler æ¥è¿›â¾å¤„ç†ï¼Œä¾¿æ˜¯ HandlerAdapter çš„èŒè´£(<code>æ‰§è¡Œä¸åŒå½¢å¼çš„handler</code>)ã€‚</p><p><strong>ViewResolver</strong><br>è§†å›¾è§£æå™¨ï¼Œæ‰¾è°æ¥å¤„ç†è¿”å›çš„é¡µé¢ã€‚æŠŠ<code>é€»è¾‘è§†å›¾è§£æä¸ºå…·ä½“çš„View</code>,è¿›è¡Œè¿™ç§<strong>ç­–ç•¥æ¨¡å¼</strong>ï¼Œå¾ˆå®¹æ˜“æ›´æ¢å…¶ä»–è§†å›¾æŠ€æœ¯ï¼›<br>å¦‚<code>InternalResourceViewResolver</code><strong>å°†é€»è¾‘è§†å›¾åæ˜ å°„ä¸ºJSPè§†å›¾</strong></p><p><strong>HandlerExceptionResolver</strong><br>HandlerExceptionResolver â½¤äº<code>å¤„ç† Handler äº§â½£çš„å¼‚å¸¸æƒ…å†µ</code>ã€‚å®ƒçš„ä½œâ½¤æ˜¯æ ¹æ®å¼‚å¸¸è®¾ç½® ModelAndViewï¼Œä¹‹åäº¤ç»™æ¸²æŸ“â½…æ³•è¿›â¾æ¸²æŸ“ï¼Œæ¸²æŸ“â½…æ³•ä¼šå°† ModelAndView æ¸²æŸ“æˆâ»šâ¾¯ã€‚</p><p><strong>MultipartResolver</strong><br>MultipartResolver â½¤äºä¸Šä¼ è¯·æ±‚ï¼Œé€šè¿‡å°†æ™®é€šçš„è¯·æ±‚åŒ…è£…æˆ MultipartHttpServletRequest æ¥å® ç°ã€‚MultipartHttpServletRequest å¯ä»¥é€šè¿‡ getFile() â½…æ³• ç›´æ¥è·å¾—â½‚ä»¶ã€‚å¦‚æœä¸Šä¼ å¤šä¸ªâ½‚ä»¶ï¼Œè¿˜ å¯ä»¥è°ƒâ½¤ getFileMap()â½…æ³•å¾—åˆ°Map&lt;FileNameï¼ŒFile&gt;è¿™æ ·çš„ç»“æ„ï¼ŒMultipartResolver çš„ä½œâ½¤å°± æ˜¯å°è£…æ™®é€šçš„è¯·æ±‚ï¼Œä½¿å…¶æ‹¥æœ‰â½‚ä»¶ä¸Šä¼ çš„åŠŸèƒ½ã€‚</p><p><strong>FlashMapManager</strong><br>FlashMap â½¤äº<strong>é‡å®šå‘</strong>æ—¶çš„å‚æ•°ä¼ é€’ï¼Œâ½å¦‚åœ¨å¤„ç†â½¤æˆ·è®¢å•æ—¶å€™ï¼Œä¸ºäº†é¿å…é‡å¤æäº¤ï¼Œå¯ä»¥å¤„ç†å®Œ postè¯·æ±‚ä¹‹åé‡å®šå‘åˆ°â¼€ä¸ªgetè¯·æ±‚ï¼Œè¿™ä¸ªgetè¯·æ±‚å¯ä»¥â½¤æ¥æ˜¾ç¤ºè®¢å•è¯¦æƒ…ä¹‹ç±»çš„ä¿¡æ¯ã€‚è¿™æ ·åšè™½ç„¶ å¯ä»¥è§„é¿â½¤æˆ·é‡æ–°æäº¤è®¢å•çš„é—®é¢˜ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªâ»šâ¾¯ä¸Šè¦æ˜¾ç¤ºè®¢å•çš„ä¿¡æ¯ï¼Œè¿™äº›æ•°æ®ä»å“ªâ¾¥æ¥è·å¾— å‘¢ï¼Ÿå› ä¸ºé‡å®šå‘æ—¶ä¹ˆæœ‰ä¼ é€’å‚æ•°è¿™â¼€åŠŸèƒ½çš„ï¼Œå¦‚æœä¸æƒ³æŠŠå‚æ•°å†™è¿›URLï¼ˆä¸æ¨èï¼‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€š è¿‡FlashMapæ¥ä¼ é€’ã€‚åªéœ€è¦åœ¨é‡å®šå‘ä¹‹å‰å°†è¦ä¼ é€’çš„æ•°æ®å†™â¼Šè¯·æ±‚ï¼ˆå¯ä»¥é€šè¿‡ ServletRequestAttributes.getRequest()â½…æ³•è·å¾—ï¼‰çš„å±æ€§OUTPUT_FLASH_MAP_ATTRIBUTE ä¸­ï¼Œè¿™æ ·åœ¨é‡å®šå‘ä¹‹åçš„Handlerä¸­Springå°±ä¼šâ¾ƒåŠ¨å°†å…¶è®¾ç½®åˆ°Modelä¸­ï¼Œåœ¨æ˜¾ç¤ºè®¢å•ä¿¡æ¯çš„â»šâ¾¯ ä¸Šå°±å¯ä»¥ç›´æ¥ä»Modelä¸­è·å–æ•°æ®ã€‚FlashMapManager å°±æ˜¯â½¤æ¥ç®¡ç† FalshMap çš„ã€‚<br>RequestToViewNameTranslator<br>RequestToViewNameTranslator ç»„ä»¶çš„ä½œâ½¤æ˜¯ä»è¯·æ±‚ä¸­è·å– ViewName.å› ä¸º ViewResolver æ ¹æ® ViewName æŸ¥æ‰¾ Viewï¼Œä½†æœ‰çš„ Handler å¤„ç†å®Œæˆä¹‹å,æ²¡æœ‰è®¾ç½® Viewï¼Œä¹Ÿæ²¡æœ‰è®¾ç½® ViewNameï¼Œ ä¾¿è¦é€šè¿‡è¿™ä¸ªç»„ä»¶ä»è¯·æ±‚ä¸­æŸ¥æ‰¾ ViewNameã€‚</p><p>LocaleResolver<br>æœ¬åœ°åŒ–ã€å›½é™…åŒ–ã€‚</p><p>ThemeResolver<br>ThemeResolver ç»„ä»¶æ˜¯â½¤æ¥è§£æä¸»é¢˜çš„ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVCè¯·æ±‚æ•°æ®</title>
      <link href="2020/11/20/springmvc/%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE/"/>
      <url>2020/11/20/springmvc/%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="å‚æ•°ç»‘å®šï¼šå–å‡ºå‚æ•°å€¼ç»‘å®šåˆ°handlerâ½…æ³•çš„å½¢å‚ä¸Š"><a href="#å‚æ•°ç»‘å®šï¼šå–å‡ºå‚æ•°å€¼ç»‘å®šåˆ°handlerâ½…æ³•çš„å½¢å‚ä¸Š" class="headerlink" title="å‚æ•°ç»‘å®šï¼šå–å‡ºå‚æ•°å€¼ç»‘å®šåˆ°handlerâ½…æ³•çš„å½¢å‚ä¸Š"></a>å‚æ•°ç»‘å®šï¼šå–å‡ºå‚æ•°å€¼ç»‘å®šåˆ°handlerâ½…æ³•çš„å½¢å‚ä¸Š</h2><p>åŸâ½£servletæ¥æ”¶â¼€ä¸ªæ•´å‹å‚æ•°ï¼š<br>1ï¼‰String ageStr = request.getParameter(â€œageâ€);<br>2) Integer age = Integer.parseInt(ageStr);<br>3) SpringMVCæ¡†æ¶å¯¹Servletçš„å°è£…ï¼Œç®€åŒ–äº†servletçš„å¾ˆå¤šæ“ä½œ<br>4) SpringMVCåœ¨æ¥æ”¶æ•´å‹å‚æ•°çš„æ—¶å€™ï¼Œç›´æ¥åœ¨Handlerâ½…æ³•ä¸­å£°æ˜å½¢å‚å³å¯ </p><pre class="line-numbers language-java" data-language="java"><code class="language-java">@RequestMapping(&quot;xxx&quot;) public String handle(Integer age) &#123; System.out.println(age); &#125; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol><li>é»˜è®¤â½€æŒ Servlet API ä½œä¸ºâ½…æ³•å‚æ•° å½“éœ€è¦ä½¿â½¤HttpServletRequestã€HttpServletResponseã€HttpSessionç­‰åŸâ½£servletå¯¹è±¡æ—¶ï¼Œç›´æ¥åœ¨handlerâ½…æ³•ä¸­å½¢å‚å£°æ˜ä½¿â½¤å³å¯ã€‚</li><li>ç»‘å®šç®€å•æ•°æ®ç±»å‹å‚æ•°ï¼Œåªéœ€è¦ç›´æ¥å£°æ˜å½¢å‚å³å¯ï¼ˆ<code>å½¢å‚å‚æ•°åå’Œä¼ é€’çš„å‚æ•°åè¦ä¿æŒâ¼€ è‡´</code>ï¼Œ<strong>å»ºè®®ä½¿â½¤åŒ…è£…ç±»å‹</strong>ï¼Œå› ä¸ºç®€å•æ•°æ®ç±»å‹ä¸ºnullæ—¶ä¸èƒ½è½¬æ¢<br>å½“å½¢å‚å‚æ•°åå’Œä¼ é€’å‚æ•°åä¸â¼€è‡´æ—¶å¯ä»¥ä½¿â½¤@RequestParamæ³¨è§£è¿›â¾ â¼¿åŠ¨æ˜ å°„ï¼‰<br><code>@RequestParam</code>æ³¨è§£<br> 1ï¼‰åœ¨å¤„ç†æ–¹æ³•å…¥å‚å¤„ä½¿ç”¨ @RequestParam å¯ä»¥æŠŠè¯·æ±‚å‚æ•°ä¼ é€’ç»™è¯·æ±‚æ–¹æ³•<br> 2ï¼‰valueï¼šå‚æ•°å<br> 3ï¼‰requiredï¼šæ˜¯å¦å¿…é¡»ã€‚é»˜è®¤ä¸º true, è¡¨ç¤ºè¯·æ±‚å‚æ•°ä¸­å¿…é¡»åŒ…å«å¯¹åº”çš„å‚æ•°ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œå°†æŠ›å‡ºå¼‚å¸¸<br> 4ï¼‰defaultValue: é»˜è®¤å€¼ï¼Œå½“æ²¡æœ‰ä¼ é€’å‚æ•°æ—¶ä½¿ç”¨è¯¥å€¼<br><code>@CookieValue</code> æ³¨è§£<br>1ï¼‰    ä½¿ç”¨ @CookieValue ç»‘å®šè¯·æ±‚ä¸­çš„ Cookie å€¼<br>2ï¼‰    @CookieValue å¯è®©å¤„ç†æ–¹æ³•å…¥å‚ç»‘å®šæŸä¸ª Cookie å€¼<pre class="line-numbers language-java" data-language="java"><code class="language-java">@RequestMapping(&quot;&#x2F;testCookieValue&quot;)public String testCookieValue(@CookieValue(&quot;JSESSIONID&quot;) String sessionId) &#123;System.out.println(&quot;testCookieValue: sessionId: &quot; + sessionId);return &quot;success&quot;;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>ä½¿ç”¨POJOä½œä¸ºå‚æ•°<br> 1ï¼‰    ä½¿ç”¨ POJO å¯¹è±¡ç»‘å®šè¯·æ±‚å‚æ•°å€¼<br> 2ï¼‰    Spring MVC ä¼šæŒ‰è¯·æ±‚å‚æ•°åå’Œ POJO å±æ€§åè¿›è¡Œè‡ªåŠ¨åŒ¹é…ï¼Œè‡ªåŠ¨ä¸ºè¯¥å¯¹è±¡å¡«å……å±æ€§å€¼ã€‚æ”¯æŒçº§è”å±æ€§ã€‚å¦‚ï¼šdept.deptIdã€dept.address.tel <pre><code> æ¥æ”¶pojoç±»å‹å‚æ•°ï¼Œç›´æ¥å½¢å‚å£°æ˜å³å¯ï¼Œç±»å‹å°±æ˜¯Pojoçš„ç±»å‹ï¼Œå½¢å‚åæ— æ‰€è°“</code></pre></li></ol><ul><li><strong>ä½†æ˜¯è¦æ±‚ä¼ é€’çš„å‚æ•°åå¿…é¡»å’ŒPojoçš„å±æ€§åä¿æŒä¸€è‡´</strong><!-- æµ‹è¯• POJO å¯¹è±¡ä¼ å‚ï¼Œæ”¯æŒçº§è”å±æ€§ --><form action=" testPOJO" method="POST">username: <input type="text" name="username"/><br>password: <input type="password" name="password"/><br>email: <input type="text" name="email"/><br>age: <input type="text" name="age"/><br>city: <input type="text" name="address.city"/><br>province: <input type="text" name="address.province"/><input type="submit" value="Submit"/></form></li></ul><ol start="4"><li><code>ç»‘å®šâ½‡æœŸç±»å‹å‚æ•°</code>ï¼ˆéœ€è¦é…ç½®<code>â¾ƒå®šä¹‰ç±»å‹è½¬æ¢å™¨</code>ï¼‰<br>å› ä¸ºStringä¸èƒ½ç›´æ¥è½¬æ¢ä¸ºæ—¥æœŸç±»å‹</li></ol><p>å‰ç«¯jsp</p><fieldset> <p>æµ‹è¯•â½¤ä¾‹ï¼šSpringMVCæ¥æ”¶â½‡æœŸç±»å‹å‚æ•°</p><p><a href="/demo/handle06?birthday=2019-10-08">ç‚¹å‡»æµ‹è¯•</a></p></fieldset><p>åå°Handlerâ½…æ³•</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">@RequestMapping(&quot;&#x2F;handle06&quot;) public ModelAndView handle06(Date birthday)     &#123; Date date &#x3D; new Date();    ModelAndView modelAndView &#x3D; new ModelAndView();     modelAndView.addObject(&quot;date&quot;,date);     modelAndView.setViewName(&quot;success&quot;);     return modelAndView; &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨ï¼Œimplements Converter&lt;String, Date&gt;å­—ç¬¦ä¸²è½¬date</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public class DateConverter implements Converter&lt;String, Date&gt; &#123;    @Override    public Date convert(String source) &#123;        &#x2F;&#x2F; å®Œæˆå­—ç¬¦ä¸²å‘æ—¥æœŸçš„è½¬æ¢        SimpleDateFormat simpleDateFormat &#x3D; new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);        try &#123;            Date parse &#x3D; simpleDateFormat.parse(source);            return parse;        &#125; catch (ParseException e) &#123;            e.printStackTrace();        &#125;        return null;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ«å¿˜äº†</p><!--æ³¨å†Œè‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨--><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--        è‡ªåŠ¨æ³¨å†Œæœ€åˆé€‚çš„å¤„ç†å™¨æ˜ å°„å™¨ï¼Œå¤„ç†å™¨é€‚é…å™¨(è°ƒç”¨handleræ–¹æ³•)    --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span> <span class="token attr-name">conversion-service</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>conversionServiceBean<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>conversionServiceBean<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.springframework.format.support.FormattingConversionServiceFactoryBean<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>converters<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.lagou.edu.converter.DateConverter<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVCå¯¹Restfulé£æ ¼çš„æ”¯æŒ</title>
      <link href="2020/11/20/springmvc/Restful/"/>
      <url>2020/11/20/springmvc/Restful/</url>
      
        <content type="html"><![CDATA[<h2 id="RESTful"><a href="#RESTful" class="headerlink" title="RESTful"></a>RESTful</h2><p>restæ˜¯â¼€ä¸ªurlè¯·æ±‚çš„â»›æ ¼ï¼ŒåŸºäºè¿™ç§â»›æ ¼è®¾è®¡è¯·æ±‚çš„url </p><ol><li><p>æ²¡æœ‰restçš„è¯ï¼ŒåŸæœ‰çš„urlè®¾è®¡ <a href="http://localhost:8080/user/queryUserById.action?id=3">http://localhost:8080/user/queryUserById.action?id=3</a> urlä¸­å®šä¹‰äº†åŠ¨ä½œï¼ˆæ“ä½œï¼‰ï¼Œå‚æ•°å…·ä½“é”å®šåˆ°æ“ä½œçš„æ˜¯è°</p></li><li><p>æœ‰äº†restâ»›æ ¼ä¹‹å restä¸­ï¼Œè®¤ä¸ºäº’è”â½¹ä¸­çš„æ‰€æœ‰ä¸œâ»„éƒ½æ˜¯èµ„æºï¼Œ<br>æ—¢ç„¶æ˜¯èµ„æºå°±ä¼šæœ‰â¼€ä¸ªå”¯â¼€çš„uriæ ‡è¯†å®ƒï¼Œ<br>ä»£è¡¨å®ƒ <a href="http://localhost:8080/user/3">http://localhost:8080/user/3</a> ä»£è¡¨çš„æ˜¯idä¸º3çš„é‚£ä¸ªâ½¤æˆ·è®°å½•ï¼ˆèµ„æºï¼‰<br>é”å®šèµ„æºä¹‹åå¦‚ä½•æ“ä½œå®ƒå‘¢ï¼Ÿ<br>å¸¸è§„æ“ä½œå°±æ˜¯å¢åˆ æ”¹æŸ¥<br>æ ¹æ®è¯·æ±‚â½…å¼ä¸åŒï¼Œä»£è¡¨è¦åšä¸åŒçš„æ“ä½œ<br>get æŸ¥è¯¢ï¼Œè·å–èµ„æº post å¢åŠ ï¼Œæ–°å»ºèµ„æº put æ›´æ–° delete åˆ é™¤èµ„æº<br>restâ»›æ ¼å¸¦æ¥çš„ç›´è§‚ä½“ç°ï¼š<strong>å°±æ˜¯ä¼ é€’å‚æ•°â½…å¼çš„å˜åŒ–ï¼Œå‚æ•°å¯ä»¥åœ¨uriä¸­äº†</strong><br>/account/1 HTTP GET ï¼šå¾—åˆ° id = 1 çš„ account<br>/account/1 HTTP DELETEï¼šåˆ é™¤ id = 1 çš„ account<br>/account/1 HTTP PUTï¼šæ›´æ–° id = 1 çš„ account<br>URLï¼šèµ„æºå®šä½ç¬¦ï¼Œé€šè¿‡URLåœ°å€å»å®šä½äº’è”â½¹ä¸­çš„èµ„æºï¼ˆæŠ½è±¡çš„æ¦‚å¿µï¼Œâ½å¦‚å›¾â½šã€è§†é¢‘ã€appæœåŠ¡ ç­‰ï¼‰ã€‚<br>RESTful â»›æ ¼ URLï¼šäº’è”â½¹æ‰€æœ‰çš„äº‹ç‰©éƒ½æ˜¯èµ„æºï¼Œ<strong>è¦æ±‚URLä¸­åªæœ‰è¡¨ç¤ºèµ„æºçš„åç§°ï¼Œæ²¡æœ‰åŠ¨è¯</strong>ã€‚<br>RESTfulâ»›æ ¼èµ„æºæ“ä½œï¼š<br>ä½¿â½¤HTTPè¯·æ±‚ä¸­çš„methodâ½…æ³•putã€deleteã€postã€getæ¥æ“ä½œèµ„æºã€‚åˆ†åˆ«å¯¹ åº”æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢ã€‚ä¸è¿‡â¼€èˆ¬ä½¿â½¤æ—¶è¿˜æ˜¯ post å’Œ getã€‚put å’Œ deleteâ¼ä¹ä¸ä½¿â½¤ã€‚</p></li></ol><hr><h2 id="Spring-MVC-â½€æŒ-RESTful-â»›æ ¼è¯·æ±‚"><a href="#Spring-MVC-â½€æŒ-RESTful-â»›æ ¼è¯·æ±‚" class="headerlink" title="Spring MVC â½€æŒ RESTful â»›æ ¼è¯·æ±‚"></a>Spring MVC â½€æŒ RESTful â»›æ ¼è¯·æ±‚</h2><h3 id="PathVariable"><a href="#PathVariable" class="headerlink" title="@PathVariable"></a>@PathVariable</h3><p><code>@PathVariable </code>æ³¨è§£è·å– RESTful â»›æ ¼çš„è¯·æ±‚ <code>URLä¸­çš„è·¯å¾„å˜é‡</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">&#x2F;*     * restful  get   &#x2F;demo&#x2F;handle&#x2F;15     *&#x2F;    @RequestMapping(value &#x3D; &quot;&#x2F;handle&#x2F;&#123;id&#125;&quot;,method &#x3D; &#123;RequestMethod.GET&#125;)    public ModelAndView handleGet(@PathVariable(&quot;id&quot;) Integer id) &#123;        ModelAndView modelAndView &#x3D; new ModelAndView();        modelAndView.setViewName(&quot;success&quot;);        return modelAndView;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="HiddenHttpMethodFilter"><a href="#HiddenHttpMethodFilter" class="headerlink" title="HiddenHttpMethodFilter"></a>HiddenHttpMethodFilter</h3><p><code>HiddenHttpMethodFilter</code>æµè§ˆå™¨ form è¡¨å•åªæ”¯æŒ GET ä¸ POST è¯·æ±‚ï¼Œè€ŒDELETEã€PUT ç­‰ method å¹¶ä¸æ”¯æŒï¼Œ<br>Spring3.0 æ·»åŠ äº†ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œå¯ä»¥å°†è¿™äº›è¯·æ±‚è½¬æ¢ä¸ºæ ‡å‡†çš„ http æ–¹æ³•ï¼Œä½¿å¾—æ”¯æŒ GETã€POSTã€PUT ä¸ DELETE è¯·æ±‚ã€‚</p><p>å¦‚ä½•å‘é€PUTè¯·æ±‚æˆ–DELETEè¯·æ±‚?</p><ul><li>â‘ .é…ç½®HiddenHttpMethodFilter</li><li>â‘¡.éœ€è¦å‘é€POSTè¯·æ±‚</li><li>â‘¢.éœ€è¦åœ¨å‘é€POSTè¯·æ±‚æ—¶æºå¸¦ä¸€ä¸ª name=â€_methodâ€çš„éšå«åŸŸï¼Œå€¼ä¸ºPUTæˆ–DELETE</li></ul><!--é…ç½®springmvcè¯·æ±‚æ–¹å¼è½¬æ¢è¿‡æ»¤å™¨ï¼Œä¼šæ£€æŸ¥è¯·æ±‚å‚æ•°ä¸­æ˜¯å¦æœ‰_methodå‚æ•°ï¼Œå¦‚æœæœ‰å°±æŒ‰ç…§æŒ‡å®šçš„è¯·æ±‚æ–¹å¼è¿›è¡Œè½¬æ¢--><p>`<br>  <filter><br>    <filter-name>hiddenHttpMethodFilter</filter-name><br>    <filter-class>org.springframework.web.filter.HiddenHttpMethodFilter</filter-class><br>  </filter></p>  <filter-mapping>    <filter-name>encoding</filter-name>    <url-pattern>/*</url-pattern>  </filter-mapping>  <filter-mapping>    <filter-name>hiddenHttpMethodFilter</filter-name>    <url-pattern>/*</url-pattern>  </filter-mapping>  `<p>`<br>  <!-- å®éªŒ1 æµ‹è¯• RESTé£æ ¼ GET è¯·æ±‚ --><br><a href="springmvc/testRESTGet/1">testREST GET</a><br/><br/></p><!-- å®éªŒ2 æµ‹è¯• RESTé£æ ¼ POST è¯·æ±‚ --><form action="springmvc/testRESTPost" method="POST"><input type="submit" value="testRESTPost"></form><!-- å®éªŒ3 æµ‹è¯• RESTé£æ ¼ PUT è¯·æ±‚ --><form action="springmvc/testRESTPut/1" method="POST"><input type="hidden" name="_method" value="PUT"><input type="submit" value="testRESTPut"></form><!-- å®éªŒ4 æµ‹è¯• RESTé£æ ¼ DELETE è¯·æ±‚ --><form action="springmvc/testRESTDelete/1" method="POST"><input type="hidden" name="_method" value="DELETE"><input type="submit" value="testRESTDelete"></form>`---<pre class="line-numbers language-java" data-language="java"><code class="language-java">@RequestMapping(value&#x3D;&quot;&#x2F;testRESTGet&#x2F;&#123;id&#125;&quot;,method&#x3D;RequestMethod.GET)public String testRESTGet(@PathVariable(value&#x3D;&quot;id&quot;) Integer id)&#123;System.out.println(&quot;testRESTGet id&#x3D;&quot;+id);return &quot;success&quot;;&#125; @RequestMapping(value&#x3D;&quot;&#x2F;testRESTPost&quot;,method&#x3D;RequestMethod.POST)public String testRESTPost()&#123;System.out.println(&quot;testRESTPost&quot;);return &quot;success&quot;;&#125; @RequestMapping(value&#x3D;&quot;&#x2F;testRESTPut&#x2F;&#123;id&#125;&quot;,method&#x3D;RequestMethod.PUT)public String testRESTPut(@PathVariable(&quot;id&quot;) Integer id)&#123;System.out.println(&quot;testRESTPut id&#x3D;&quot;+id);return &quot;success&quot;;&#125; @RequestMapping(value&#x3D;&quot;&#x2F;testRESTDelete&#x2F;&#123;id&#125;&quot;,method&#x3D;RequestMethod.DELETE)public String testRESTDelete(@PathVariable(&quot;id&quot;) Integer id)&#123;System.out.println(&quot;testRESTDelete id&#x3D;&quot;+id);return &quot;success&quot;;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVCå“åº”æ•°æ®</title>
      <link href="2020/11/20/springmvc/%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE/"/>
      <url>2020/11/20/springmvc/%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="å‡ ç§é€”å¾„è¾“å‡ºæ¨¡å‹æ•°æ®"><a href="#å‡ ç§é€”å¾„è¾“å‡ºæ¨¡å‹æ•°æ®" class="headerlink" title="å‡ ç§é€”å¾„è¾“å‡ºæ¨¡å‹æ•°æ®"></a>å‡ ç§é€”å¾„è¾“å‡ºæ¨¡å‹æ•°æ®</h2><p>1ï¼‰    <strong>ModelAndView</strong>: å¤„ç†æ–¹æ³•è¿”å›å€¼ç±»å‹ä¸º ModelAndView æ—¶, æ–¹æ³•ä½“å³å¯é€šè¿‡è¯¥å¯¹è±¡æ·»åŠ æ¨¡å‹æ•°æ®<br>2ï¼‰    <strong>Map æˆ– Model</strong>: å…¥å‚ä¸º org.springframework.ui.Modelã€<br>org.springframework.ui.ModelMap æˆ– java.uti.Map æ—¶ï¼Œå¤„ç†æ–¹æ³•è¿”å›æ—¶ï¼ŒMap ä¸­çš„æ•°æ®ä¼šè‡ªåŠ¨æ·»åŠ åˆ°æ¨¡å‹ä¸­ã€‚</p><h3 id="ModelAndView"><a href="#ModelAndView" class="headerlink" title="ModelAndView"></a>ModelAndView</h3><pre><code>æ§åˆ¶å™¨å¤„ç†æ–¹æ³•çš„è¿”å›å€¼å¦‚æœä¸º ModelAndView, åˆ™å…¶æ—¢åŒ…å«è§†å›¾ä¿¡æ¯ï¼Œä¹ŸåŒ…å«æ¨¡å‹æ•°æ®ä¿¡æ¯</code></pre><p>1ï¼‰    ä¸¤ä¸ªé‡è¦çš„æˆå‘˜å˜é‡:</p><pre><code><pre class="line-numbers language-java" data-language="java"><code class="language-java">private Object view;è§†å›¾ä¿¡æ¯private ModelMap model; æ¨¡å‹æ•°æ®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></code></pre><p>2ï¼‰æ·»åŠ æ¨¡å‹æ•°æ®:<br>MoelAndView addObject(String attributeName, Object attributeValue)   è®¾ç½®æ¨¡å‹æ•°æ®<br>ModelAndView addAllObject(Map&lt;String, ?&gt; modelMap)<br>3ï¼‰è®¾ç½®è§†å›¾:<br>void setView(View view)                è®¾ç½®è§†å›¾å¯¹è±¡<br>void setViewName(String viewName)     è®¾ç½®è§†å›¾åå­—<br>4ï¼‰è·å–æ¨¡å‹æ•°æ®<br>      protected Map&lt;String, Object&gt; getModelInternal()   è·å–æ¨¡å‹æ•°æ®<br>      public ModelMap getModelMap()<br>      public Map&lt;String, Object&gt; getModel()<br>5.3.1    Mapä»‹ç»</p><p><strong>SpringMVCåœ¨handleræ–¹æ³•ä¸Šä¼ å…¥Mapã€Modelå’ŒModelMapå‚æ•°ï¼Œå¹¶å‘è¿™äº›å‚æ•°ä¸­ä¿å­˜æ•°æ®ï¼ˆæ”¾å…¥åˆ°<code>è¯·æ±‚åŸŸ</code>ï¼‰ï¼Œéƒ½å¯ä»¥åœ¨<code>é¡µé¢è·å–åˆ°</code></strong></p><ul><li>å®ƒä»¬ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ</li><li>è¿è¡Œæ—¶çš„å…·ä½“ç±»å‹éƒ½æ˜¯ <code>BindingAwareModelMap</code>ï¼Œç›¸å½“äºç»™BindingAwareModelMapä¸­<strong>ä¿å­˜çš„æ•°æ®éƒ½ä¼šæ”¾åœ¨è¯·æ±‚åŸŸä¸­</strong></li><li></li><li> Map(jdkä¸­çš„æ¥å£)        Modelï¼ˆspringçš„æ¥å£ï¼‰</li><li></li><li> ModelMap(class,å®ç°Mapæ¥å£)</li><li>BindingAwareModelMapç»§æ‰¿äº†ExtendedModelMapï¼ŒExtendedModelMapç»§æ‰¿äº†ModelMap,å®ç°äº†Modelæ¥å£</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java">&#x2F;**     * url: http:&#x2F;&#x2F;localhost:8080&#x2F;demo&#x2F;handle01     *&#x2F;    @RequestMapping(&quot;&#x2F;handle01&quot;)    public ModelAndView handle01(@ModelAttribute(&quot;name&quot;) String name) &#123;        int c &#x3D; 1&#x2F;0;        Date date &#x3D; new Date();&#x2F;&#x2F; æœåŠ¡å™¨æ—¶é—´        &#x2F;&#x2F; è¿”å›æœåŠ¡å™¨æ—¶é—´åˆ°å‰ç«¯é¡µé¢        &#x2F;&#x2F; å°è£…äº†æ•°æ®å’Œé¡µé¢ä¿¡æ¯çš„ ModelAndView        ModelAndView modelAndView &#x3D; new ModelAndView();        &#x2F;&#x2F; addObject å…¶å®æ˜¯å‘è¯·æ±‚åŸŸä¸­request.setAttribute(&quot;date&quot;,date);        modelAndView.addObject(&quot;date&quot;,date);        &#x2F;&#x2F; è§†å›¾ä¿¡æ¯(å°è£…è·³è½¬çš„é¡µé¢ä¿¡æ¯) é€»è¾‘è§†å›¾å        modelAndView.setViewName(&quot;success&quot;);        return modelAndView;    &#125;       &#x2F;**     * ç›´æ¥å£°æ˜å½¢å‚ModelMapï¼Œå°è£…æ•°æ®     * url: http:&#x2F;&#x2F;localhost:8080&#x2F;demo&#x2F;handle11     *     * &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;modelmap:class org.springframework.validation.support.BindingAwareModelMap     *&#x2F;    @RequestMapping(&quot;&#x2F;handle11&quot;)    public String handle11(ModelMap modelMap) &#123;        Date date &#x3D; new Date();&#x2F;&#x2F; æœåŠ¡å™¨æ—¶é—´        modelMap.addAttribute(&quot;date&quot;,date);        System.out.println(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;modelmap:&quot; + modelMap.getClass());        return &quot;success&quot;;    &#125;    &#x2F;**     * ç›´æ¥å£°æ˜å½¢å‚Modelï¼Œå°è£…æ•°æ®     * url: http:&#x2F;&#x2F;localhost:8080&#x2F;demo&#x2F;handle12     * &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;model:class org.springframework.validation.support.BindingAwareModelMap     *&#x2F;    @RequestMapping(&quot;&#x2F;handle12&quot;)    public String handle12(Model model) &#123;        Date date &#x3D; new Date();        model.addAttribute(&quot;date&quot;,date);        System.out.println(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;model:&quot; + model.getClass());        return &quot;success&quot;;    &#125;    &#x2F;**     * ç›´æ¥å£°æ˜å½¢å‚Mapé›†åˆï¼Œå°è£…æ•°æ®     * url: http:&#x2F;&#x2F;localhost:8080&#x2F;demo&#x2F;handle13     * &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;map:class org.springframework.validation.support.BindingAwareModelMap     *&#x2F;    @RequestMapping(&quot;&#x2F;handle13&quot;)    public String handle13(Map&lt;String,Object&gt; map) &#123;        Date date &#x3D; new Date();        map.put(&quot;date&quot;,date);        System.out.println(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;map:&quot; + map.getClass());        return &quot;success&quot;;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsonäº¤äº’</title>
      <link href="2020/11/20/springmvc/json%E4%BA%A4%E4%BA%92/"/>
      <url>2020/11/20/springmvc/json%E4%BA%A4%E4%BA%92/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çˆ¬æ¥¼æ¢¯</title>
      <link href="2020/11/20/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E7%BB%84/%E7%88%AC%E6%A5%BC%E6%A2%AF/"/>
      <url>2020/11/20/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E7%BB%84/%E7%88%AC%E6%A5%BC%E6%A2%AF/</url>
      
        <content type="html"><![CDATA[<ol><li> çˆ¬æ¥¼æ¢¯<br>å‡è®¾ä½ æ­£åœ¨çˆ¬æ¥¼æ¢¯ã€‚éœ€è¦ n é˜¶ä½ æ‰èƒ½åˆ°è¾¾æ¥¼é¡¶ã€‚</li></ol><p>æ¯æ¬¡ä½ å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ã€‚ä½ æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶å‘¢ï¼Ÿ</p><p>æ³¨æ„ï¼šç»™å®š n æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼š 2<br>è¾“å‡ºï¼š 2<br>è§£é‡Šï¼š æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚</p><ol><li> 1 é˜¶ + 1 é˜¶</li><li> 2 é˜¶<br>ç¤ºä¾‹ 2ï¼š</li></ol><p>è¾“å…¥ï¼š 3<br>è¾“å‡ºï¼š 3<br>è§£é‡Šï¼š æœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚</p><ol><li> 1 é˜¶ + 1 é˜¶ + 1 é˜¶</li><li> 1 é˜¶ + 2 é˜¶</li><li> 2 é˜¶ + 1 é˜¶</li></ol>]]></content>
      
      
      <categories>
          
          <category> åŠ¨æ€è§„åˆ’ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç§»åŠ¨é›¶</title>
      <link href="2020/11/20/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E7%BB%84/%E7%9B%9B%E6%B0%B4%E6%9C%80%E5%A4%9A%E7%9A%84%E5%AE%B9%E5%99%A8/"/>
      <url>2020/11/20/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E7%BB%84/%E7%9B%9B%E6%B0%B4%E6%9C%80%E5%A4%9A%E7%9A%84%E5%AE%B9%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<ol start="11"><li>ç››æœ€å¤šæ°´çš„å®¹å™¨<br>ç»™ä½  n ä¸ªéè´Ÿæ•´æ•° a1ï¼Œa2ï¼Œâ€¦ï¼Œanï¼Œæ¯ä¸ªæ•°ä»£è¡¨åæ ‡ä¸­çš„ä¸€ä¸ªç‚¹ (i, ai) ã€‚åœ¨åæ ‡å†…ç”» n æ¡å‚ç›´çº¿ï¼Œå‚ç›´çº¿ i çš„ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«ä¸º (i, ai) å’Œ (i, 0) ã€‚æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ x è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚</li></ol><p>è¯´æ˜ï¼šä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚<br><img src="2020-12-11-22-24-00.png"><br>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼š[1,8,6,2,5,4,8,3,7]<br>è¾“å‡ºï¼š49<br>è§£é‡Šï¼šå›¾ä¸­å‚ç›´çº¿ä»£è¡¨è¾“å…¥æ•°ç»„ [1,8,6,2,5,4,8,3,7]ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå®¹å™¨èƒ½å¤Ÿå®¹çº³æ°´ï¼ˆè¡¨ç¤ºä¸ºè“è‰²éƒ¨åˆ†ï¼‰çš„æœ€å¤§å€¼ä¸º 49ã€‚</p><hr><h2 id="86-åˆ†éš”é“¾è¡¨"><a href="#86-åˆ†éš”é“¾è¡¨" class="headerlink" title="86. åˆ†éš”é“¾è¡¨"></a>86. åˆ†éš”é“¾è¡¨</h2><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨å’Œä¸€ä¸ªç‰¹å®šå€¼ x ï¼Œè¯·ä½ å¯¹é“¾è¡¨è¿›è¡Œåˆ†éš”ï¼Œä½¿å¾—æ‰€æœ‰å°äº x çš„èŠ‚ç‚¹éƒ½å‡ºç°åœ¨å¤§äºæˆ–ç­‰äº x çš„èŠ‚ç‚¹ä¹‹å‰ã€‚<br><strong>ä½ åº”å½“ä¿ç•™ä¸¤ä¸ªåˆ†åŒºä¸­æ¯ä¸ªèŠ‚ç‚¹çš„åˆå§‹ç›¸å¯¹ä½ç½®ã€‚</strong><br>è¾“å…¥ï¼šhead = 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;2, x = 3<br>è¾“å‡ºï¼š1-&gt;2-&gt;2-&gt;4-&gt;3-&gt;5</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public ListNode partition(ListNode head, int x) &#123;        ListNode l1 &#x3D; new ListNode(-1);        ListNode l2 &#x3D; new ListNode(-1);        ListNode cur &#x3D; head;        ListNode small &#x3D; l1;        ListNode large &#x3D; l2;        while(cur!&#x3D;null)&#123;            if(cur.val&lt;x)&#123;                small.next &#x3D;cur;                small &#x3D; small.next;            &#125;else&#123;                large.next &#x3D; cur;                large &#x3D; large.next;            &#125;            cur &#x3D; cur.next;        &#125;        large.next &#x3D; null;        small.next &#x3D; l2.next;        return l1.next;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç§»åŠ¨é›¶</title>
      <link href="2020/11/20/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E7%BB%84/%E7%A7%BB%E5%8A%A8%E9%9B%B6/"/>
      <url>2020/11/20/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E7%BB%84/%E7%A7%BB%E5%8A%A8%E9%9B%B6/</url>
      
        <content type="html"><![CDATA[<ol start="283"><li>ç§»åŠ¨é›¶<br>ç»™å®šä¸€ä¸ªæ•°ç»„ numsï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°å°†æ‰€æœ‰ 0 ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼ŒåŒæ—¶ä¿æŒéé›¶å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚</li></ol><p>ç¤ºä¾‹:</p><p>è¾“å…¥: [0,1,0,3,12]<br>è¾“å‡º: [1,3,12,0,0]<br>è¯´æ˜:</p><p>å¿…é¡»åœ¨åŸæ•°ç»„ä¸Šæ“ä½œï¼Œä¸èƒ½æ‹·è´é¢å¤–çš„æ•°ç»„ã€‚<br>å°½é‡å‡å°‘æ“ä½œæ¬¡æ•°ã€‚</p><p>ä½¿ç”¨countæŒ‡é’ˆæŒ‡å‘è¯¥æ•°ç»„çš„å¤´éƒ¨ã€‚<br>éå†æ•°ç»„ï¼šiæŒ‡é’ˆä¸æ–­å‘å³ç§»åŠ¨ï¼Œæ¯æ¬¡iæŒ‡é’ˆæŒ‡å‘éé›¶æ•°ï¼Œåˆ™å°†å·¦å³æŒ‡é’ˆå¯¹åº”çš„æ•°äº¤æ¢ï¼ŒåŒæ—¶å·¦æŒ‡é’ˆå³ç§»ã€‚<br>æ³¨æ„åˆ°ä»¥ä¸‹æ€§è´¨ï¼š<br>countæŒ‡é’ˆå·¦è¾¹å‡ä¸ºéé›¶æ•°ï¼›<br>å› æ­¤æ¯æ¬¡äº¤æ¢ï¼Œéƒ½æ˜¯å°†å·¦æŒ‡é’ˆçš„é›¶ä¸å³æŒ‡é’ˆçš„éé›¶æ•°äº¤æ¢ï¼Œä¸”éé›¶æ•°çš„ç›¸å¯¹é¡ºåºå¹¶æœªæ”¹å˜ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äº‹åŠ¡ä¼ æ’­ç‰¹æ€§è¯¦è§£</title>
      <link href="2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%E4%BA%8B%E5%8A%A1%E4%BC%A0%E6%92%AD%E7%89%B9%E6%80%A7%E8%AF%A6%E8%A7%A3/"/>
      <url>2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%E4%BA%8B%E5%8A%A1%E4%BC%A0%E6%92%AD%E7%89%B9%E6%80%A7%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h1 id="äº‹åŠ¡ä¼ æ’­ç‰¹æ€§â€”-è¯¦è§£ï¼š"><a href="#äº‹åŠ¡ä¼ æ’­ç‰¹æ€§â€”-è¯¦è§£ï¼š" class="headerlink" title="äº‹åŠ¡ä¼ æ’­ç‰¹æ€§â€”-è¯¦è§£ï¼š"></a>äº‹åŠ¡ä¼ æ’­ç‰¹æ€§â€”-è¯¦è§£ï¼š</h1><p><code>required</code>ï¼šä½¿ç”¨å½“å‰çš„äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªäº‹åŠ¡ï¼Œå­æ–¹æ³•æ˜¯å¿…é¡»è¿è¡Œåœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­çš„ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¿™ä¸ªäº‹åŠ¡ï¼Œæˆä¸ºä¸€ä¸ªæ•´ä½“ã€‚<br><code>supports</code>:å¦‚æœå½“å‰æœ‰äº‹åŠ¡ï¼Œåˆ™ä½¿ç”¨äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™ä¸ä½¿ç”¨äº‹åŠ¡<br><code>mandatory</code>ï¼šè¯¥ä¼ æ’­å±æ€§å¼ºåˆ¶å¿…é¡»å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸<br><code>required_new</code>:å¦‚æœå½“å‰æœ‰äº‹åŠ¡ï¼Œåˆ™æŒ‚èµ·è¯¥äº‹åŠ¡ï¼Œå¹¶ä¸”è‡ªå·±åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ç»™è‡ªå·±ä½¿ç”¨ï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™åŒrequired<br><code>not_support</code>:å¦‚æœå½“å‰æœ‰äº‹åŠ¡ï¼Œåˆ™æŠŠäº‹åŠ¡æŒ‚èµ·ï¼Œè‡ªå·±ä¸ä½¿ç”¨äº‹åŠ¡å»è¿›è¡Œæ•°æ®åº“æ“ä½œ<br><code>never</code>:å¦‚æœå½“å‰äº‹åŠ¡å­˜åœ¨ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸<br><code>nested</code>ï¼š  å¦‚æœå½“å‰æœ‰äº‹åŠ¡ï¼Œåˆ™å¼€å¯å­äº‹åŠ¡ï¼ˆåµŒå¥—äº‹åŠ¡ï¼‰ï¼ŒåµŒå¥—äº‹åŠ¡æ˜¯ç‹¬ç«‹æäº¤æˆ–è€…å›æ»šï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™åŒrequired<br>ä½†æ˜¯å¦‚æœçˆ¶äº‹åŠ¡æäº¤ï¼Œåˆ™ä¼šæºå¸¦å­äº‹åŠ¡ä¸€èµ·æäº¤ã€‚å¦‚æœçˆ¶äº‹åŠ¡å›æ»šï¼Œåˆ™å­äº‹åŠ¡ä¼šä¸€èµ·å›æ»šã€‚ç›¸åï¼Œå­äº‹åŠ¡å¼‚å¸¸ï¼Œåˆ™çˆ¶äº‹åŠ¡å¯ä»¥ä¸ä¼šæ»šï¼ˆæ•è·å­äº‹åŠ¡çš„å¼‚å¸¸ï¼‰ï¼Œä¹Ÿå¯ä»¥å›æ»šã€‚<br>æœ‰å¼‚å¸¸æ‰ä¼šå›æ»šäº‹åŠ¡ï¼Œå¦‚æœå¼‚å¸¸è¢«æ•è·ï¼Œä¹Ÿå°±æ˜¯tryï¼Œcatchï¼Œå°±ä¸ä¼šå›æ»šäº‹åŠ¡äº†ï¼Œ<br>å‘ç”Ÿå¼‚å¸¸ï¼Œæˆ–è€…æŠ›å‡ºå¼‚å¸¸éƒ½ä¼šå›æ»šäº‹åŠ¡</p><hr><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><ol><li><p>å¯¼å…¥testä¾èµ–</p><pre class="line-numbers language-none"><code class="language-none">&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;    &lt;artifactId&gt;spring-boot-starter-test&lt;&#x2F;artifactId&gt;    &lt;scope&gt;test&lt;&#x2F;scope&gt;&lt;&#x2F;dependency&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>ç¼–å†™testç±» </p><pre class="line-numbers language-java" data-language="java"><code class="language-java">@RunWith(SpringRunner.class)@SpringBootTest(classes &#x3D; Application.class)public class TransTest &#123;    @Autowired    private TestTransService testTransService;    &#x2F;*    * äº‹åŠ¡ä¼ æ’­ç‰¹æ€§    *   requiredï¼š    *   supportsï¼š    *   mandatoryï¼š    *   required_new:    *   not_supported:    *   never:    *   nested:    * *&#x2F;    @Test    public void demo()&#123;        testTransService.saveParent();        testTransService.saveChildren();    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>ç¼–å†™éœ€è¦çš„æµ‹è¯•æ–¹æ³•</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">@Service    public class TestTransService &#123;        @Autowired        private StuMapper stuMapper;        public void saveParent()&#123;            Stu stu&#x3D;new Stu();            stu.setName(&quot;parent&quot;);            stu.setAge(55);            stuMapper.insert(stu);        &#125;        public void saveChildren()&#123;            saveChild1();            int a&#x3D;1&#x2F;0;            saveChild2();        &#125;        public void saveChild1()&#123;            Stu stu1&#x3D;new Stu();            stu1.setName(&quot;child-1&quot;);            stu1.setAge(11);            stuMapper.insert(stu1);        &#125;        public void saveChild2()&#123;            Stu stu2&#x3D;new Stu();            stu2.setName(&quot;child-2&quot;);            stu2.setAge(22);            stuMapper.insert(stu2);        &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><hr><h2 id="REQUIRED"><a href="#REQUIRED" class="headerlink" title=" REQUIRED"></a><font color = gold> REQUIRED</font></h2><font color=orange>requiredï¼šä½¿ç”¨å½“å‰çš„äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªäº‹åŠ¡ï¼Œå­æ–¹æ³•æ˜¯å¿…é¡»è¿è¡Œåœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­çš„ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¿™ä¸ªäº‹åŠ¡ï¼Œæˆä¸ºä¸€ä¸ªæ•´ä½“ã€‚</font><p>(1)<code>demoæ–¹æ³•æ²¡æœ‰å¼€å¯äº‹åŠ¡</code>ï¼Œç›´æ¥æµ‹è¯•<br>æŠ¥é”™ï¼šjava.lang.ArithmeticException: / by zero<br>parentï¼Œchild1å…¥åº“<br><strong>ç»“è®ºï¼šåœ¨æŠ¥é”™ä¹‹å‰ï¼Œå·²ç»æ‰§è¡Œçš„ä»£ç ä¼šè¿›è¡Œæ•°æ®åº“æ“ä½œï¼Œä¹‹åä»£ç æ²¡æœ‰æ‰§è¡Œï¼Œä¹Ÿå°±æ²¡æœ‰æ“ä½œæ•°æ®åº“</strong></p><hr><p>(2)<code>åœ¨demo()æ–¹æ³•ä¸Šå¼€å¯äº‹åŠ¡propagation = Propagation.REQUIREDï¼Œè¿›è¡Œæµ‹è¯•</code><br>    /*<br>    * äº‹åŠ¡ä¼ æ’­ç‰¹æ€§<br>    *   requiredï¼š<br>    *   supportsï¼š<br>    *   mandatoryï¼š<br>    *   required_new:<br>    *   not_supported:<br>    *   never:<br>    *   nested:<br>    * */</p><pre><code>`@Transactional(propagation = Propagation.REQUIRED)`<pre class="line-numbers language-java" data-language="java"><code class="language-java">@Testpublic void demo()&#123;    testTransService.saveParent();    testTransService.saveChildren();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></code></pre><p>æŠ¥é”™ï¼š<code>java.lang.ArithmeticException: / by zero</code></p><p><strong>ç»“è®º</strong>ï¼š<br>demo()æ–¹æ³•å¼€å¯REQUIREDäº‹åŠ¡ï¼Œäº‹åŠ¡å…·æœ‰ä¼ æ’­ç‰¹æ€§ï¼Œæ–¹ä½“ä½“é‡Œé¢çš„æ–¹æ³•ä¹Ÿå…·æœ‰äº‹åŠ¡ï¼Œæ‰€ä»¥æŠ¥é”™åæ•°æ®åº“è¿›è¡Œäº†å›æ»šæ“ä½œ</p><p>å¦‚æœdemoæ–¹æ³•æ²¡æœ‰å¼€å¯äº‹åŠ¡ï¼Œåœ¨saveChildren()ä¸Šå¼€å¯äº†äº‹åŠ¡ï¼ˆ  @Transactional(propagation = Propagation.REQUIRED)ï¼‰ï¼Œåˆ™ä¼šä¿å­˜saveParent()æ–¹æ³•æ’å…¥çš„æ•°æ®ã€‚</p><hr><h2 id="supports"><a href="#supports" class="headerlink" title="supports "></a><font color = gold>supports </font></h2><p><font color = orange>supports:å¦‚æœå½“å‰æœ‰äº‹åŠ¡ï¼Œåˆ™ä½¿ç”¨äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™ä¸ä½¿ç”¨äº‹åŠ¡</font></p><ol><li>demoæ–¹æ³•ä¸Šæ²¡æœ‰åŠ äº‹åŠ¡ï¼Œä½†æ˜¯ saveChildrenåŠ SUPPORTSäº‹åŠ¡<pre class="line-numbers language-java" data-language="java"><code class="language-java">&#96;@Transactional(propagation &#x3D; Propagation.SUPPORTS)&#96;public void saveChildren()&#123;            saveChild1();            int a&#x3D;1&#x2F;0;            saveChild2();        &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><p><strong>ç»“è®º</strong>ï¼š æ•°æ®åº“æ–°å¢parent,child-1æ•°æ®<br>æ˜¯å› ä¸ºå¤–å±‚demoæ²¡æœ‰äº‹åŠ¡ï¼ŒsaveChildrenä¹Ÿå°±è·Ÿç€å¤–å±‚å‡½æ•°æ¥ï¼Œä¸å¢åŠ äº‹åŠ¡ã€‚<br>2. demoæ–¹æ³•ä¸ŠåŠ Requiredäº‹åŠ¡ï¼Œä½†æ˜¯ saveChildrenåŠ SUPPORTSäº‹åŠ¡</p><p><strong>ç»“è®º</strong>: æ²¡æœ‰æ•°æ®å…¥åº“ï¼Œäº‹åŠ¡å°±è¿›è¡Œäº†å›æ»šæ“ä½œ</p><hr><h2 id="mandatory"><a href="#mandatory" class="headerlink" title="mandatory"></a><font color = gold>mandatory</font></h2><p><font color = orange>è¯¥ä¼ æ’­å±æ€§å¼ºåˆ¶å¿…é¡»å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸</font></p><ol><li>æŠŠè°ƒç”¨æ–¹demoçš„Requiredäº‹åŠ¡ç»™æ³¨é‡Šæ‰ï¼Œåœ¨è¢«è°ƒç”¨æ–¹saveChildrenä½¿ç”¨äº‹åŠ¡mandatory<br>ä¼šæŠ›å‡ºæ²¡æœ‰äº‹åŠ¡çš„å¼‚å¸¸</li><li>demoæ–¹æ³•ä¸ŠåŠ Requiredäº‹åŠ¡ï¼ŒsaveChildrenåŠ mandatoryäº‹åŠ¡</li></ol><hr><h2 id="required-new"><a href="#required-new" class="headerlink" title="required_new"></a><font color = gold>required_new</font></h2><p><font color = orange>required_new:å¦‚æœå½“å‰æœ‰äº‹åŠ¡ï¼Œåˆ™æŒ‚èµ·è¯¥äº‹åŠ¡ï¼Œå¹¶ä¸”è‡ªå·±åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ç»™è‡ªå·±ä½¿ç”¨ï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™åŒrequired</font></p><ol><li>æŠŠè°ƒç”¨æ–¹demoçš„Requiredäº‹åŠ¡ç»™æ³¨é‡Šæ‰ï¼Œåœ¨è¢«è°ƒç”¨æ–¹saveChildrenä½¿ç”¨äº‹åŠ¡required_new<br>ä¼šæœ‰ä¸€æ¡parentè®°å½•ï¼ŒsaveChildrenè‡ªå·±æœ¬èº«æœ‰äº‹åŠ¡ï¼Œè¿›è¡Œäº†å›æ»š</li><li><strong>demoæ–¹æ³•ä¸ŠåŠ Requiredäº‹åŠ¡ï¼ŒsaveChildrenåŠ required_newäº‹åŠ¡<br>æ­¤æ—¶æœ‰ä¸¤ä¸ªäº‹åŠ¡ï¼Œ<br>æ•°æ®åº“æ­¤æ—¶å¹¶æ²¡æœ‰ä»»ä½•æ•°æ®<br>è¿™æ˜¯å› ä¸ºsaveChildrenå›æ»šï¼Œæœ¬èº«æœ‰/0å¼‚å¸¸ï¼Œä¼šå½±å“åˆ°demoæ–¹æ³•ï¼Œä¹Ÿä¼šå›æ»š</strong><br> ç”±äºæŠ›å‡ºç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œæ‰€ä»¥saveChildren()è¿™ä¸ªæ–°äº‹ç‰©ä¼šå›æ»šï¼Œè€ŒæŠ›å‡ºçš„å¼‚å¸¸ä¼šä¼ é€’ç»™çˆ¶æ–¹æ³•ï¼Œçˆ¶æ–¹æ³•çš„äº‹åŠ¡ä¹Ÿä¼šå›æ»šï¼Œæ‰€æœ‰æ²¡æœ‰ä¸€æ¡è®°å½•</li><li>demoæ–¹æ³•ä¸ŠåŠ Requiredäº‹åŠ¡ï¼ŒsaveChildrenåŠ required_newäº‹åŠ¡<br> æŠŠsaveChildrençš„/0æ³¨é‡Šæ‰ï¼Œæ”¾åˆ°demoæ–¹æ³•ä¸­çš„æ—¶å€™ï¼Œ<br> æ•°æ®åº“æœ‰child1 ,chird2<br> ç»“è®ºï¼šå¯ä»¥è¯æ˜required_newåˆ›å»ºçš„æ—¶æ–°äº‹åŠ¡</li></ol><hr><h2 id="not-support"><a href="#not-support" class="headerlink" title="not_support"></a><font color = gold>not_support</font></h2><p><font color = orange>å¦‚æœå½“å‰æœ‰äº‹åŠ¡ï¼Œåˆ™æŠŠäº‹åŠ¡æŒ‚èµ·ï¼Œè‡ªå·±ä¸ä½¿ç”¨äº‹åŠ¡å»è¿›è¡Œæ•°æ®åº“æ“ä½œ</font></p><ol><li>æŠŠè°ƒç”¨æ–¹demoçš„Requiredäº‹åŠ¡ç»™æ³¨é‡Šæ‰ï¼Œåœ¨è¢«è°ƒç”¨æ–¹saveChildrenï¼ˆæœ‰å¼‚å¸¸ï¼‰ä½¿ç”¨äº‹åŠ¡not_support<br>parentï¼Œchild1å…¥åº“,æ²¡æœ‰å›æ»š</li><li>è°ƒç”¨æ–¹demoä½¿ç”¨Requiredäº‹åŠ¡ï¼Œåœ¨è¢«è°ƒç”¨æ–¹saveChildrenï¼ˆæœ‰å¼‚å¸¸ï¼‰ä½¿ç”¨äº‹åŠ¡not_support<br>child1å…¥åº“</li></ol><hr><h2 id="never"><a href="#never" class="headerlink" title="never"></a><font color = gold>never</font></h2><p><font color = orange>å¦‚æœå½“å‰äº‹åŠ¡å­˜åœ¨ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸</font><br>1.è°ƒç”¨æ–¹demoä½¿ç”¨Requiredäº‹åŠ¡ï¼Œåœ¨è¢«è°ƒç”¨æ–¹saveChildrenï¼ˆæœ‰å¼‚å¸¸ï¼‰ä½¿ç”¨äº‹åŠ¡never<br>    ä¼šæŠ›å‡ºå¦ä¸€ä¸ªå¼‚å¸¸éæ³•äº‹åŠ¡çŠ¶æ€<br>2.è°ƒç”¨æ–¹demoä¸ä½¿ç”¨Requiredäº‹åŠ¡ï¼Œåœ¨è¢«è°ƒç”¨æ–¹saveChildrenï¼ˆæœ‰å¼‚å¸¸ï¼‰ä½¿ç”¨äº‹åŠ¡never<br>    ä¼šæŠ›å‡ºå¼‚å¸¸ /0  parentï¼Œchild1å…¥åº“</p><hr><h2 id="nested"><a href="#nested" class="headerlink" title="nested"></a><font color = gold>nested</font></h2><p><font color = orange>å¦‚æœå½“å‰æœ‰äº‹åŠ¡ï¼Œåˆ™å¼€å¯å­äº‹åŠ¡ï¼ˆåµŒå¥—äº‹åŠ¡ï¼‰ï¼ŒåµŒå¥—äº‹åŠ¡æ˜¯ç‹¬ç«‹æäº¤æˆ–è€…å›æ»šï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™åŒrequired</font></p><p>1.è°ƒç”¨æ–¹demoä½¿ç”¨Requiredäº‹åŠ¡ï¼ˆæœ‰å¼‚å¸¸ï¼‰ï¼Œåœ¨è¢«è°ƒç”¨æ–¹saveChildrenï¼ˆæ²¡æœ‰å¼‚å¸¸ï¼‰ä½¿ç”¨äº‹åŠ¡nested<br>    æ•°æ®åº“æ²¡æœ‰æ•°æ®<br>    å¦‚æœåœ¨å¤–å±‚æ–¹æ³•å‘ç”Ÿå¼‚å¸¸ï¼Œè¢«è°ƒç”¨æ–¹æ³•ä¹Ÿä¼šå›æ»š<br>    <strong>çˆ¶äº‹åŠ¡å›æ»šï¼Œåˆ™å­äº‹åŠ¡ä¼šä¸€èµ·å›æ»š</strong></p><pre><code>**åŒºåˆ«ä¸required_new**  ä¸»æ–¹æ³•å‘ç”Ÿå¼‚å¸¸ï¼Œå­æ–¹æ³•ä¸ä¼šæ”¶åˆ°å½±å“ æ–°å¼€å¯ä¸€ä¸ªæ–°çš„äº‹åŠ¡  çœ‹å‰é¢</code></pre><p>2.è°ƒç”¨æ–¹demoä½¿ç”¨Requiredäº‹åŠ¡ï¼ˆæ²¡æœ‰å¼‚å¸¸ï¼‰ï¼Œåœ¨è¢«è°ƒç”¨æ–¹saveChildrenï¼ˆæœ‰å¼‚å¸¸ï¼‰ä½¿ç”¨äº‹åŠ¡nested<br>    ä¼šæŠ›å‡ºå¼‚å¸¸ /0  æ²¡æœ‰æ•°æ®åº“å…¥åº“</p><pre><code>åœ¨å¤–å±‚æ–¹æ³•demoè¿½åŠ try catchï¼Œä¸»æ–¹æ³•å…¶ä»–æ“ä½œä¸ä¼šå—åˆ°å­äº‹åŠ¡çš„å½±å“<pre class="line-numbers language-java" data-language="java"><code class="language-java">@Transactional(propagation &#x3D; Propagation.REQUIRED)public void demo()&#123;    testTransService.saveParent();    try &#123;        &#x2F;&#x2F;ç›¸å½“äºæ•°æ®åº“ä¸­çš„savepoint æ•è·å¼‚å¸¸ä¹‹åï¼Œä¸å½±å“å…¶ä»–äº‹åŠ¡æ“ä½œ        testTransService.saveChildren();    &#125; catch (Exception e) &#123;        e.printStackTrace();    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></code></pre><font color = orange>ä½†æ˜¯å¦‚æœçˆ¶äº‹åŠ¡æäº¤ï¼Œåˆ™ä¼šæºå¸¦å­äº‹åŠ¡ä¸€èµ·æäº¤ã€‚å¦‚æœçˆ¶äº‹åŠ¡å›æ»šï¼Œåˆ™å­äº‹åŠ¡ä¼šä¸€èµ·å›æ»šã€‚ç›¸åï¼Œå­äº‹åŠ¡å¼‚å¸¸ï¼Œåˆ™çˆ¶äº‹åŠ¡å¯ä»¥ä¸å›æ»šï¼ˆæ•è·å­äº‹åŠ¡çš„å¼‚å¸¸ï¼‰ï¼Œä¹Ÿå¯ä»¥å›æ»šã€‚æœ‰å¼‚å¸¸æ‰ä¼šå›æ»šäº‹åŠ¡ï¼Œå¦‚æœå¼‚å¸¸è¢«æ•è·ï¼Œä¹Ÿå°±æ˜¯tryï¼Œcatchï¼Œå°±ä¸ä¼šå›æ»šäº‹åŠ¡äº†ï¼Œå‘ç”Ÿå¼‚å¸¸ï¼Œæˆ–è€…æŠ›å‡ºå¼‚å¸¸éƒ½ä¼šå›æ»šäº‹åŠ¡</font>]]></content>
      
      
      
        <tags>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•ä½“ç”µå•†é¡¹ç›®--æ—¥å¿—ç›‘æ§åŠŸèƒ½</title>
      <link href="2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%E5%8D%95%E4%BD%93%E7%94%B5%E5%95%86x%E9%A1%B9%E7%9B%AE--%E6%97%A5%E5%BF%97%E7%9B%91%E6%8E%A7%E5%8A%9F%E8%83%BD/"/>
      <url>2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%E5%8D%95%E4%BD%93%E7%94%B5%E5%95%86x%E9%A1%B9%E7%9B%AE--%E6%97%A5%E5%BF%97%E7%9B%91%E6%8E%A7%E5%8A%9F%E8%83%BD/</url>
      
        <content type="html"><![CDATA[<h2 id="é€šè¿‡æ—¥å¿—ç›‘æ§serviceæ‰§è¡Œæ—¶é—´"><a href="#é€šè¿‡æ—¥å¿—ç›‘æ§serviceæ‰§è¡Œæ—¶é—´" class="headerlink" title="é€šè¿‡æ—¥å¿—ç›‘æ§serviceæ‰§è¡Œæ—¶é—´"></a>é€šè¿‡æ—¥å¿—ç›‘æ§serviceæ‰§è¡Œæ—¶é—´</h2><p>ä½¿ç”¨åˆ°åˆ‡é¢ï¼Œå¼•å…¥ä¾èµ–<br><code>        &lt;!--å¼•å…¥aopä¾èµ–--&gt;         &lt;dependency&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;             &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;         &lt;/dependency        </code></p><p>ä½¿ç”¨<code>ç¯ç»•é€šçŸ¥</code>ï¼Œç¼–å†™åˆ‡é¢ç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">package com.imooc.aspect; import org.aspectj.lang.ProceedingJoinPoint;import org.aspectj.lang.annotation.Around;import org.aspectj.lang.annotation.Aspect;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.stereotype.Component;&#x2F;** è®°å½•æ¯ä¸ªserviceæ‰€éœ€è¦çš„æ—¶é—´* *&#x2F;@Aspect@Componentpublic class ServiceLogAspect &#123;    private static final Logger log&#x3D; LoggerFactory.getLogger(ServiceLogAspect.class);     &#x2F;**     * åˆ‡é¢è¡¨è¾¾å¼ï¼š     * execution æ‰§è¡Œçš„ä½ç½®     * ç¬¬ä¸€å¤„ï¼š* ä»£è¡¨æ‰€æœ‰çš„è¿”å›ç±»å‹     * ç¬¬äºŒå¤„ï¼šåŒ…å ä»£è¡¨aopç›‘æ§çš„ç±»æ‰€åœ¨çš„åŒ…     * ç¬¬ä¸‰å¤„ï¼š.. ä»£è¡¨è¯¥åŒ…åŠå…¶å­åŒ…     * ç¬¬å››å¤„ï¼š* æ‰€æœ‰çš„ç±»     * ç¬¬äº”å¤„ï¼š*ï¼ˆ..) * ä»£è¡¨æ‰€æœ‰çš„æ–¹æ³•åï¼Œ(..)ä»£è¡¨æ–¹æ³•ä¸­çš„ä»»ä½•å‚æ•°     * @param joinPoint     * @return     *&#x2F;    @Around(&quot;execution(* com.imooc.service.impl..*.*(..))&quot;)    public Object recordTimeLog(ProceedingJoinPoint joinPoint) throws Throwable &#123;        &#x2F;&#x2F;&#123;&#125; ä»£è¡¨å ä½ç¬¦ &#123;&#125;.&#123;&#125; ç±»å.æ–¹æ³•å        log.info(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; å¼€å§‹æ‰§è¡Œ &#123;&#125;.&#123;&#125;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot;,joinPoint.getTarget().getClass(),                joinPoint.getSignature().getName());        &#x2F;&#x2F;å¼€å§‹è®°å½•æ—¶é—´        long start&#x3D;System.currentTimeMillis();        &#x2F;&#x2F;æ‰§è¡Œæ–¹æ³•        Object result &#x3D; joinPoint.proceed();        &#x2F;&#x2F;ç»“æŸè®°å½•æ—¶é—´        long end&#x3D;System.currentTimeMillis();        long takeTime&#x3D;end-start;        if(takeTime&gt;3000)&#123;            log.error(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; æ‰§è¡Œç»“æŸï¼Œè€—æ—¶ï¼š&#123;&#125;æ¯«ç§’ &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot;,takeTime);        &#125;else if(takeTime&gt;2000)&#123;            log.warn(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; æ‰§è¡Œç»“æŸï¼Œè€—æ—¶ï¼š&#123;&#125;æ¯«ç§’ &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot;,takeTime);        &#125;else&#123;            log.info(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; æ‰§è¡Œç»“æŸï¼Œè€—æ—¶ï¼š&#123;&#125;æ¯«ç§’ &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot;,takeTime);        &#125;        return result;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> é¡¹ç›® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•ä½“ç”µå•†é¡¹ç›®--æ•´åˆswagger2</title>
      <link href="2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%E5%8D%95%E4%BD%93%E7%94%B5%E5%95%86%E9%A1%B9%E7%9B%AE--%E6%95%B4%E5%90%88Swagger2/"/>
      <url>2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%E5%8D%95%E4%BD%93%E7%94%B5%E5%95%86%E9%A1%B9%E7%9B%AE--%E6%95%B4%E5%90%88Swagger2/</url>
      
        <content type="html"><![CDATA[<p>postMan åç«¯äººå‘˜è‡ªæµ‹<br>å’Œå‰ç«¯äººå‘˜äº¤äº’çš„æ—¶å€™å°±éœ€è¦ç¼–å†™æ¥å£æ–‡æ¡£äº†</p><p>API  swagger2  å¼€æºçš„æ’ä»¶ï¼Œå‡å°‘ç¼–å†™æ›´å¤šçš„æ–‡æ¡£ï¼Œåªéœ€è¦é€šè¿‡ä¸€äº›ç®€å•çš„ä»£ç ï¼Œå’Œå‰ç«¯äººå‘˜å¯¹æ¥<br>                å¹¶ä¸”ä½¿ç”¨æ–‡æ¡£ä¹Ÿèƒ½å®Œæˆè‡ªæµ‹åŠŸèƒ½</p><p>å¼•å…¥ä¾èµ–ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">&lt;!--swagger2 é…ç½® ä¸‹é¢ä¸¤ä¸ªæ˜¯å®˜æ–¹çš„ --&gt;&lt;dependency&gt;    &lt;groupId&gt;io.springfox&lt;&#x2F;groupId&gt;    &lt;artifactId&gt;springfox-swagger2&lt;&#x2F;artifactId&gt;    &lt;version&gt;2.4.0&lt;&#x2F;version&gt;&lt;&#x2F;dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;io.springfox&lt;&#x2F;groupId&gt;    &lt;artifactId&gt;springfox-swagger-ui&lt;&#x2F;artifactId&gt;    &lt;version&gt;2.4.0&lt;&#x2F;version&gt;&lt;&#x2F;dependency&gt;&lt;!--è¿™ä¸ªæ˜¯ç¬¬ä¸‰æ–¹çš„ui--&gt;&lt;dependency&gt;    &lt;groupId&gt;com.github.xiaoymin&lt;&#x2F;groupId&gt;    &lt;artifactId&gt;swagger-bootstrap-ui&lt;&#x2F;artifactId&gt;    &lt;version&gt;1.6&lt;&#x2F;version&gt;&lt;dependency&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java">&#x2F;*å‘springbootè¡¨æ˜æ˜¯é…ç½®ç±»*&#x2F;@Configuration@EnableSwagger2&#x2F;*å¼€å¯swagger2é…ç½®*&#x2F;public class Swagger2 &#123;    &#x2F;&#x2F; http:&#x2F;&#x2F;localhost:8088&#x2F;swagger-ui.html åŸè·¯å¾„    &#x2F;&#x2F; http:&#x2F;&#x2F;localhost:8088&#x2F;doc.html ç•Œé¢ç¾è§‚è·¯å¾„    &#x2F;&#x2F; é…ç½®swagger2æ ¸å¿ƒé…ç½® docket    @Bean    public Docket createRestApi()&#123;        return new Docket(DocumentationType.SWAGGER_2) &#x2F;&#x2F;æŒ‡å®šapiç±»å‹ä¸ºSwagger2                .apiInfo(apiInfo())                    &#x2F;&#x2F;ç”¨äºå®šä¹‰apiæ–‡æ¡£æ±‡æ€»                .select().apis(RequestHandlerSelectors                        .basePackage(&quot;com.imooc.controller&quot;)) &#x2F;&#x2F;æŒ‡å®šcontrolleråŒ…                        .paths(PathSelectors.any())             &#x2F;&#x2F;é€‰å®šæ‰€æœ‰controlleråŒ…                        .build();    &#125;    private ApiInfo apiInfo()&#123;        return new ApiInfoBuilder()                .title(&quot;å¤©å¤©åƒè´§ ç”µå•†å¹³å°æ¥å£api&quot;)            &#x2F;&#x2F;æ–‡æ¡£é¡µæ ‡é¢˜                .contact(new Contact(&quot;å°ä¸¸å­&quot;,                        &quot;https:&#x2F;&#x2F;tomorrow813.github.io&quot;,                        &quot;245482791@qq.com&quot;))           &#x2F;&#x2F;è”ç³»äººä¿¡æ¯                .description(&quot;ä¸“ä¸ºå¤©å¤©åƒè´§æä¾›çš„apiæ–‡æ¡£&quot;)      &#x2F;&#x2F;è¯¦ç»†ä¿¡æ¯                .version(&quot;1.0.1&quot;)                           &#x2F;&#x2F;æ–‡æ¡£ç‰ˆæœ¬å·ç                 .termsOfServiceUrl(&quot;https:&#x2F;&#x2F;www.imooc.com&quot;) &#x2F;&#x2F;ç½‘ç«™åœ°å€                .build();    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>swagger2ä¼˜åŒ–</p><p>controllerï¼š</p><p>@ApiIgnoreæ³¨é‡Šåœ¨controllerä¸Šï¼šè¡¨æ˜è¯¥controllerä¸æ˜¾ç¤ºåœ¨æ–‡æ¡£ä¸­/<em>ç”¨äºæ³¨é‡Šè¯¥controller</em>/<br>@Api(value = â€œæ³¨å†Œç™»å½•â€,tags = {â€œç”¨äºæ³¨å†Œç™»å½•çš„ç›¸å…³æ¥å£â€})/<em>ç”¨äºæ³¨é‡Šè¯¥controller</em>/<br>@ApiOperation(value = â€œç”¨æˆ·åæ˜¯å¦å­˜åœ¨â€,notes = â€œç”¨æˆ·åæ˜¯å¦å­˜åœ¨â€,httpMethod = â€œGETâ€)//ç”¨äºæ³¨é‡Šè¯¥æ–¹æ³•<br>modelï¼š</p><p>æ³¨é‡Šåœ¨å®ä½“ç±»åä¸Šï¼š@ApiModel(value = â€œç”¨æˆ·åBOâ€,description = â€œä»å®¢æˆ·ç«¯ï¼Œæœ‰ç”¨æˆ·ä¼ å…¥çš„æ•°æ®å°è£…åœ¨æ­¤entityä¸­â€)<br>æ³¨é‡Šåœ¨å®ä½“å±æ€§ä¸Šï¼š@ApiModelProperty(value =â€ç”¨æˆ·åâ€,name = â€œusernameâ€,example = â€œimoocâ€,required = true)</p>]]></content>
      
      
      
        <tags>
            
            <tag> é¡¹ç›® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•ä½“ç”µå•†é¡¹ç›®--è‡ªå®šä¹‰å“åº”æ•°æ®ç»“æ„</title>
      <link href="2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%E5%8D%95%E4%BD%93%E7%94%B5%E5%95%86%E9%A1%B9%E7%9B%AE--%E8%87%AA%E5%AE%9A%E4%B9%89%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
      <url>2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%E5%8D%95%E4%BD%93%E7%94%B5%E5%95%86%E9%A1%B9%E7%9B%AE--%E8%87%AA%E5%AE%9A%E4%B9%89%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<p>Restful webserviceè¿”å›çš„å¼ºè§„èŒƒ: HttpStatus.OK<br>æˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å“åº”çš„æ•°æ®ç»“æ„ä¼ é€’å›å‰ç«¯ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">&#x2F;** * @Description: è‡ªå®šä¹‰å“åº”æ•°æ®ç»“æ„ * å‰ç«¯æ¥å—æ­¤ç±»æ•°æ®ï¼ˆjson object)åï¼Œå¯è‡ªè¡Œæ ¹æ®ä¸šåŠ¡å»å®ç°ç›¸å…³åŠŸèƒ½ *  * 200ï¼šè¡¨ç¤ºæˆåŠŸ * 500ï¼šè¡¨ç¤ºé”™è¯¯ï¼Œé”™è¯¯ä¿¡æ¯åœ¨msgå­—æ®µä¸­ * 501ï¼šbeanéªŒè¯é”™è¯¯ï¼Œä¸ç®¡å¤šå°‘ä¸ªé”™è¯¯éƒ½ä»¥mapå½¢å¼è¿”å› * 502ï¼šæ‹¦æˆªå™¨æ‹¦æˆªåˆ°ç”¨æˆ·tokenå‡ºé”™ * 555ï¼šå¼‚å¸¸æŠ›å‡ºä¿¡æ¯ * 556: ç”¨æˆ·qqæ ¡éªŒå¼‚å¸¸ *&#x2F;public class JSONResult &#123;    &#x2F;&#x2F; å®šä¹‰jacksonå¯¹è±¡    private static final ObjectMapper MAPPER &#x3D; new ObjectMapper();    &#x2F;&#x2F; å“åº”ä¸šåŠ¡çŠ¶æ€    private Integer status;    &#x2F;&#x2F; å“åº”æ¶ˆæ¯    private String msg;    &#x2F;&#x2F; å“åº”ä¸­çš„æ•°æ®    private Object data;        @JsonIgnore    private String ok;&#x2F;&#x2F; ä¸ä½¿ç”¨    public static JSONResult build(Integer status, String msg, Object data) &#123;        return new JSONResult(status, msg, data);    &#125;    public static JSONResult build(Integer status, String msg, Object data, String ok) &#123;        return new JSONResult(status, msg, data, ok);    &#125;        public static JSONResult ok(Object data) &#123;        return new JSONResult(data);    &#125;    public static JSONResult ok() &#123;        return new JSONResult(null);    &#125;        public static JSONResult errorMsg(String msg) &#123;        return new JSONResult(500, msg, null);    &#125;        public static JSONResult errorMap(Object data) &#123;        return new JSONResult(501, &quot;error&quot;, data);    &#125;        public static JSONResult errorTokenMsg(String msg) &#123;        return new JSONResult(502, msg, null);    &#125;        public static JSONResult errorException(String msg) &#123;        return new JSONResult(555, msg, null);    &#125;        public static JSONResult errorUserQQ(String msg) &#123;        return new JSONResult(556, msg, null);    &#125;    public JSONResult() &#123;    &#125;    public JSONResult(Integer status, String msg, Object data) &#123;        this.status &#x3D; status;        this.msg &#x3D; msg;        this.data &#x3D; data;    &#125;        public JSONResult(Integer status, String msg, Object data, String ok) &#123;        this.status &#x3D; status;        this.msg &#x3D; msg;        this.data &#x3D; data;        this.ok &#x3D; ok;    &#125;    public JSONResult(Object data) &#123;        this.status &#x3D; 200;        this.msg &#x3D; &quot;OK&quot;;        this.data &#x3D; data;    &#125;    public Boolean isOK() &#123;        return this.status &#x3D;&#x3D; 200;    &#125;    public Integer getStatus() &#123;        return status;    &#125;    public void setStatus(Integer status) &#123;        this.status &#x3D; status;    &#125;    public String getMsg() &#123;        return msg;    &#125;    public void setMsg(String msg) &#123;        this.msg &#x3D; msg;    &#125;    public Object getData() &#123;        return data;    &#125;    public void setData(Object data) &#123;        this.data &#x3D; data;    &#125;public String getOk() &#123;return ok;&#125;public void setOk(String ok) &#123;this.ok &#x3D; ok;&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> é¡¹ç›® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•ä½“ç”µå•†é¡¹ç›®--æ ¸å¿ƒåŠŸèƒ½</title>
      <link href="2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%E5%8D%95%E4%BD%93%E7%94%B5%E5%95%86%E9%A1%B9%E7%9B%AE%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD/"/>
      <url>2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%E5%8D%95%E4%BD%93%E7%94%B5%E5%95%86%E9%A1%B9%E7%9B%AE%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD/</url>
      
        <content type="html"><![CDATA[<h2 id="ç”¨æˆ·æ³¨å†Œ"><a href="#ç”¨æˆ·æ³¨å†Œ" class="headerlink" title="ç”¨æˆ·æ³¨å†Œ"></a>ç”¨æˆ·æ³¨å†Œ</h2><h3 id="æ³¨å†Œæµç¨‹"><a href="#æ³¨å†Œæµç¨‹" class="headerlink" title="æ³¨å†Œæµç¨‹"></a>æ³¨å†Œæµç¨‹</h3><pre><code>ç”¨æˆ· -----è®¿é—®ç½‘ç«™è¿›è¡Œæ³¨å†Œ---è¾“å…¥ç”¨æˆ·åå¯†ç ----æ ¡éªŒï¼ˆä¸»è¦é’ˆå¯¹ç”¨æˆ·åä¸è¦å’Œæ•°æ®åº“çš„ç”¨æˆ·åå­—ä¸€æ ·ï¼Œå¯†ç çš„æ ¡éªŒä¸¤æ¬¡è¾“å…¥ä¸€è‡´ï¼‰--é‚£ä¹ˆåç«¯æ”¶åˆ°è¿™ä¸‰ä¸ªå‚æ•°å¦‚ä½•å¤„ç†å‘¢ï¼Ÿç¬¬ä¸€æ­¥è‚¯å®šæ˜¯åˆ¤æ–­ï¼šä¸‰ä¸ªå‚æ•°æ˜¯å¦å­˜åœ¨ç©ºå€¼çš„æƒ…å†µï¼Œè™½ç„¶æœ‰å‰ç«¯çš„åˆ¤æ–­ï¼Œä½†æ˜¯ä¸æ’é™¤æœ‰äººä¼šç»•è¿‡å‰ç«¯æ¥æ³¨å†Œï¼Œæ‰€ä»¥åç«¯çš„åˆ¤æ–­ä¸€ä¸ªéƒ½ä¸èƒ½å°‘ã€‚ç„¶ååˆ¤æ–­ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›ç³»ç»Ÿé‡Œå­˜åœ¨ä¸¤ä¸ªå¼ ä¸‰ã€‚è¿˜è¦åˆ¤æ–­å¯†ç é•¿åº¦æ˜¯å¦å°äº6ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›å’±ä»¬ç½‘ç«™çš„ç”¨æˆ·å¯†ç å¤ªè¿‡è„†å¼±ã€‚æœ€ååˆ¤æ–­ä¸¤æ¬¡å¯†ç æ˜¯å¦ä¸€è‡´ã€‚æ ¡éªŒå¤±è´¥é‡æ–°è¾“å…¥ï¼ŒæˆåŠŸæ³¨å†ŒæˆåŠŸäº†</code></pre><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>  ç”¨æˆ·åä»¥åŠå¯†ç è¡¨å•æäº¤çš„ä»¥å  ä¼šæŠŠè¿™ä¸‰ä¸ªå‚æ•°åŒ…è£…åˆ°jsonobjectä¼ å…¥åæ®µ  åå‘äºä¸šåŠ¡ç±»å‹çš„jsonobject<br>  UserBOå»æ¥æ”¶å‰ç«¯ä¼ å…¥çš„å¯¹è±¡  æˆå‘˜å±æ€§åŒ…æ‹¬ç”¨æˆ·åå­—ï¼Œ å¯†ç  ï¼Œ ç¡®è®¤å¯†ç <br>  <pre class="line-numbers language-java" data-language="java"><code class="language-java">@PostMapping(&quot;&#x2F;regist&quot;) public JSONResult regist(@RequestBody UserBO userBO,                          HttpServletRequest request,                          HttpServletResponse reponse) &#123;     String username &#x3D; userBO.getUsername();     String password &#x3D; userBO.getPassword();     String confirmPassword &#x3D; userBO.getConfirmPassword();     &#x2F;&#x2F;1. åˆ¤æ–­ç”¨æˆ·åå’Œå¯†ç å¿…é¡»ä¸ä¸ºç©º     if (StringUtils.isBlank(username) ||             StringUtils.isBlank(password)) &#123;         return JSONResult.errorMsg(&quot;ç”¨æˆ·åæˆ–å¯†ç ä¸èƒ½ä¸ºç©º&quot;);     &#125;     &#x2F;&#x2F;æŸ¥è¯¢ç”¨æˆ·åæ˜¯å¦å­˜åœ¨     boolean isExist &#x3D; userService.queryUsernameIsExist(username);     if(isExist)&#123;         return JSONResult.errorMsg(&quot;ç”¨æˆ·åå·²ç»å­˜åœ¨&quot;);     &#125;     &#x2F;&#x2F;å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½     if(password.length()&lt;6)&#123;         return JSONResult.errorMsg(&quot;å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6&quot;);     &#125;     &#x2F;&#x2F;åˆ¤æ–­ä¸¤æ¬¡å¯†ç æ˜¯å¦ä¸€è‡´     if(!password.equals(confirmPassword))&#123;         return JSONResult.errorMsg(&quot;ä¸¤æ¬¡å¯†ç è¾“å…¥ä¸ä¸€è‡´&quot;);     &#125;     &#x2F;&#x2F;å®ç°æ³¨å†Œ     Users userResult &#x3D; userService.createUser(userBO);     userResult &#x3D; setNUllProperty(userResult);     CookieUtils.setCookie(request,reponse,&quot;user&quot;, JsonUtils.objectToJson(userResult),true);     return JSONResult.ok(); &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br>  å…·ä½“çš„è¿˜æ˜¯çœ‹ä»£ç </p><pre class="line-numbers language-java" data-language="java"><code class="language-java">@Transactional(propagation &#x3D; Propagation.SUPPORTS)    @Override    public boolean queryUsernameIsExist(String username) &#123;        Example userExample &#x3D; new Example(Users.class);&#x2F;&#x2F;æŸ¥è¯¢å“ªä¸€ä¸ªå¯¹åº”çš„å®ä½“ç±»        Example.Criteria userExampleCriteria &#x3D; userExample.createCriteria();        userExampleCriteria.andEqualTo(&quot;username&quot;, username);&#x2F;&#x2F;æ„å»ºæ¡ä»¶        Users user &#x3D; usersMapper.selectOneByExample(userExample);        return user &#x3D;&#x3D; null ? false : true;    &#125;    &#x2F;*        åˆ›å»ºç”¨æˆ·     *&#x2F;    @Transactional(propagation &#x3D; Propagation.REQUIRED)    @Override    public Users createUser(UserBO userBO) &#123;        &#x2F;&#x2F;ä¿è¯ä¸»é”®å…¨å±€å”¯ä¸€ï¼Œè¿™ä¸ªä¹‹åç»§ç»­å­¦ä¹ ï¼Œidç”Ÿæˆå™¨        String userId &#x3D; sid.nextShort();        Users user &#x3D; new Users();        user.setId(userId);        user.setUsername(userBO.getUsername());        try &#123;            user.setPassword(MD5Utils.getMD5Str(userBO.getPassword()));        &#125; catch (Exception e) &#123;            e.printStackTrace();        &#125;        &#x2F;&#x2F;è®¾ç½®é»˜è®¤å€¼        user.setNickname(userBO.getUsername());        user.setFace(USER_FACE);        user.setBirthday(DateUtil.stringToDate(&quot;1970-01-01&quot;));        user.setSex(Sex.secret.type);        user.setCreatedTime(new Date());        user.setUpdatedTime(new Date());        usersMapper.insert(user);        return user;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç”¨æˆ·ç™»å½•"><a href="#ç”¨æˆ·ç™»å½•" class="headerlink" title="ç”¨æˆ·ç™»å½•"></a>ç”¨æˆ·ç™»å½•</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java">@ApiOperation(value &#x3D; &quot;ç”¨æˆ·åç™»å½•&quot; , notes &#x3D; &quot;ç”¨æˆ·åç™»å½•&quot;, httpMethod &#x3D; &quot;POST&quot;)    @PostMapping(&quot;&#x2F;login&quot;)    public JSONResult login(@RequestBody UserBO userBO,                                      HttpServletRequest request,                                      HttpServletResponse reponse) throws Exception &#123;        String username &#x3D; userBO.getUsername();        String password &#x3D; userBO.getPassword();        String confirmPassword &#x3D; userBO.getConfirmPassword();        &#x2F;&#x2F;0. åˆ¤æ–­ç”¨æˆ·åå’Œå¯†ç å¿…é¡»ä¸ä¸ºç©º        if (StringUtils.isBlank(username) ||                StringUtils.isBlank(password)) &#123;            return JSONResult.errorMsg(&quot;ç”¨æˆ·åæˆ–å¯†ç ä¸èƒ½ä¸ºç©º&quot;);        &#125;        &#x2F;&#x2F;1. å®ç°ç™»å½•        Users userResult &#x3D; userService.queryUserForLogin(username,                MD5Utils.getMD5Str(password));        if (userResult&#x3D;&#x3D;null)&#123;            return JSONResult.errorMsg(&quot;ç”¨æˆ·åæˆ–å¯†ç ä¸æ­£ç¡®&quot;);        &#125;        userResult &#x3D; setNUllProperty(userResult);        CookieUtils.setCookie(request,reponse,&quot;user&quot;, JsonUtils.objectToJson(userResult),true);        return JSONResult.ok(userResult);    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java">@Transactional(propagation &#x3D; Propagation.SUPPORTS)    @Override    public Users queryUserForLogin(String username, String password) &#123;        Example userExample &#x3D; new Example(Users.class);&#x2F;&#x2F;æŸ¥è¯¢å“ªä¸€ä¸ªå¯¹åº”çš„å®ä½“ç±»        Example.Criteria userExampleCriteria &#x3D; userExample.createCriteria();        userExampleCriteria.andEqualTo(&quot;username&quot;, username);&#x2F;&#x2F;æ„å»ºæ¡ä»¶        userExampleCriteria.andEqualTo(&quot;password&quot;,password);        Users user &#x3D; usersMapper.selectOneByExample(userExample);        return user ;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é€€å‡ºç™»å½•"><a href="#é€€å‡ºç™»å½•" class="headerlink" title="é€€å‡ºç™»å½•"></a>é€€å‡ºç™»å½•</h2><h2 id="cookie-session"><a href="#cookie-session" class="headerlink" title="cookie session"></a>cookie session</h2><p>cookie:</p><p>ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨åœ¨æµè§ˆå™¨<br>cookieä¸èƒ½è·¨åŸŸï¼Œå½“å‰åŠå…¶çˆ¶çº§åŸŸåå¯ä»¥å–å€¼ï¼ˆæ¯”å¦‚mercury.jd.comoå¯ä»¥å–å€¼åˆ°jd.comåŸŸåï¼‰<br>cookieå¯ä»¥è®¾ç½®æœ‰æ•ˆæœŸ<br>cookieå¯ä»¥è®¾ç½®pathï¼ˆ<a href="http://www.jd.com/users">www.jd.com/users</a> è®¾ç½®äº†æ­¤åŸŸåï¼Œå…¶ä»–è¯¥åŸŸåä¸‹çš„è·¯å¾„å°±ä¸å¯ä»¥ä½¿ç”¨æ­¤cookieï¼‰<br>session</p><p>åŸºäºæœåŠ¡å™¨å†…å­˜çš„ç¼“å­˜ï¼ˆéæŒä¹…åŒ–ï¼‰ï¼Œå¯ä¿å­˜è¯·æ±‚ä¼šè¯  éæŒä¹…åŒ–æŒ‡çš„æ˜¯æœåŠ¡å™¨å®•æœºæˆ–è€…é‡å¯ä¹‹åï¼Œæ‰€æœ‰çš„ä¼šè¯è¯·æ±‚éƒ½ä¼šä¸¢å¤±<br>æ¯ä¸ªsessioné€šè¿‡sessionidæ¥åŒºåˆ†ä¸åŒè¯·æ±‚<br>sessionå¯ä»¥è®¾ç½®è¿‡æœŸæ—¶é—´<br>sessionä¹Ÿæ˜¯ä»¥é”®å€¼å¯¹å½¢å¼å­˜åœ¨çš„<br>ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œåœ¨æœåŠ¡å™¨ç«¯ï¼Œåªè¦åˆ›å»ºäº†ä¸€ä¸ªsessionï¼Œå°±å¯ä»¥åœ¨cookieé‡Œé¢ä¿å­˜ä¸€ä¸ªjessionidï¼Œå¯ä»¥åœ¨servletä¸­è®¾ç½®ï¼Œä¸‹ä¸€æ¬¡è¯·æ±‚ï¼Œrequest headerä¼šæºå¸¦æ­¤cookie.</p><p>å…¶ä»–æ–‡ç« å…·ä½“æ€»ç»“</p><h2 id="é›†æˆSwagger2-api"><a href="#é›†æˆSwagger2-api" class="headerlink" title="é›†æˆSwagger2 api"></a>é›†æˆSwagger2 api</h2><h2 id="æ—¥å¿—ç›‘æ§åŠŸèƒ½"><a href="#æ—¥å¿—ç›‘æ§åŠŸèƒ½" class="headerlink" title="æ—¥å¿—ç›‘æ§åŠŸèƒ½"></a>æ—¥å¿—ç›‘æ§åŠŸèƒ½</h2><h2 id="è‡ªå®šä¹‰ç›¸åº”æ•°æ®ç»“æ„"><a href="#è‡ªå®šä¹‰ç›¸åº”æ•°æ®ç»“æ„" class="headerlink" title="è‡ªå®šä¹‰ç›¸åº”æ•°æ®ç»“æ„"></a>è‡ªå®šä¹‰ç›¸åº”æ•°æ®ç»“æ„</h2><h2 id="åˆ†ç±»çš„è®¾è®¡ä¸å®ç°-ï¼šå•†å“çš„ç±»åˆ«"><a href="#åˆ†ç±»çš„è®¾è®¡ä¸å®ç°-ï¼šå•†å“çš„ç±»åˆ«" class="headerlink" title="åˆ†ç±»çš„è®¾è®¡ä¸å®ç° ï¼šå•†å“çš„ç±»åˆ«"></a>åˆ†ç±»çš„è®¾è®¡ä¸å®ç° ï¼šå•†å“çš„ç±»åˆ«</h2><h2 id="é¦–é¡µå•†å“æ¨è"><a href="#é¦–é¡µå•†å“æ¨è" class="headerlink" title="é¦–é¡µå•†å“æ¨è"></a>é¦–é¡µå•†å“æ¨è</h2><h2 id="å•†å“çš„æœç´¢ä¸åˆ†é¡µ"><a href="#å•†å“çš„æœç´¢ä¸åˆ†é¡µ" class="headerlink" title="å•†å“çš„æœç´¢ä¸åˆ†é¡µ"></a>å•†å“çš„æœç´¢ä¸åˆ†é¡µ</h2><h2 id="å•†å“çš„è¯¦æƒ…ä¸è¯„è®ºæ¸²æŸ“"><a href="#å•†å“çš„è¯¦æƒ…ä¸è¯„è®ºæ¸²æŸ“" class="headerlink" title="å•†å“çš„è¯¦æƒ…ä¸è¯„è®ºæ¸²æŸ“"></a>å•†å“çš„è¯¦æƒ…ä¸è¯„è®ºæ¸²æŸ“</h2><h2 id="è´­ç‰©è½¦ä¸è®¢å•-è®¢å•çš„å¹‚ç­‰æ€§-é”çš„æœºåˆ¶æ§åˆ¶åº“å­˜"><a href="#è´­ç‰©è½¦ä¸è®¢å•-è®¢å•çš„å¹‚ç­‰æ€§-é”çš„æœºåˆ¶æ§åˆ¶åº“å­˜" class="headerlink" title="è´­ç‰©è½¦ä¸è®¢å• è®¢å•çš„å¹‚ç­‰æ€§ é”çš„æœºåˆ¶æ§åˆ¶åº“å­˜"></a>è´­ç‰©è½¦ä¸è®¢å• è®¢å•çš„å¹‚ç­‰æ€§ é”çš„æœºåˆ¶æ§åˆ¶åº“å­˜</h2><h2 id="å¾®ä¿¡ä¸æ”¯ä»˜å®æ”¯ä»˜"><a href="#å¾®ä¿¡ä¸æ”¯ä»˜å®æ”¯ä»˜" class="headerlink" title="å¾®ä¿¡ä¸æ”¯ä»˜å®æ”¯ä»˜"></a>å¾®ä¿¡ä¸æ”¯ä»˜å®æ”¯ä»˜</h2>]]></content>
      
      
      
        <tags>
            
            <tag> é¡¹ç›® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•ä½“é¡¹ç›®--å‡†å¤‡å·¥ä½œ</title>
      <link href="2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%E7%94%B5%E5%95%86%E5%8D%95%E4%BD%93%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91--%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/"/>
      <url>2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%E7%94%B5%E5%95%86%E5%8D%95%E4%BD%93%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91--%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<h1 id="ç”µå•†é¡¹ç›®ï¼šå•ä½“æ¶æ„è®¾è®¡äºé¡¹ç›®å¼€å‘"><a href="#ç”µå•†é¡¹ç›®ï¼šå•ä½“æ¶æ„è®¾è®¡äºé¡¹ç›®å¼€å‘" class="headerlink" title="ç”µå•†é¡¹ç›®ï¼šå•ä½“æ¶æ„è®¾è®¡äºé¡¹ç›®å¼€å‘"></a>ç”µå•†é¡¹ç›®ï¼šå•ä½“æ¶æ„è®¾è®¡äºé¡¹ç›®å¼€å‘</h1><h1 id="åŸºäºSpringBoot2-x"><a href="#åŸºäºSpringBoot2-x" class="headerlink" title="åŸºäºSpringBoot2.x"></a>åŸºäºSpringBoot2.x</h1><p>å®ç°å•ä½“ç”µå•†é¡¹ç›®æ ¸å¿ƒåŠŸèƒ½å¼€å‘</p><p>å®ç°å•ä½“ç”µå•†é¡¹ç›®ä¸ªäººä¸­å¿ƒåŠŸèƒ½</p><p>é¡¹ç›®éƒ¨ç½²ä¸Šçº¿</p><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p>é¡¹ç›®å±•ç¤ºä»¥åŠä¸»è¦çš„åŠŸèƒ½ï¼šè½®æ’­å›¾<br>                    ä¸»é¡µä¸åŒåˆ†ç±»<br>                    æ ¹æ®é¡µé¢çš„æ»šåŠ¨æ…¢æ…¢çš„è¿›è¡ŒåŠ è½½ï¼šåœ¨å‰ç«¯è®¾è®¡çš„è°ƒç”¨æ¨¡å¼<br>                    é¦–é¡µæœç´¢åŠŸèƒ½ï¼šè¾“å…¥å…³é”®è¯ é¡µé¢è·³è½¬<br>                    åˆ†é¡µåŠŸèƒ½<br>                    é»˜è®¤æ’åº é”€é‡æ’åº ä»·æ ¼æœ‰é™ æ’åºè§„åˆ™<br>                    è´­ç‰©è½¦<br>                    æ”¯ä»˜<br>                    æ²¡æœ‰ç™»å½•çš„è¯å°±ç™»å½•<br>                    ç™»å½•åŠŸèƒ½ å›è°ƒåˆ°è´­ç‰©è½¦<br>                    ç»“ç®—é¡µé¢  åœ°å€ å¯ä»¥è¿›è¡Œç¼–è¾‘ é€‰æ‹©<br>                    å¾®ä¿¡æ”¯ä»˜ æ”¯ä»˜å®æ”¯ä»˜<br>                    æŸ¥çœ‹æˆ‘çš„è®¢å• è·³è½¬åˆ°ä¸ªäººä¸­å¿ƒ<br>                    ä¸ªäººä¸­å¿ƒï¼šä»£å‘è´§<br>                    å…¶ä¸­å°±æ˜¯è®¢å•<br>                    æˆ‘çš„è¯„ä»·<br>                    æˆ‘çš„ä¿¡æ¯<br>                    æ”¶è´§åœ°å€</p><h2 id="å‰åæ®µä¸»è¦æŠ€æœ¯é€‰å‹"><a href="#å‰åæ®µä¸»è¦æŠ€æœ¯é€‰å‹" class="headerlink" title="å‰åæ®µä¸»è¦æŠ€æœ¯é€‰å‹"></a>å‰åæ®µä¸»è¦æŠ€æœ¯é€‰å‹</h2><p>åæ®µæŠ€æœ¯é€‰å‹<br><code>SpringBoot Spring Mybatis</code> æ¡†æ¶æ•´åˆ</p><p>SpringBootè¿˜æ˜¯SpringMVC??<br>SpringMVCæ˜¯æ¡†æ¶  é…ç½®é¡¹å¾ˆå¤šå°±å¾ˆç¹ç<br>                è¿˜å¾—è‡ªå·±ä¸‹è½½tomcat<br>SpringBootæ˜¯æ¡†æ¶ï¼šä¸»è¦å®ç°äº†è‡ªåŠ¨é…ç½®ï¼Œ<br>                ä»xmlé…ç½®ç¹çåˆ°ymlï¼Œ<br>                è¿˜é›†æˆäº†å¾ˆå¤šçš„ä¸­é—´ä»¶ï¼Œç”¨starterä¾èµ–å’Œå¼•ç”¨ï¼Œç®€åŒ–äº†mavené…ç½®<br>                ä»å¤–ç½®çš„tomcatå˜ä¸ºå†…ç½®çš„tomcatï¼Œåœ¨yamlå°±å¯ä»¥é…ç½®</p><p>å‰ç«¯æŠ€æœ¯é€‰å‹ï¼š<br>        Jquery<br>        VUEæœ¬èº«æ˜¯æ¸è¿›å¼æ¡†æ¶ï¼Œæ–¹ä¾¿ã€‚åœ¨æ¸è¿›å¼è¿‡ç¨‹ä¸­å¯ä»¥é€æ­¥é€æ­¥å»æ›¿æ¢æ‰åŸæ¥çš„ä»£ç <br>        html<br>        css</p><p>æŠ€æœ¯é€‰å‹è¦è€ƒè™‘åˆ°çš„ï¼š<br>    åˆ‡åˆä¸šåŠ¡<br>    ç¤¾åŒºæ´»è·ƒåº¦ï¼šä»£è¡¨ä½¿ç”¨ç‡é«˜ï¼Œä¼˜ç¼ºç‚¹<br>    å›¢é˜ŸæŠ€æœ¯æ°´å¹³<br>    ç‰ˆæœ¬æ›´æ–°è¿­ä»£çš„å‘¨æœŸï¼šä»¥å‰Dubboä¸­é—´åœæ›´äº†ä¸€æ®µæ—¶é—´ï¼Œé‚£ä¹ˆè¿™æ®µæ—¶é—´å°±ä¼šå½±å“ä¸šåŠ¡çš„ä½¿ç”¨<br>    å®‰å…¨æ€§<br>    æˆåŠŸæ¡ˆä¾‹ï¼šå£ç¢‘ä¸é”™çš„</p><h2 id="å‰åç«¯åˆ†ç¦»å¼€å‘æ¨¡å¼ï¼š"><a href="#å‰åç«¯åˆ†ç¦»å¼€å‘æ¨¡å¼ï¼š" class="headerlink" title="å‰åç«¯åˆ†ç¦»å¼€å‘æ¨¡å¼ï¼š"></a>å‰åç«¯åˆ†ç¦»å¼€å‘æ¨¡å¼ï¼š</h2><p>æ—©èµ·ä¼ ç»Ÿçš„JAVAwebå¼€å‘æ¨¡å¼ï¼š<br>                      ç”¨æˆ· â€“ æµè§ˆå™¨ -urlâ€“æœåŠ¡å™¨ waråŒ…(åæ®µmodel,view,controller å‰ç«¯html(jspæ¸²æŸ“æˆhtml)cssjs)  åªè¦æœ‰ç”¨æˆ·è®¿é—®æœåŠ¡å™¨ï¼Œæ‰€æœ‰è¯·æ±‚çš„é¡µé¢éƒ½åœ¨æœåŠ¡å™¨è¿›è¡Œæ¸²æŸ“ã€‚å½“ç”¨æˆ·è¶Šæ¥è¶Šå¤šçš„è¯ï¼Œ æ‰€æœ‰é¡µé¢éƒ½åœ¨æœåŠ¡å™¨è¿›è¡Œæ¸²æŸ“ï¼ŒæœåŠ¡å™¨å‹åŠ›å¤ªå¤§äº†äº†ã€‚<br>                      éœ€è¦æ³¨æ„çš„æ˜¯  ä¼ ç»Ÿwebå¼€å‘ ï¼Œæµè§ˆå™¨è¯·æ±‚åˆ°çš„æœåŠ¡å™¨çš„æ‰€æœ‰é¡µé¢éƒ½æ˜¯åŸºäºurlæ¥è¿›è¡Œè·³è½¬çš„</p><p>å‰åç«¯å•é¡µé¢çš„äº¤äº’ï¼šmvvmå‰ç«¯å¼€å‘æ¨¡å¼<br>                        æ‰‹æœº  â€“ å°ç¨‹åº/å®‰å“â€”- â€”â€”â€”â€“æœåŠ¡å™¨model,view<br>                      ç”¨æˆ·â€”-æµè§ˆå™¨â€“h5â€“nginxï¼ˆhtml css jsï¼‰â€“Restful webservice&gt;-æœåŠ¡å™¨model,view,controlleré™æ€èµ„æºåœ¨é™æ€èµ„æºæœåŠ¡å™¨ä¸Šï¼Œ<br>                      å‰ç«¯é¾Ÿå‰ç«¯ï¼Œåç«¯ä»£ç åªè¦ä¸€å¥—æå¥½äº†</p><h2 id="æ•°æ®åº“è¡¨è®¾è®¡ï¼š"><a href="#æ•°æ®åº“è¡¨è®¾è®¡ï¼š" class="headerlink" title="æ•°æ®åº“è¡¨è®¾è®¡ï¼š"></a>æ•°æ®åº“è¡¨è®¾è®¡ï¼š</h2><p>å…¨å±€çš„è§„åˆ’ï¼Œæ•°æ®åº“è¡¨è®¾è®¡å·¥å…·è®¾è®¡åº“ä»¥åŠè¡¨ï¼Œå‰æœŸå°±è®¾è®¡å¥½çš„<br><code>PDMan</code>:<br>            æ•°æ®åº“å»ºæ¨¡å·¥å…·<br>            è®¾ç½®ï¼šé¢„å¤„ç†çš„æ¨¡ç‰ˆï¼Œ æ¯æ¬¡æ–°å»ºè¡¨çš„æ—¶å€™éƒ½ä¼šç”Ÿæˆ<br>            æ•°æ®åº“è®¾ç½®ï¼š<br>            å¦‚ä½•æŠŠå…³ç³»å›¾å’Œæ•°æ®åº“çš„è¡¨è¿›è¡Œå¯¹åº”ï¼šæ¨¡å‹ç‰ˆæœ¬â€“åˆå§‹åŒ–åŸºçº¿å†™ç‰ˆæœ¬å·-ç‚¹å‡»åŒæ­¥ï¼Œæ³¨æ„åŒæ­¥é…ç½®é‡Œé€‰çš„å¿…é¡»æ˜¯å¢é‡</p><hr><h3 id="æˆ‘ä»¬çš„è®¾è®¡åº“è¡¨ä¸­æ²¡æœ‰ä½¿ç”¨æ•°æ®åº“å¤–é”®"><a href="#æˆ‘ä»¬çš„è®¾è®¡åº“è¡¨ä¸­æ²¡æœ‰ä½¿ç”¨æ•°æ®åº“å¤–é”®" class="headerlink" title="æˆ‘ä»¬çš„è®¾è®¡åº“è¡¨ä¸­æ²¡æœ‰ä½¿ç”¨æ•°æ®åº“å¤–é”®"></a>æˆ‘ä»¬çš„è®¾è®¡åº“è¡¨ä¸­æ²¡æœ‰ä½¿ç”¨æ•°æ®åº“å¤–é”®</h3><p>1ï¼Œæ€§èƒ½å½±å“</p><p>å¯¹äºæ•°æ®çš„å®Œæ•´æ€§ä¼šåšæ£€æŸ¥æ“ä½œï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§å¹¶å‘çš„æ—¶å€™ï¼Œä¼šå½±å“æ€§èƒ½</p><p>2ï¼Œçƒ­æ›´æ–°ï¼ˆä¸åœæœºç»´æŠ¤ï¼‰<br>å¦‚æœæœ‰å¤–é”®çš„è¯ï¼Œæ˜¯å¼ºä¸€è‡´æ€§çš„ï¼Œä½¿çš„æ–°æ›´æ–°çš„ä»£ç æ— æ³•è¿è¡Œï¼Œéœ€è¦é‡å¯æœåŠ¡ã€‚è€Œæˆ‘ä»¬å¸Œæœ›ä¸åœæœºç»´æŠ¤ã€‚</p><p>3 é™ä½è€¦åˆåº¦</p><p>ç‰©ç†å¤–é”®ä¸å­˜åœ¨ï¼Œé€»è¾‘å¤–é”®è¿˜æ˜¯å­˜åœ¨çš„ï¼Œæ¯”å¦‚è¯´cghtbæœ‰htbhå­—æ®µï¼Œhtmxbä¹Ÿæœ‰htbhå­—æ®µ</p><p>4 æ•°æ®åº“åˆ†åº“å‘è¡¨<br>æœ‰å¤–é”®å…³ç³»çš„ä¸¤å¼ è¡¨ï¼Œéš¾ä»¥åšåˆ°åˆ†åˆ°ä¸¤ä¸ªä¸åŒçš„æ•°æ®åº“ï¼Œå› ä¸ºè€¦åˆåº¦æ˜¯åœ¨æ˜¯å¤ªé«˜äº†ã€‚</p><hr><h2 id="é¡¹ç›®ç»“æ„æ­å»º"><a href="#é¡¹ç›®ç»“æ„æ­å»º" class="headerlink" title="é¡¹ç›®ç»“æ„æ­å»º"></a>é¡¹ç›®ç»“æ„æ­å»º</h2><h3 id="é¡¹ç›®æ‹†åˆ†ä¸èšåˆï¼š"><a href="#é¡¹ç›®æ‹†åˆ†ä¸èšåˆï¼š" class="headerlink" title="é¡¹ç›®æ‹†åˆ†ä¸èšåˆï¼š"></a>é¡¹ç›®æ‹†åˆ†ä¸èšåˆï¼š</h3><p>åæ®µåˆ†å±‚æ¶æ„æ¨¡å¼ï¼šåŸºäºmavenåˆ†å±‚ä¸æ‹†åˆ†<br>é¡¹ç›®åˆ†å±‚è®¾è®¡åŸåˆ™<br>å‰æœŸæ‹†åˆ†ï¼šæ ¹æ®ä¸šåŠ¡æ‹†åˆ†ä¸ºä¸åŒçš„å­æ¨¡å—<br>åæœŸèšåˆï¼šé€šè¿‡<code>maven</code>é¡¹ç›®çš„èšåˆ</p><p>jar                             common.jarå­æ¨¡å—/å·¥ç¨‹  pojo.jar(æ•°æ®åº“è¡¨é€†å‘ç”Ÿæˆ)  mapper.jar<br>æˆ–è€…        â€”-                service.jar  controller.jar     ã€‚ã€‚ã€‚<br>war<br>æœ€ç»ˆè¿è¡Œçš„åŒ…                      pomèšåˆå·¥ç¨‹  æ‰€æœ‰å­æ¨¡å—éƒ½åœ¨èšåˆå·¥ç¨‹é‡Œé¢</p><p>è¿™æ ·çš„è¯å°±å¯ä»¥å¾ˆå¤šäººè¿›è¡Œå¼€å‘<br>å¤šä¸ªä¸åŒçš„é¡¹ç›®å¯ä»¥éƒ½å¯¼å…¥commonçš„ä¾èµ–ä¸ç”¨å¤šæ¬¡å†™ä»£ç ï¼Œ</p><h3 id="Ideaæ„å»ºï¼šå…·ä½“æ“ä½œçš„è¯å¯ä»¥å‚è€ƒhttps-blog-csdn-net-weixin-43434182-article-details-108017186"><a href="#Ideaæ„å»ºï¼šå…·ä½“æ“ä½œçš„è¯å¯ä»¥å‚è€ƒhttps-blog-csdn-net-weixin-43434182-article-details-108017186" class="headerlink" title="Ideaæ„å»ºï¼šå…·ä½“æ“ä½œçš„è¯å¯ä»¥å‚è€ƒhttps://blog.csdn.net/weixin_43434182/article/details/108017186"></a>Ideaæ„å»ºï¼šå…·ä½“æ“ä½œçš„è¯å¯ä»¥å‚è€ƒ<a href="https://blog.csdn.net/weixin_43434182/article/details/108017186">https://blog.csdn.net/weixin_43434182/article/details/108017186</a></h3><pre><code> 1. æ‹†åˆ†ï¼š        çˆ¶å·¥ç¨‹ç”±äºæ„å»ºçš„æ˜¯èšåˆå·¥ç¨‹ï¼Œæ‰€ä»¥æ‰“åŒ…æ–¹å¼é€‰æ‹©pom        æ„å»ºpojoï¼Œpojoå¼•ç”¨common        æ„å»ºmapperï¼Œmapperå¼•ç”¨pojoï¼Œ        æ„å»ºserviceï¼Œserviceå¼•ç”¨mapperï¼Œ        æ„å»ºapiï¼Œapiå¼•ç”¨service    èšåˆï¼šroot --install ä¹‹åä¾èµ–å…³ç³»æ‰ä¼šçœŸæ­£çš„å»ºç«‹2. çˆ¶å·¥ç¨‹æ•´åˆspring boot   pom.xmlå¼•å…¥spring bootåŸºç¡€ä¾èµ–</code></pre><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.imooc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>foodie-dev<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--        1.èšåˆå·¥ç¨‹å¯ä»¥åˆ†é¡¶çº§é¡¹ç›®ï¼ˆé¡¶çº§å·¥ç¨‹ï¼Œçˆ¶å·¥ç¨‹ï¼‰å’Œå­å·¥ç¨‹ï¼Œä¸¤è€…ä¹‹é—´ä¸ºç»§æ‰¿å…³ç³»        å­å·¥ç¨‹åœ¨mavenä¸­ç§°ä¹‹ä¸ºmoduleï¼Œæ¨¡å—ä¹‹é—´æ—¶å¹³çº§çš„ï¼Œå¯ä»¥ç›¸äº’ä¾èµ–        2.å­å·¥ç¨‹å¯ä»¥ä½¿ç”¨çˆ¶å·¥ç¨‹æ‰€æœ‰çš„èµ„æºï¼ˆä¾èµ–ï¼‰ï¼Œå­å·¥ç¨‹ä¹‹é—´å¦‚æœéœ€è¦ç›¸äº’ä¹‹é—´ä½¿ç”¨èµ„æºï¼Œéœ€è¦æ„å»ºä¾èµ–ï¼ˆæ„å»ºå…³ç³»ï¼‰        3.çˆ¶å·¥ç¨‹å¯ä»¥ç”±å¤šä¸ªå­å·¥ç¨‹ç»„åˆè€Œæˆ    --></span>    <span class="token comment">&lt;!--æ‰€æœ‰çš„å­å·¥ç¨‹éƒ½ä¼šåœ¨è¿™é‡Œå‡ºç°--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>foodie-dev-common<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>foodie-dev-pojo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>foodie-dev-mapper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>foodie-dev-service<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>foodie-dev-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modules</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- èšåˆå·¥ç¨‹æ‰“åŒ…æ–¹å¼é€‰æ‹©pom--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">></span></span>     <span class="token comment">&lt;!--å¼•å…¥ä¾èµ–parent,ç»Ÿä¸€ç®¡ç†ç‰ˆæœ¬--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.1.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--è®¾ç½®èµ„æºå±æ€§--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--è®¾ç½®æºç ç¼–ç æ ¼å¼--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--è®¾ç½®ç¼–è¯‘åæ–‡ä»¶ç¼–ç æ ¼å¼--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.reporting.outputEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.reporting.outputEncoding</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>                <span class="token comment">&lt;!--æ’é™¤è¿™ä¸€å—ä¾èµ–ï¼Œåç»­å¼•å…¥å…¶ä»–ä¾èµ–--></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--spring bootå¯ä»¥è§£æymlæ–‡ä»¶ï¼Œå¦‚æœæƒ³è§£æxmlç­‰éymlé…ç½®æ–‡ä»¶ï¼Œéœ€è¦æ­¤ä¾èµ–--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-configuration-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>ç„¶ååœ¨controllerå±‚å°±å¯ä»¥åœ¨resourceä¸‹åˆ›å»ºapplication.yml<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åç¼–å†™å¯åŠ¨ç±»<br>    <pre class="line-numbers language-java" data-language="java"><code class="language-java">@SpringBootApplicationpublic class Application &#123;    public static void main(String[] args) &#123;        SpringApplication.run(Application.class,args);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p><p>ç„¶åï¼Œå› ä¸ºæ˜¯èšåˆé¡¹ç›®ï¼Œéœ€è¦å…ˆinstallå­é¡¹ç›®ï¼Œä½¿å…¶æˆä¸ºä¸»é¡¹ç›®çš„ä¾èµ–ï¼Œç„¶åå¯åŠ¨é¡¹ç›®</p><hr><p>mybatis mysql mapper<br>å¯¼å…¥ä¾èµ–<br>å†™é…ç½®æ–‡ä»¶<br>mybatisé€†å‘ç”Ÿæˆå·¥å…·:æ‰“å¼€é¡¹ç›®ï¼Œä¸»è¦ä¿®æ”¹generatorConfig.xmlæ–‡ä»¶,ç„¶åGeneratorDisplayï¼Œå³é”®è¿è¡Œï¼Œç”Ÿæˆç›¸åº”çš„æ–‡ä»¶ï¼Œ<br>å¤åˆ¶åˆ°é¡¹ç›®ä¸­ï¼Œå› ä¸ºå¼•ç”¨äº†é€šç”¨mapperï¼Œéœ€è¦åœ¨é¡¹ç›®ä¸­è¿›è¡Œç›¸åº”çš„é…ç½®</p><p>Restful<br>api service å±‚å¼€å‘<br><code>Postman</code>è°ƒè¯•Restfulæ¥å£</p>]]></content>
      
      
      
        <tags>
            
            <tag> é¡¹ç›® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•ä½“ç”µå•†é¡¹ç›®--è·¨åŸŸé…ç½®å®ç°å‰åç«¯è”è°ƒ</title>
      <link href="2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%E9%A1%B9%E7%9B%AE--%E8%B7%A8%E5%9F%9F%E9%85%8D%E7%BD%AE%E5%AE%9E%E7%8E%B0%E5%89%8D%E5%90%8E%E7%AB%AF%E8%81%94%E8%B0%83/"/>
      <url>2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%E9%A1%B9%E7%9B%AE--%E8%B7%A8%E5%9F%9F%E9%85%8D%E7%BD%AE%E5%AE%9E%E7%8E%B0%E5%89%8D%E5%90%8E%E7%AB%AF%E8%81%94%E8%B0%83/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-java" data-language="java"><code class="language-java">@Configurationpublic class CorsConfig &#123;    public CorsConfig()&#123;    &#125;    @Bean    public CorsFilter corsFilter()&#123;        &#x2F;&#x2F;1. æ·»åŠ corsé…ç½®ä¿¡æ¯        CorsConfiguration config &#x3D; new CorsConfiguration();        &#x2F;*å…è®¸è®¿é—®çš„å®¢æˆ·ç«¯åŸŸå*&#x2F;&#x2F;&#x2F;        config.addAllowedOrigin(&quot;http:&#x2F;&#x2F;192.168.180.129:80&quot;);        config.addAllowedOrigin(&quot;http:&#x2F;&#x2F;localhost:8080&quot;);        &#x2F;&#x2F;&#x2F;*æ˜¯å¦å…è®¸è¯·æ±‚å¸¦æœ‰éªŒè¯ä¿¡æ¯*&#x2F;è®¾ç½®æ˜¯å¦å‘é€cookieä¿¡æ¯        config.setAllowCredentials(true);        &#x2F;&#x2F;è®¾ç½®å…è®¸è¯·æ±‚çš„æ–¹å¼        config.addAllowedMethod(&quot;*&quot;);        &#x2F;*å…è®¸æœåŠ¡ç«¯è®¿é—®çš„å®¢æˆ·ç«¯è¯·æ±‚å¤´*&#x2F;        config.addAllowedHeader(&quot;*&quot;);        &#x2F;&#x2F;2. ä¸ºurlæ·»åŠ æ˜ å°„è·¯å¾„        UrlBasedCorsConfigurationSource corsSource &#x3D; new UrlBasedCorsConfigurationSource();        corsSource.registerCorsConfiguration(&quot;&#x2F;**&quot;,config);&#x2F;&#x2F;æ‰€æœ‰è·¯å¾„éƒ½å¯ä»¥ä½¿ç”¨é…ç½®ä¿¡æ¯        return new CorsFilter(corsSource);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> é¡¹ç›® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Html</title>
      <link href="2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/javaweb/javaweb%E7%AC%94%E8%AE%B0-----html/"/>
      <url>2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/javaweb/javaweb%E7%AC%94%E8%AE%B0-----html/</url>
      
        <content type="html"><![CDATA[<p>1ã€HTMLè¯­æ³•<br>      1)æ ‡ç­¾åˆ†ä¸ºæœ‰å¼€å§‹æœ‰ç»“æŸçš„æ ‡ç­¾å’Œè‡ªç»“æŸæ ‡ç­¾<br>      2)æ ‡ç­¾ä¸åŒºåˆ†å¤§å°å†™<br>      3)æ ‡ç­¾å¯ä»¥åµŒå¥—ï¼Œä½†ä¸å¯ä»¥äº¤å‰åµŒå¥—<br>      4)æ ‡ç­¾å¿…é¡»æ­£å¸¸å…³é—­<br>      5)æ ‡ç­¾çš„å±æ€§å¿…é¡»æœ‰å€¼ï¼Œä¸”å±æ€§å€¼å¿…é¡»ç”¨å¼•å·æ‹¬èµ·æ¥<br>      6)æ³¨é‡Šä¸å¯ä»¥åµŒå¥—</p><p>2ã€å¸¸ç”¨æ ‡ç­¾<br>      1)æ ‡é¢˜æ ‡ç­¾h1-h6,å¤§å°ç²—ç»†é€’å‡<br>      2)<div></div>æ ‡ç­¾ä½œç”¨å¸ƒå±€<br>      3)<p></p>æ®µè½æ ‡ç­¾<br>      4)è½¬ä¹‰å­—ç¬¦       ä»¥&amp;å¼€å§‹ï¼Œä»¥;ç»“æŸ<br>                                          æ™®é€šç©ºæ ¼ï¼š&nbsp;<br>                                          ä¸­æ–‡ç©ºæ ¼ï¼š&emsp;<br>                                          å¤§äºå·ï¼š&gt;<br>                                          å°äºå·ï¼š&lt;<br>                                          ç‰ˆæƒå·ï¼š&copy;<br>      5)åˆ—è¡¨<br>                                    æœ‰åºåˆ—è¡¨<ol><br>                        <li></li><br>                                 </ol><br>                                    æ— åºåˆ—è¡¨<ul><br>                        <li></li><br>                                 </ul>    type:disc å®å¿ƒåœ†  ã€circleç©ºå¿ƒåœ† ã€ square æ–¹å—</p><p>3ã€æ’å…¥å›¾ç‰‡<code>&lt;img alt=&quot;picture&quot; src=&quot;img/wm.jpg&quot; title=&quot;aaa&quot;&gt;</code><br>     img æ ‡ç­¾æ’å…¥å›¾ç‰‡<br>     alt:å›¾ç‰‡æ’å…¥è·¯å¾„æœ‰è¯¯æ—¶æ˜¾ç¤ºçš„æ–‡æœ¬<br>     src:å›¾ç‰‡æ’å…¥çš„è·¯å¾„<br>     title:é¼ æ ‡æ‚¬åœæ—¶æç¤ºæ–‡æœ¬<br>     ../è¿”å›ä¸Šä¸€çº§<br>     srcè·¯å¾„ï¼šå½“ç›®æ ‡æ–‡ä»¶ä¸å½“å‰æ–‡ä»¶åœ¨åŒä¸€åŒ…ä¸­æ—¶å¯ä»¥ç›´æ¥è®¿é—®ã€‚<br>                                å½“ç›®æ ‡æ–‡ä»¶å’Œå½“å‰æ–‡ä»¶ä¸åœ¨åŒä¸€åŒ…ä¸­æ—¶ï¼Œè¦å…ˆæ‰¾å…¶çˆ¶åŒ…ï¼Œå†æ‰¾ç›®æ ‡æ–‡ä»¶ã€‚</p><p>4ã€è¶…é“¾æ¥    <code>&lt;a href=&quot;pages/target.html&quot; target=&quot;_blank&quot;&gt;</code>è·³è½¬åˆ°ç›®æ ‡é¡µé¢ï¼Œç›®æ ‡é¡µé¢æœ‰ç¾å¥³ï¼</a><br>             ä½¿ç”¨aæ ‡ç­¾åˆ¶ä½œè¶…é“¾æ¥<br>          hrefä¸­æ˜¯é“¾æ¥è·¯å¾„<br>          targetä¸­æœ‰        _blankåœ¨æ–°çš„é¡µé¢ä¸‹æ‰“å¼€<br>                      _selfåœ¨å½“å‰ç•Œé¢æ‰“å¼€</p><p>5ã€è¡¨æ ¼<br>         <code>&lt;table&gt;                &lt;tr&gt;             trè¡¨ç¤ºè¡Œ                    &lt;th&gt;|&lt;td&gt;    thè¡¨å¤´|tdå•å…ƒæ ¼                &lt;/tr&gt;          &lt;/table&gt;</code></p><pre><code>     rowspanè·¨è¡Œ     clospanè·¨åˆ—     align=&quot;cender&quot;å±…ä¸­     width     height     borderè¾¹ç•Œ</code></pre><p>6ã€è¡¨å•<br>               ä½¿ç”¨formåˆ¶ä½œè¡¨å•<br>        inputåˆ¶ä½œè¡¨å•é¡¹<br>         typeè¡¨å•é¡¹ç±»å‹<br>          textæ–‡æœ¬æ¡†<br>          passwordå¯†ç æ¡†<br>          reseté‡ç½®<br>          submitæäº¤<br>          file<br>          hidden</p><pre><code>     `name`åç§°ï¼Œæœ‰nameå±æ€§æ‰å¯ä»¥æäº¤æ•°æ®åˆ°ç›®æ ‡ä½ç½®     valueå€¼     checkedé»˜è®¤é€‰ä¸­(radio(å•é€‰)|checkbox(å¤é€‰))             ä½¿ç”¨select option åˆ¶ä½œè¡¨å•   actionå±æ€§   è¡¨å•æäº¤çš„è·¯å¾„   methodå±æ€§     è¡¨å•æäº¤çš„æ–¹å¼      getä¸å®‰å…¨     postå®‰å…¨</code></pre><p>7ã€CSS<br>1.CSSæ ·å¼ç”±é€‰æ‹©ç¬¦(é€‰æ‹©å™¨)å’Œå£°æ˜ç»„æˆï¼Œè€Œå£°æ˜åˆç”±å±æ€§å’Œå€¼ç»„æˆ<br>é€‰æ‹©å™¨çš„åˆ†ç±»<br>    â‘ æ ‡ç­¾é€‰æ‹©å™¨ï¼šå¦‚ä¸Šå›¾çš„p<br>    â‘¡ç±»é€‰æ‹©å™¨ï¼š.classå±æ€§å€¼{..}<br>    â‘¢IDé€‰æ‹©å™¨ï¼š#idå±æ€§å€¼{..}<br>â‘ å†™åœ¨æ ‡ç­¾çš„styleå±æ€§ä¸­ï¼š<code>&lt;p style=â€œfont-size: 30pxâ€&gt;å­—ä½“å¤§å°ç”¨pxè¡¨ç¤º&lt;/p&gt;</code><br>â‘¡å†™åœ¨styleæ ‡ç­¾ä¸­(styleæ ‡ç­¾ä¸€èˆ¬å†™åœ¨headæ ‡ç­¾ä¸titleæ ‡ç­¾ä¹‹é—´)ï¼š<br>          <pre class="line-numbers language-html" data-language="html"><code class="language-html">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">  <span class="token selector">p</span><span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>          <span class="token punctuation">&#125;</span>        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><br>â‘¢å¼•å…¥å¤–éƒ¨CSSæ–‡ä»¶ï¼š<br>    <code>html&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;style.css&quot;&gt; </code>  </p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>htmlå­¦ä¹ ç¬”è®°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">        <span class="token selector">p</span><span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span>gold<span class="token punctuation">&#125;</span>        <span class="token selector">.color_orange</span><span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">&#125;</span>        <span class="token selector">#font_size</span><span class="token punctuation">&#123;</span><span class="token property">font-size</span><span class="token punctuation">:</span> 36px<span class="token punctuation">&#125;</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>color.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªhtmlé¡µé¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>    1. è¯­æ³•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>    <span class="token comment">&lt;!-- 1.æ ‡ç­¾çš„åˆ†ç±»    å¼€å§‹ç»“æŸæ ‡ç­¾    è‡ªé—­åˆæ ‡ç­¾    --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">color</span><span class="token punctuation">:</span> red</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>css<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>color_orange<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>javascript<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">"</span>font_size<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- 2.æ ‡ç­¾ä¸åŒºåˆ†å¤§å°å†™ --></span>    <span class="token comment">&lt;!-- 3.æ ‡ç­¾å¯ä»¥åµŒå¥—ä½†ä¸èƒ½äº¤å‰åµŒå¥— --></span>    <span class="token comment">&lt;!-- 4.æ ‡ç­¾å¿…é¡»æ­£ç¡®å…³é—­ --></span>    <span class="token comment">&lt;!-- 5.å±æ€§å¿…é¡»æœ‰å€¼ï¼Œä¸”å±æ€§å€¼å¿…é¡»åŠ å¼•å· --></span>    <span class="token comment">&lt;!-- 6.æ³¨é‡Šä¸èƒ½åµŒå¥— --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åŠ¨æ¼«å¤´åƒ  å›¾ç‰‡ä¸èƒ½æ˜¾ç¤ºæç¤ºä¿¡æ¯<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åŠ¨æ¼«å¤´åƒ æ”¾åˆ°å›¾ç‰‡ä¸Šæç¤ºä¿¡æ¯<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å¸¸ç”¨æ ‡ç­¾.html<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç‚¹å‡»æœ‰ç¾å¥³,æ–°é¡µé¢æ‰“å¼€<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å¸¸ç”¨æ ‡ç­¾.html<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_self<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç‚¹å‡»æœ‰ç¾å¥³,åœ¨è¯¥é¡µé¢æ‰“å¼€<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300px<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>å§“å<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>å¹´é¾„<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>é™<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>13<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å–œæ´‹æ´‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--actionè¡¨å•æäº¤çš„è·¯å¾„--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>success.html<span class="token punctuation">"</span></span>   <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        ç”¨æˆ·åï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>        å¯†<span class="token entity named-entity" title="&emsp;">&amp;emsp;</span>ç ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pwd<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>        æ€§åˆ«ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>man<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checked<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>ç”·        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>woman<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>å¥³<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>        çˆ±å¥½ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>basketball<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checked<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>ç¯®çƒ        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>football<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>è¶³çƒ        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>volleyball<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>æ’çƒ        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>        å–œæ¬¢çš„æ˜æ˜Ÿï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>star<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fbb<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>èŒƒå†°å†°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ¨é¢–<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zzy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç« å­æ€¡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reset<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> JavaWeb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»€ä¹ˆæ˜¯ JavaWeb</title>
      <link href="2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/javaweb/javaweb/"/>
      <url>2020/11/20/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/javaweb/javaweb/</url>
      
        <content type="html"><![CDATA[<h1 id="JavaWeb"><a href="#JavaWeb" class="headerlink" title="JavaWeb"></a>JavaWeb</h1><ol><li>ä»€ä¹ˆæ˜¯ JavaWeb</li></ol><p>JavaWeb æ˜¯æŒ‡ï¼Œ<code>æ‰€æœ‰é€šè¿‡Javaè¯­è¨€ç¼–å†™å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®çš„ç¨‹åºçš„æ€»ç§°</code>ï¼Œå« JavaWebã€‚ JavaWeb æ˜¯åŸºäºè¯·æ±‚å’Œå“åº”æ¥å¼€å‘çš„ã€‚</p><p>b)ä»€ä¹ˆæ˜¯è¯·æ±‚</p><p>è¯·æ±‚æ˜¯æŒ‡å®¢æˆ·ç«¯ç»™æœåŠ¡å™¨å‘é€æ•°æ®ï¼Œå«è¯·æ±‚ Requestã€‚</p><p>c)ä»€ä¹ˆæ˜¯å“åº”</p><p>å“åº”æ˜¯æŒ‡æœåŠ¡å™¨ç»™å®¢æˆ·ç«¯å›ä¼ æ•°æ®ï¼Œå«å“åº” Responseã€‚</p><p>d)è¯·æ±‚å’Œå“åº”çš„å…³ç³»</p><p>è¯·æ±‚å’Œå“åº”æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œæœ‰è¯·æ±‚å°±æœ‰å“åº”ã€‚</p><ol start="2"><li>Web èµ„æºçš„åˆ†ç±»</li></ol><p>web èµ„æºæŒ‰å®ç°çš„æŠ€æœ¯å’Œå‘ˆç°çš„æ•ˆæœçš„ä¸åŒï¼Œåˆåˆ†ä¸ºé™æ€èµ„æºå’ŒåŠ¨æ€èµ„æºä¸¤ç§ã€‚ é™æ€èµ„æºï¼š htmlã€cssã€jsã€txtã€mp4 è§†é¢‘ , jpg å›¾ç‰‡<br><strong>åŠ¨æ€èµ„æºï¼š jsp é¡µé¢ã€Servlet ç¨‹åº</strong></p><p>3.å¸¸ç”¨çš„ Web æœåŠ¡å™¨</p><p>Tomcatï¼šç”± Apache ç»„ç»‡æä¾›çš„ä¸€ç§ Web æœåŠ¡å™¨ï¼Œæä¾›å¯¹ jsp å’Œ Servlet çš„æ”¯æŒã€‚å®ƒæ˜¯ä¸€ç§è½»é‡çº§çš„ javaWeb å®¹å™¨ï¼ˆæœåŠ¡ å™¨ï¼‰ï¼Œä¹Ÿæ˜¯å½“å‰åº”ç”¨æœ€å¹¿çš„ JavaWeb æœåŠ¡å™¨ï¼ˆå…è´¹ï¼‰ã€‚ Jbossï¼šæ˜¯ä¸€ä¸ªéµä» JavaEE è§„èŒƒçš„ã€å¼€æ”¾æºä»£ç çš„ã€çº¯ Java çš„ EJB æœåŠ¡å™¨ï¼Œå®ƒæ”¯æŒæ‰€æœ‰çš„ JavaEE è§„èŒƒï¼ˆå…è´¹ï¼‰ã€‚<br>GlassFishï¼š ç”± Oracle å…¬å¸å¼€å‘çš„ä¸€æ¬¾ JavaWeb æœåŠ¡å™¨ï¼Œæ˜¯ä¸€æ¬¾å¼ºå¥çš„å•†ä¸šæœåŠ¡å™¨ï¼Œè¾¾åˆ°äº§å“çº§è´¨é‡ï¼ˆåº”ç”¨å¾ˆå°‘ï¼‰ã€‚<br>Resinï¼šæ˜¯ CAUCHO å…¬å¸çš„äº§å“ï¼Œæ˜¯ä¸€ä¸ªéå¸¸æµè¡Œçš„æœåŠ¡å™¨ï¼Œå¯¹ servlet å’Œ JSP æä¾›äº†è‰¯å¥½çš„æ”¯æŒï¼Œ æ€§èƒ½ä¹Ÿæ¯”è¾ƒä¼˜è‰¯ï¼Œ resin è‡ªèº«é‡‡ç”¨ JAVA è¯­è¨€å¼€å‘ï¼ˆæ”¶è´¹ï¼Œåº”ç”¨æ¯”è¾ƒå¤šï¼‰ã€‚ WebLogicï¼šæ˜¯ Oracle å…¬å¸çš„äº§å“ï¼Œæ˜¯ç›®å‰åº”ç”¨æœ€å¹¿æ³›çš„ Web æœåŠ¡å™¨ï¼Œæ”¯æŒ JavaEE è§„èŒƒï¼Œ è€Œä¸”ä¸æ–­çš„å®Œå–„ä»¥é€‚åº”æ–°çš„å¼€å‘è¦æ±‚ï¼Œé€‚åˆå¤§å‹é¡¹ç›®ï¼ˆæ”¶è´¹ï¼Œç”¨çš„ä¸å¤šï¼Œé€‚åˆå¤§å…¬å¸ï¼‰</p><p><img src="2020-12-10-17-41-59.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaWeb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼‚å¸¸</title>
      <link href="2020/11/17/%E5%BC%82%E5%B8%B8/"/>
      <url>2020/11/17/%E5%BC%82%E5%B8%B8/</url>
      
        <content type="html"><![CDATA[<h2 id="31-2ï¼šJavaä¸­çš„ä¸¤ç§å¼‚å¸¸ç±»å‹æ˜¯ä»€ä¹ˆ"><a href="#31-2ï¼šJavaä¸­çš„ä¸¤ç§å¼‚å¸¸ç±»å‹æ˜¯ä»€ä¹ˆ" class="headerlink" title="31-2ï¼šJavaä¸­çš„ä¸¤ç§å¼‚å¸¸ç±»å‹æ˜¯ä»€ä¹ˆ"></a>31-2ï¼šJavaä¸­çš„ä¸¤ç§å¼‚å¸¸ç±»å‹æ˜¯ä»€ä¹ˆ</h2><p>Java ä¸­æœ‰ä¸¤ç§å¼‚å¸¸ï¼šå—æ£€æŸ¥çš„(checked)å¼‚å¸¸å’Œä¸å—æ£€æŸ¥çš„(unchecked)å¼‚å¸¸ã€‚</p><ol><li>å—æ£€å¼‚å¸¸<br>è¿™ç§å¼‚å¸¸åœ¨IOæ“ä½œä¸­â½è¾ƒå¤šã€‚<br>â½¬çš„å°±æ˜¯å‘Šè¯‰è¿™ä¸ªâ½…æ³•çš„è°ƒâ½¤è€…ï¼Œ<br>æˆ‘è¿™ä¸ªâ½…æ³•ä¸ä¿è¯â¼€å®šå¯ä»¥æˆåŠŸï¼Œ<br>æ˜¯æœ‰å¯èƒ½æ‰¾ä¸åˆ°å¯¹åº”çš„â½‚ä»¶çš„ï¼Œ<br>ä½ è¦æ˜ç¡®çš„å¯¹è¿™ç§æƒ…å†µåšç‰¹æ®Šå¤„ç†å“¦ã€‚</li><li>éå—æ£€å¼‚å¸¸<br>è¿™ç§å¼‚å¸¸â¼€èˆ¬å¯ä»¥ç†è§£ä¸ºæ˜¯ä»£ç åŸå› å¯¼è‡´çš„ã€‚<br>â½å¦‚å‘â½£ç©ºæŒ‡é’ˆã€æ•°ç»„è¶Šç•Œç­‰ã€‚</li></ol><h2 id="1-1ï¼šä»–ä»¬æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#1-1ï¼šä»–ä»¬æœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="1-1ï¼šä»–ä»¬æœ‰ä»€ä¹ˆåŒºåˆ«"></a>1-1ï¼šä»–ä»¬æœ‰ä»€ä¹ˆåŒºåˆ«</h2><ol><li>ä¸å—æ£€æŸ¥çš„å¼‚å¸¸ä¸éœ€è¦åœ¨æ–¹æ³•æˆ–è€…æ˜¯æ„é€ å‡½æ•°ä¸Šå£°æ˜</li><li>å—æ£€æŸ¥çš„å¼‚å¸¸å¿…é¡»è¦ç”¨ throws è¯­å¥åœ¨æ–¹æ³•æˆ–è€…æ˜¯æ„é€ å‡½æ•°ä¸Šå£°æ˜ã€‚</li></ol><h2 id="1-2ï¼šå¼‚å¸¸é“¾"><a href="#1-2ï¼šå¼‚å¸¸é“¾" class="headerlink" title="1-2ï¼šå¼‚å¸¸é“¾"></a>1-2ï¼šå¼‚å¸¸é“¾</h2><p>æ˜¯æŒ‡åœ¨è¿›â¾â¼€ä¸ªå¼‚å¸¸å¤„ç†æ—¶æŠ›å‡ºäº†å¦å¤–â¼€ä¸ªå¼‚å¸¸ï¼Œ ç”±æ­¤äº§â½£äº†â¼€ä¸ªå¼‚å¸¸é“¾æ¡ã€‚<br>è¯¥æŠ€æœ¯â¼¤å¤šâ½¤äºå°†â€œ å—æ£€æŸ¥å¼‚å¸¸â€ å°è£…æˆä¸ºâ€œâ¾®å—æ£€æŸ¥å¼‚å¸¸â€æˆ–è€…RuntimeExceptionã€‚</p><h2 id="1-3ï¼štryã€catchã€finallyæ‰§è¡Œé¡ºåº"><a href="#1-3ï¼štryã€catchã€finallyæ‰§è¡Œé¡ºåº" class="headerlink" title="1-3ï¼štryã€catchã€finallyæ‰§è¡Œé¡ºåº"></a>1-3ï¼štryã€catchã€finallyæ‰§è¡Œé¡ºåº</h2><h3 id="ä¸å¸¦returnè¿”å›é¡ºåº"><a href="#ä¸å¸¦returnè¿”å›é¡ºåº" class="headerlink" title="ä¸å¸¦returnè¿”å›é¡ºåº"></a>ä¸å¸¦returnè¿”å›é¡ºåº</h3><p>å¦‚æœtryä¸­æ²¡æœ‰å¼‚å¸¸ï¼Œåˆ™é¡ºåºä¸ºtryâ†’finallyï¼Œå¦‚æœtryä¸­æœ‰å¼‚å¸¸ï¼Œåˆ™é¡ºåºä¸ºtryâ†’catchâ†’finally</p><h3 id="å¸¦returnè¿”å›é¡ºåº"><a href="#å¸¦returnè¿”å›é¡ºåº" class="headerlink" title="å¸¦returnè¿”å›é¡ºåº"></a>å¸¦returnè¿”å›é¡ºåº</h3><p><code>å¦‚æœtryä¸­å¸¦æœ‰return</code><br>   ç¨‹åºæ‰§è¡Œtryå—ä¸­returnä¹‹å‰ä»£ç ï¼›<br>   å†æ‰§è¡Œfinallyå—ï¼Œæœ€åæ‰§è¡Œtryä¸­return;<br>   <code>finallyå—ä¹‹åçš„è¯­å¥returnä¸å†æ‰§è¡Œ</code>ï¼Œå› ä¸ºç¨‹åºåœ¨tryä¸­å·²ç»returnè¿‡äº†ã€‚</p><p><code>catchå—ä¸­æœ‰return</code><br>   ç¨‹åºå…ˆæ‰§è¡Œtryï¼Œå¦‚æœé‡åˆ°å¼‚å¸¸æ‰§è¡Œcatchå—ï¼Œ<br>      æœ‰å¼‚å¸¸ï¼šæ‰§è¡Œcatchä¸­returnä¹‹å‰ä»£ç ï¼Œ<br>             å†æ‰§è¡Œfinallyè¯­å¥ä¸­å…¨éƒ¨ä»£ç ï¼Œ<br>             æœ€åæ‰§è¡Œcatchå—ä¸­returnã€‚<br>             finallyä¹‹åçš„returnä¸å†æ‰§è¡Œã€‚<br>      æ— å¼‚å¸¸ï¼šæ‰§è¡Œå®Œtryå†finallyå†returnã€‚</p><p><code>tryå—å’Œfinallyå—ä¸­æœ‰return</code><br>   æ— å¼‚å¸¸ï¼šç¨‹åºæ‰§è¡Œ<code>tryå—ä¸­returnä¹‹å‰</code>ä»£ç ï¼›<br>          å†æ‰§è¡Œ<code>finallyå—</code>ï¼Œå› ä¸ºfinallyå—ä¸­æœ‰returnæ‰€ä»¥æå‰é€€å‡ºï¼Œ<br>          è€Œä¸å†æ‰§è¡Œtryä¸­çš„returnï¼›<br>   æœ‰å¼‚å¸¸ï¼šä¸æ‰§è¡Œtryï¼Œé¡ºåºæ‰§è¡Œcatch-finally</p><p><code>catchå—å’Œfinallyå—ä¸­æœ‰return</code><br>   æ— å¼‚å¸¸ï¼šæ‰§è¡Œtryåè·³è¿‡catchæ‰§è¡Œfinallyï¼›å¾—åˆ°finallyçš„è¿”å›å€¼ï¼›<br>   æœ‰å¼‚å¸¸ï¼šç¨‹åºæ‰§è¡Œcatchå—ä¸­returnä¹‹å‰ä»£ç ï¼›<br>          å†æ‰§è¡Œfinallyå—ï¼Œå› ä¸ºfinallyå—ä¸­æœ‰returnæ‰€ä»¥æå‰é€€å‡ºã€‚<br>          è€Œä¸å†æ‰§è¡Œcatchä¸­çš„returnã€‚</p><p><code>tryå—ã€catchå—å’Œfinallyå—ä¸­æœ‰return</code><br>   æ— å¼‚å¸¸ï¼šç„¶åå†æ‰§è¡Œfinallyå—ï¼Œ<br>          å› ä¸ºfinallyå—ä¸­æœ‰returnæ‰€ä»¥æå‰é€€å‡ºã€‚<br>   æœ‰å¼‚å¸¸ï¼šæ‰§è¡Œcatchå—ä¸­returnä¹‹å‰ä»£ç ï¼›<br>          å†æ‰§è¡Œfinallyå—ï¼Œå› ä¸ºfinallyå—ä¸­æœ‰returnæ‰€ä»¥æå‰é€€å‡ºã€‚</p><p><a href="https://www.jianshu.com/p/8c9ea967ffe6">https://www.jianshu.com/p/8c9ea967ffe6</a>  å…·ä½“ä¹ é¢˜å¯å‚è€ƒè¿™ç‰‡åšæ–‡</p><h2 id="1-4ï¼šä»€ä¹ˆæ˜¯OOMï¼Ÿå¸¸è§æœ‰å“ªäº›OOM"><a href="#1-4ï¼šä»€ä¹ˆæ˜¯OOMï¼Ÿå¸¸è§æœ‰å“ªäº›OOM" class="headerlink" title="1-4ï¼šä»€ä¹ˆæ˜¯OOMï¼Ÿå¸¸è§æœ‰å“ªäº›OOM"></a>1-4ï¼šä»€ä¹ˆæ˜¯OOMï¼Ÿå¸¸è§æœ‰å“ªäº›OOM</h2><ol><li><code>Javaå †æº¢å‡ºâ€”â€”OutOfMemoryError</code><br>åŸå› ï¼šç”±äºä¸æ–­åˆ›å»ºå¯¹è±¡å®ä¾‹ï¼Œå½“å¯¹è±¡æ•°é‡è¾¾åˆ°äº†æœ€å¤§å †çš„å®¹é‡é™åˆ¶åäº§ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸ã€‚<br>è§£å†³æ–¹æ³•ï¼š<br>1)é¦–å…ˆç¡®è®¤æ˜¯å†…å­˜æ³„éœ²ï¼ˆMemory Leakï¼‰è¿˜æ˜¯å†…å­˜æº¢å‡ºï¼ˆMemory Overflowï¼‰ï¼›<br>2)å¦‚æœæ˜¯å†…å­˜æ³„æ¼å¼•èµ·çš„ï¼ŒæŸ¥çœ‹GC Rootså¼•ç”¨é“¾ï¼Œæ‰¾å‡ºä¸ºä»€ä¹ˆæ— æ³•è¢«åƒåœ¾å›æ”¶çš„åŸå› ï¼›<br>3)å¦‚æœæ˜¯å†…å­˜æº¢å‡ºï¼Œæ£€æŸ¥è™šæ‹Ÿæœºçš„å †å‚æ•°ï¼ˆ-Xmxæœ€å¤§å€¼å’Œ-Xmsæœ€å°å€¼ï¼‰ï¼Œå¯¹æ¯”ç‰©ç†å†…å­˜çœ‹æ˜¯å¦å¯ä»¥è°ƒå¤§ï¼›</li><li><code>è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡ºâ€”â€”StackOverflowError</code><br>åŸå› ï¼šåœ¨å•çº¿ç¨‹ä¸‹ï¼Œè™šæ‹Ÿæœºæ ˆå®¹é‡å¤ªå°æˆ–è€…å®šä¹‰äº†å¤§é‡çš„æœ¬åœ°å˜é‡<br>è§£å†³æ–¹æ³•ï¼šå¢å¤§è™šæ‹Ÿæœºæ ˆå®¹é‡<br>åŸå› ï¼šåœ¨å¤šçº¿ç¨‹ä¸‹ï¼Œå¤§é‡åˆ›å»ºæ–°çº¿ç¨‹ï¼Œä¼šæŠ›å‡ºOOMï¼Œæ¯ä¸ªçº¿ç¨‹çš„æ ˆåˆ†é…çš„å†…å­˜è¶Šå¤§ï¼Œè¶Šå®¹æ˜“äº§ç”Ÿï¼›<br>è§£å†³æ–¹æ³•ï¼šå‡å°‘çº¿ç¨‹äº§ç”Ÿã€é™ä½æœ€å¤§å †ã€å‡å°‘æ ˆå®¹é‡ï¼›</li><li><code>è¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡º</code><br>åŸå› ï¼šä»£ç åœ¨è¿è¡Œæ—¶åˆ›å»ºäº†å¤§é‡çš„å¸¸é‡ï¼Œè¶…å‡ºäº†å¸¸é‡æ± ä¸Šé™ï¼›<br>è§£å†³æ–¹æ³•ï¼šé€šè¿‡ä¿®æ”¹-XX:PermSizeå’Œ-XX:MaxPermSizeå‚æ•°æ¥ä¿®æ”¹æ–¹æ³•åŒºå¤§å°ï¼Œä»è€Œä¿®æ”¹å¸¸é‡æ± å¤§å°ï¼›</li><li><code>æ–¹æ³•åŒºæº¢å‡º</code><br>åŸå› ï¼šåœ¨è¿è¡Œæ—¶ï¼ŒClassLoaderåŠ¨æ€åŠ è½½äº†å¤§é‡çš„Classä¿¡æ¯ï¼Œè¶…å‡ºæ–¹æ³•åŒºä¸Šé™ï¼›<br>è§£å†³æ–¹æ³•ï¼šé€šè¿‡ä¿®æ”¹å‚æ•°æ¥ä¿®æ”¹æ–¹æ³•åŒºå¤§å°ï¼›</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> å¼‚å¸¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥Javaé›†åˆ---Listé›†åˆæ¯”è¾ƒ</title>
      <link href="2020/11/17/%E9%9B%86%E5%90%88/List%E9%9B%86%E5%90%88%E6%AF%94%E8%BE%83/"/>
      <url>2020/11/17/%E9%9B%86%E5%90%88/List%E9%9B%86%E5%90%88%E6%AF%94%E8%BE%83/</url>
      
        <content type="html"><![CDATA[<h2 id="æºç æ‰©å®¹è¿‡ç¨‹æœ‰ä»€ä¹ˆå€¼å¾—å€Ÿé‰´çš„åœ°æ–¹ï¼Ÿ"><a href="#æºç æ‰©å®¹è¿‡ç¨‹æœ‰ä»€ä¹ˆå€¼å¾—å€Ÿé‰´çš„åœ°æ–¹ï¼Ÿ" class="headerlink" title="æºç æ‰©å®¹è¿‡ç¨‹æœ‰ä»€ä¹ˆå€¼å¾—å€Ÿé‰´çš„åœ°æ–¹ï¼Ÿ"></a>æºç æ‰©å®¹è¿‡ç¨‹æœ‰ä»€ä¹ˆå€¼å¾—å€Ÿé‰´çš„åœ°æ–¹ï¼Ÿ</h2><p>ç­”ï¼šæœ‰ä¸¤ç‚¹ï¼š</p><ol><li>æ˜¯æ‰©å®¹çš„æ€æƒ³å€¼å¾—å­¦ä¹ ï¼Œé€šè¿‡è‡ªåŠ¨æ‰©å®¹çš„æ–¹å¼ï¼Œè®©ä½¿ç”¨è€…ä¸ç”¨å…³å¿ƒåº•å±‚æ•°æ®ç»“æ„çš„å˜åŒ–ï¼Œå° è£…å¾—å¾ˆå¥½ï¼Œ1.5 å€çš„æ‰©å®¹é€Ÿåº¦ï¼Œå¯ä»¥è®©æ‰©å®¹é€Ÿåº¦åœ¨å‰æœŸç¼“æ…¢ä¸Šå‡ï¼Œåœ¨åæœŸå¢é€Ÿè¾ƒå¿«ï¼Œå¤§éƒ¨åˆ†å·¥ä½œä¸­è¦æ±‚æ•°ç»„çš„å€¼å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œæ‰€ä»¥å‰æœŸå¢é•¿ç¼“æ…¢æœ‰åˆ©äºèŠ‚çœèµ„æºï¼Œåœ¨åæœŸå¢é€Ÿè¾ƒå¿«æ—¶ï¼Œ ä¹Ÿå¯å¿«é€Ÿæ‰©å®¹ã€‚</li><li>æ‰©å®¹è¿‡ç¨‹ä¸­ï¼Œæœ‰æ•°ç»„å¤§å°æº¢å‡ºçš„æ„è¯†ï¼Œæ¯”å¦‚è¦æ±‚æ‰©å®¹åçš„æ•°ç»„å¤§å°ï¼Œä¸èƒ½å°äº 0ï¼Œä¸èƒ½å¤§äº Integer çš„æœ€å¤§å€¼ã€‚</li></ol><p>è¿™ä¸¤ç‚¹åœ¨æˆ‘ä»¬å¹³æ—¶è®¾è®¡å’Œå†™ä»£ç æ—¶éƒ½å¯ä»¥å€Ÿé‰´ã€‚</p><h2 id="ArrayList-å’Œ-LinkedList-ä¸¤è€…æœ‰æ²¡æœ‰æœ€å¤§å®¹é‡"><a href="#ArrayList-å’Œ-LinkedList-ä¸¤è€…æœ‰æ²¡æœ‰æœ€å¤§å®¹é‡" class="headerlink" title="ArrayList å’Œ LinkedList ä¸¤è€…æœ‰æ²¡æœ‰æœ€å¤§å®¹é‡"></a>ArrayList å’Œ LinkedList ä¸¤è€…æœ‰æ²¡æœ‰æœ€å¤§å®¹é‡</h2><p>ç­”ï¼šArrayList æœ‰æœ€å¤§å®¹é‡çš„ï¼Œä¸º Integer çš„æœ€å¤§å€¼ï¼Œå¤§äºè¿™ä¸ªå€¼ JVM æ˜¯ä¸ä¼šä¸ºæ•°ç»„åˆ†é…å†…å­˜ ç©ºé—´çš„ï¼ŒLinkedList åº•å±‚æ˜¯åŒå‘é“¾è¡¨ï¼Œç†è®ºä¸Šå¯ä»¥æ— é™å¤§ã€‚ä½†æºç ä¸­ï¼ŒLinkedList å®é™…å¤§å°ç”¨ çš„æ˜¯ int ç±»å‹ï¼Œè¿™ä¹Ÿè¯´æ˜äº† LinkedList ä¸èƒ½è¶…è¿‡ Integer çš„æœ€å¤§å€¼ï¼Œä¸ç„¶ä¼šæº¢å‡ºã€‚</p><h2 id="vectorã€ArrayliståŒºåˆ«å’Œé€‚ç”¨åœºæ™¯"><a href="#vectorã€ArrayliståŒºåˆ«å’Œé€‚ç”¨åœºæ™¯" class="headerlink" title="vectorã€ArrayliståŒºåˆ«å’Œé€‚ç”¨åœºæ™¯"></a>vectorã€ArrayliståŒºåˆ«å’Œé€‚ç”¨åœºæ™¯</h2><p>1.<code>çº¿ç¨‹</code>ï¼šVectoræ˜¯å¤šçº¿ç¨‹å®‰å…¨çš„ï¼Œ Vectorç±»ä¸­çš„æ–¹æ³•å¾ˆå¤šæœ‰synchronizedè¿›è¡Œä¿®é¥°ï¼Œ<br>         åªæœ‰å½“ ArrayList ä½œä¸ºå…±äº«å˜é‡æ—¶ï¼Œæ‰ä¼šæœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå½“ ArrayList æ˜¯ æ–¹æ³•å†…çš„å±€éƒ¨å˜é‡æ—¶ï¼Œæ˜¯æ²¡æœ‰çº¿ç¨‹å®‰å…¨çš„é—®é¢˜çš„ã€‚<br>         ArrayList æœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜çš„æœ¬è´¨ï¼Œæ˜¯å› ä¸º ArrayList è‡ªèº«çš„ elementDataã€sizeã€modConut åœ¨è¿›è¡Œå„ç§æ“ä½œæ—¶ï¼Œéƒ½æ²¡æœ‰åŠ é”ï¼Œè€Œä¸”è¿™äº›å˜é‡çš„ç±»å‹å¹¶éæ˜¯å¯è§ï¼ˆvolatileï¼‰çš„ï¼Œæ‰€ä»¥å¦‚æœå¤šä¸ªçº¿ç¨‹å¯¹è¿™äº›å˜é‡è¿›è¡Œæ“ä½œæ—¶ï¼Œå¯èƒ½ä¼šæœ‰å€¼è¢«è¦†ç›–çš„æƒ…å†µã€‚<br>         è¿™æ ·å°±å¯¼è‡´äº†Vectoråœ¨æ•ˆç‡ä¸Šæ— æ³•ä¸ArrayListç›¸æ¯”</p><ol start="2"><li><p><code>åº•å±‚</code>ï¼šä¸¤ä¸ªéƒ½æ˜¯æ•°ç»„å®ç°ï¼Œæ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ï¼Œå…¶ API éƒ½åšäº†ä¸€å±‚å¯¹æ•°ç»„åº•å±‚è®¿é—®çš„å°è£…</p></li><li><p><code>åˆå§‹åŒ–</code>ï¼šVectoræ— å‚æ„é€ å™¨åˆå§‹åŒ–æ—¶å°±ç”Ÿæˆäº†å®¹é‡ä¸º10çš„ç©ºæ•°ç»„ï¼ŒArrayList æ— å‚æ„é€ å™¨åˆå§‹åŒ–æ—¶ï¼Œé»˜è®¤å¤§å°æ˜¯ç©ºæ•°ç»„ï¼Œ10 æ˜¯åœ¨ç¬¬ä¸€æ¬¡ add çš„æ—¶å€™æ‰©å®¹çš„æ•°ç»„å€¼ã€‚</p><pre><code>  Vectorå¯ä»¥è®¾ç½®å¢é•¿å› å­CapacityIncrementï¼Œè€ŒArrayListä¸å¯ä»¥</code></pre></li><li><p><code>æ‰©å®¹æœºåˆ¶</code>ï¼š<br>Vectoråœ¨æ¯æ¬¡addå¢åŠ å…ƒç´ (å¯èƒ½æ˜¯1ä¸ªï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ç»„)æ—¶ï¼Œéƒ½è¦è°ƒç”¨ensureCapacityHelperæ–¹æ³•æ¥ç¡®ä¿è¶³å¤Ÿçš„å®¹é‡ï¼Œå½“å®¹é‡ä¸è¶³ä»¥å®¹çº³å½“å‰çš„å…ƒç´ ä¸ªæ•°æ—¶ï¼Œå³minCapacityï¼ˆæŒ‡çš„æ˜¯å½“å‰å…ƒç´ æ•°ç›®elementCount + 1ï¼‰ - elementData.length &gt; 0ï¼Œå°±ä¼šgrow(minCapacity)æ‰©å®¹ï¼Œå°±çœ‹æ„é€ æ–¹æ³•ä¸­ä¼ å…¥çš„å®¹é‡å¢é•¿ç³»æ•°CapacityIncrementæ˜¯å¦ä¸º0ï¼Œ</p><pre><code>  å¦‚æœä¸ä¸º0ï¼Œå°±è®¾ç½®æ–°çš„å®¹é‡ä¸º æ—§å®¹é‡ + å®¹é‡å¢é•¿é‡ï¼›  å¦‚æœä¸º0ï¼Œè®¾ç½®æ–°çš„å®¹é‡ä¸ºæ—§çš„å®¹é‡çš„2å€ï¼Œ  å¦‚æœè®¾ç½®åçš„å®¹é‡è¿˜ä¸å¤Ÿï¼Œåˆ™ç›´æ¥æ–°çš„å®¹é‡è®¾ç½®ä¸º  ä¼ å…¥å‚æ•°æ‰€éœ€è¦çš„å®¹é‡ </code></pre><p>ArrayListåœ¨æ¯æ¬¡addå¢åŠ å…ƒç´ (å¯èƒ½æ˜¯1ä¸ªï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ç»„)æ—¶ï¼Œéƒ½è¦è°ƒç”¨nsureCapacityInternalæ–¹æ³•æ¥ç¡®ä¿è¶³å¤Ÿçš„å®¹é‡,å¦‚æœæˆ‘ä»¬æœŸæœ›çš„æœ€å°å®¹é‡å¤§äºç›®å‰æ•°ç»„çš„é•¿åº¦ï¼Œé‚£ä¹ˆå°±æ‰©å®¹.</p><ol><li>ArrayListç¬¬ä¸€æ¬¡addå…ƒç´ æ—¶ï¼Œæ‰©å®¹ä¸ºé•¿åº¦ä¸º10çš„æ•°ç»„ã€‚<br>å½“å‰æ•°ç»„æ˜¯ç”±é»˜è®¤æ„é€ æ–¹æ³•ç”Ÿæˆçš„ç©ºæ•°ç»„å¹¶ä¸”ç¬¬ä¸€æ¬¡æ·»åŠ æ•°æ®ã€‚<br>æ­¤æ—¶minCapacityç­‰äºé»˜è®¤çš„å®¹é‡ï¼ˆ10ï¼‰<br>é‚£ä¹ˆæ ¹æ®ä¸‹é¢é€»è¾‘å¯ä»¥çœ‹åˆ°æœ€åæ•°ç»„çš„å®¹é‡ä¼šä»0æ‰©å®¹æˆ10ã€‚<br>è€Œåçš„æ•°ç»„æ‰©å®¹æ‰æ˜¯æŒ‰ç…§å½“å‰å®¹é‡çš„1.5å€è¿›è¡Œæ‰©å®¹ï¼›</li></ol></li></ol><h2 id="ArrayListã€LinkedListåŒºåˆ«å’Œé€‚ç”¨åœºæ™¯"><a href="#ArrayListã€LinkedListåŒºåˆ«å’Œé€‚ç”¨åœºæ™¯" class="headerlink" title="ArrayListã€LinkedListåŒºåˆ«å’Œé€‚ç”¨åœºæ™¯"></a>ArrayListã€LinkedListåŒºåˆ«å’Œé€‚ç”¨åœºæ™¯</h2><ol><li><code>æ˜¯å¦ä¿è¯çº¿ç¨‹å®‰å…¨</code>ï¼š ArrayListåœ¨å•çº¿ç¨‹ä¸‹æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œ<pre><code>             å¤šçº¿ç¨‹ä¸‹ç”±äºå¤šä¸ªçº¿ç¨‹ä¸æ–­æŠ¢å¤ºèµ„æºï¼Œ             æ‰€ä»¥ä¼šå‡ºç°ä¸å®‰å…¨             å’Œ LinkedList éƒ½æ˜¯ä¸åŒæ­¥çš„ï¼Œä¹Ÿå°±æ˜¯ä¸ä¿è¯çº¿ç¨‹å®‰å…¨ï¼›</code></pre></li><li><code>åº•å±‚æ•°æ®ç»“æ„</code>ï¼š Arraylist åº•å±‚ä½¿ç”¨çš„æ˜¯ Object æ•°ç»„ï¼›<pre><code>             LinkedList åº•å±‚ä½¿ç”¨çš„æ˜¯ åŒå‘é“¾è¡¨ æ•°æ®ç»“æ„</code></pre></li><li><code>æ’å…¥å’Œåˆ é™¤æ˜¯å¦å—å…ƒç´ ä½ç½®çš„å½±å“</code>ï¼š<br>â‘  ArrayList é‡‡ç”¨æ•°ç»„å­˜å‚¨ï¼Œæ‰€ä»¥æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦å—å…ƒç´ ä½ç½®çš„å½±å“ã€‚<br>â‘¡ LinkedList é‡‡ç”¨é“¾è¡¨å­˜å‚¨ï¼Œæ’å…¥åˆ é™¤å…ƒç´ æ—¶é—´å¤æ‚åº¦ä¸å—å…ƒç´ ä½ç½®çš„å½±å“ï¼Œ<pre><code>         å¦‚æœæ˜¯è¦åœ¨æŒ‡å®šä½ç½®iæ’å…¥å’Œåˆ é™¤å…ƒç´ çš„è¯éœ€è¦å…ˆç§»åŠ¨åˆ°æŒ‡å®šä½ç½®å†æ’å…¥ã€‚</code></pre></li><li><code>æ˜¯å¦æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®</code>ï¼š LinkedList ä¸æ”¯æŒé«˜æ•ˆçš„éšæœºå…ƒç´ è®¿é—®ï¼Œ<br>LinkedList å¹¶æ²¡æœ‰é‡‡ç”¨ä»å¤´å¾ªç¯åˆ°å°¾çš„åšæ³•ï¼Œ è€Œæ˜¯é‡‡å–äº†ç®€å•äºŒåˆ† æ³•ï¼Œ é¦–å…ˆçœ‹çœ‹ index æ˜¯åœ¨é“¾è¡¨çš„å‰åŠéƒ¨åˆ†ï¼Œ è¿˜æ˜¯ååŠéƒ¨åˆ†ã€‚ å¦‚æœæ˜¯å‰åŠéƒ¨åˆ†ï¼Œ å°±ä»å¤´å¼€å§‹å¯» æ‰¾ï¼Œåä¹‹äº¦ç„¶ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½¿å¾ªç¯çš„æ¬¡æ•°è‡³å°‘é™ä½äº†ä¸€åŠï¼Œæé«˜äº†æŸ¥æ‰¾çš„æ€§èƒ½ï¼Œè¿™ç§æ€æƒ³å€¼ å¾—æˆ‘ä»¬å€Ÿé‰´ã€‚<br>è€Œ ArrayList æ”¯æŒã€‚å¿«é€Ÿéšæœºè®¿é—®å°±æ˜¯é€šè¿‡å…ƒç´ çš„åºå·å¿«é€Ÿè·å–å…ƒç´ å¯¹è±¡(å¯¹åº”äºget(int index) æ–¹æ³•)ã€‚</li><li><code>å†…å­˜ç©ºé—´å ç”¨</code>ï¼š ArrayListçš„ç©ºé—´æµªè´¹ä¸»è¦ä½“ç°åœ¨åœ¨liståˆ—è¡¨çš„ç»“å°¾ä¼šé¢„ç•™ä¸€å®šçš„å®¹é‡ç©ºé—´ï¼Œè€ŒLinkedListçš„ç©ºé—´èŠ±è´¹åˆ™ä½“ç°åœ¨å®ƒçš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½éœ€è¦æ¶ˆè€—æ¯”ArrayListæ›´å¤šçš„ç©ºé—´ï¼›<br>åŒå‘é“¾è¡¨èŠ‚ç‚¹å¯¹åº”çš„ç±»Nodeçš„å®ä¾‹ï¼Œ<br>Nodeä¸­åŒ…å«æˆå‘˜å˜é‡ï¼šprevï¼Œnextï¼Œitemã€‚<br>prevæ˜¯è¯¥èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œ<br>nextæ˜¯è¯¥èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œ<br>itemæ˜¯è¯¥èŠ‚ç‚¹æ‰€åŒ…å«çš„å€¼ã€‚ï¼ˆå› ä¸ºè¦å­˜æ”¾ç›´æ¥åç»§å’Œç›´æ¥å‰é©±ä»¥åŠæ•°æ®ï¼‰<br>å½“éœ€è¦å¯¹æ•°æ®è¿›è¡Œå¯¹æ­¤è®¿é—®çš„æƒ…å†µä¸‹é€‰ç”¨ArrayListï¼Œ<br>å½“éœ€è¦å¯¹æ•°æ®è¿›è¡Œå¤šæ¬¡å¢åŠ åˆ é™¤ä¿®æ”¹æ—¶é‡‡ç”¨LinkedListã€‚<br>ArrayListä¸LinkedListé›†åˆå„æœ‰æ‰€é•¿ï¼Œå¯ä»¥åœ¨ä¸åŒåœºåˆæ ¹æ®å…·ä½“éœ€æ±‚é€‰ç”¨:<br>â€“    ArrayListå…ƒç´ çš„æ£€ç´¢é€Ÿåº¦é«˜äºLinkedList<br>â€“    LinkedListå› ä¸ºå†…å­˜çš„ä¸è¿ç»­æ€§ï¼Œæ›´é€‚åˆäºå¤§æ‰¹é‡æ•°æ®çš„å­˜æ”¾å’Œç®¡ç†<br>â€“    å¦‚æœåœ¨éæœ«ç«¯æ’å…¥æ•°æ®ï¼ŒLinkedListé€Ÿåº¦ä¼˜äºArrayList</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> javaï¼Œé›†åˆï¼Œæºç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥Javaé›†åˆ---LinkedListæºç ç¬”è®°</title>
      <link href="2020/11/17/%E9%9B%86%E5%90%88/LinkedList/"/>
      <url>2020/11/17/%E9%9B%86%E5%90%88/LinkedList/</url>
      
        <content type="html"><![CDATA[<h1 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a><font color=orange>LinkedList</font></h1><!-- ![avatar](http://i1.fuimg.com/729820/166f5e5b5f18282c.png)   --><img src='http://i1.fuimg.com/729820/166f5e5b5f18282c.png' width="30%"  ><font color=orange>å¯çˆ±çš„å°å§å§å¤´åƒé•‡æ¥¼ï½ï½ï½ï½ï½ï½ç»§ç»­æ€»ç»“ã€‚å¼€å§‹LinkedListå’¯ï½ï½ï½ï½è¿˜æ˜¯æ¥ä¸ªå¯çˆ±çš„åˆ†éš”ç¬¦ï½</font><p><code>-------------------------------------------------------</code></p><h2 id="3-1ï¼šlinkedlistæ•°æ®ç»“æ„"><a href="#3-1ï¼šlinkedlistæ•°æ®ç»“æ„" class="headerlink" title="3-1ï¼šlinkedlistæ•°æ®ç»“æ„"></a>3-1ï¼šlinkedlistæ•°æ®ç»“æ„</h2><p><code>LinkedList</code>æ˜¯Listæ¥å£çš„<strong>åŒå‘é“¾è¡¨</strong>éåŒæ­¥å®ç°ï¼Œ<br>å¹¶å…è®¸åŒ…æ‹¬<code>null</code>åœ¨å†…çš„æ‰€æœ‰å…ƒç´ ã€‚<br>åŒå‘é“¾è¡¨ç»“æ„ï¼Œé“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½å¯ä»¥å‘å‰æˆ–è€…å‘åè¿½æº¯ï¼Œæˆ‘ä»¬æœ‰å‡ ä¸ªæ¦‚å¿µå¦‚ ä¸‹ï¼š</p><p>åŒå‘é“¾è¡¨èŠ‚ç‚¹å¯¹åº”çš„<code>ç±»Node</code>çš„å®ä¾‹ï¼Œ<br>Nodeä¸­åŒ…å«æˆå‘˜å˜é‡ï¼š<code>prevï¼Œnextï¼Œitemã€‚</code><br><code>prev</code>æ˜¯è¯¥èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œ<br><code>next</code>æ˜¯è¯¥èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œ<br><code>item</code>æ˜¯è¯¥èŠ‚ç‚¹æ‰€åŒ…å«çš„å€¼ã€‚<br><code>first</code> æ˜¯åŒå‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œå®ƒçš„å‰ä¸€ä¸ªèŠ‚ç‚¹æ˜¯ nullã€‚<br><code>last</code> æ˜¯åŒå‘é“¾è¡¨çš„å°¾èŠ‚ç‚¹ï¼Œå®ƒçš„åä¸€ä¸ªèŠ‚ç‚¹æ˜¯ nullï¼›<br>å½“é“¾è¡¨ä¸­æ²¡æœ‰æ•°æ®æ—¶ï¼Œfirst å’Œ last æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œå‰åæŒ‡å‘éƒ½æ˜¯ nullï¼›<br>å› ä¸ºæ˜¯ä¸ª<code>åŒå‘é“¾è¡¨</code>ï¼Œåªè¦æœºå™¨å†…å­˜è¶³å¤Ÿå¼ºå¤§ï¼Œæ˜¯æ²¡æœ‰å¤§å°é™åˆ¶çš„ã€‚</p><h2 id="3-2ï¼šlinkedlist-æ ¹æ®ç´¢å¼•è¿”å›å¯¹åº”çš„Nodeå€¼"><a href="#3-2ï¼šlinkedlist-æ ¹æ®ç´¢å¼•è¿”å›å¯¹åº”çš„Nodeå€¼" class="headerlink" title="3-2ï¼šlinkedlist   æ ¹æ®ç´¢å¼•è¿”å›å¯¹åº”çš„Nodeå€¼"></a>3-2ï¼šlinkedlist   æ ¹æ®ç´¢å¼•è¿”å›å¯¹åº”çš„Nodeå€¼</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java">&#x2F;** * Returns the (non-null) Node at the specified element index. *&#x2F;Node&lt;E&gt; node(int index) &#123;    &#x2F;&#x2F; assert isElementIndex(index);    if (index &lt; (size &gt;&gt; 1)) &#123;&#x2F;&#x2F; å¦‚æœ index å¤„äºé˜Ÿåˆ—çš„å‰åŠéƒ¨åˆ†ï¼Œä»å¤´å¼€å§‹æ‰¾ï¼Œsize &gt;&gt; 1 æ˜¯ size é™¤ä»¥ 2 çš„æ„æ€ã€‚        Node&lt;E&gt; x &#x3D; first;&#x2F;&#x2F; ç›´åˆ° for å¾ªç¯åˆ° index çš„å‰ä¸€ä¸ª node åœæ­¢        for (int i &#x3D; 0; i &lt; index; i++)            x &#x3D; x.next;        return x;    &#125; else &#123;&#x2F;&#x2F; å¦‚æœ index å¤„äºé˜Ÿåˆ—çš„ååŠéƒ¨åˆ†ï¼Œä»å°¾å¼€å§‹æ‰¾        Node&lt;E&gt; x &#x3D; last;&#x2F;&#x2F; ç›´åˆ° for å¾ªç¯åˆ° index çš„åä¸€ä¸ª node åœæ­¢        for (int i &#x3D; size - 1; i &gt; index; i--)            x &#x3D; x.prev;        return x;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»æºç ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œ LinkedList å¹¶æ²¡æœ‰é‡‡ç”¨ä»å¤´å¾ªç¯åˆ°å°¾çš„åšæ³•ï¼Œ è€Œæ˜¯é‡‡å–äº†<font color=orange>ç®€å•äºŒåˆ†æ³•</font>ï¼Œ é¦–å…ˆçœ‹çœ‹ index æ˜¯åœ¨é“¾è¡¨çš„å‰åŠéƒ¨åˆ†ï¼Œ è¿˜æ˜¯ååŠéƒ¨åˆ†ã€‚ å¦‚æœæ˜¯å‰åŠéƒ¨åˆ†ï¼Œ å°±ä»å¤´å¼€å§‹å¯» æ‰¾ï¼Œåä¹‹äº¦ç„¶ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½¿å¾ªç¯çš„æ¬¡æ•°è‡³å°‘é™ä½äº†ä¸€åŠï¼Œæé«˜äº†æŸ¥æ‰¾çš„æ€§èƒ½ï¼Œ<code>è¿™ç§æ€æƒ³å€¼ å¾—æˆ‘ä»¬å€Ÿé‰´ã€‚</code></p><h2 id="3-3ï¼šlinkedlistå¢åŠ èŠ‚ç‚¹"><a href="#3-3ï¼šlinkedlistå¢åŠ èŠ‚ç‚¹" class="headerlink" title="3-3ï¼šlinkedlistå¢åŠ èŠ‚ç‚¹"></a>3-3ï¼šlinkedlistå¢åŠ èŠ‚ç‚¹</h2><p>èŠ‚ç‚¹åˆ é™¤çš„æ–¹å¼å’Œè¿½åŠ ç±»ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä»å¤´éƒ¨åˆ é™¤ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä»å°¾éƒ¨åˆ é™¤ï¼Œåˆ é™¤æ“ä½œä¼šæŠŠ èŠ‚ç‚¹çš„å€¼ï¼Œå‰åæŒ‡å‘èŠ‚ç‚¹éƒ½ç½®ä¸º nullï¼Œå¸®åŠ© GC è¿›è¡Œå›æ”¶ã€‚<br>è¿½åŠ èŠ‚ç‚¹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©è¿½åŠ åˆ°é“¾è¡¨å¤´éƒ¨ï¼Œè¿˜æ˜¯è¿½åŠ åˆ°é“¾è¡¨å°¾éƒ¨ï¼Œadd æ–¹æ³•é»˜è®¤æ˜¯ä»å°¾éƒ¨å¼€ å§‹è¿½åŠ ï¼ŒaddFirst æ–¹æ³•æ˜¯ä»å¤´éƒ¨å¼€å§‹è¿½åŠ ï¼Œæˆ‘ä»¬åˆ†åˆ«æ¥çœ‹ä¸‹ä¸¤ç§ä¸åŒçš„è¿½åŠ æ–¹å¼ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">void linkLast(E e) &#123;&#x2F;&#x2F; æŠŠå°¾èŠ‚ç‚¹æ•°æ®æš‚å­˜    final Node&lt;E&gt; l &#x3D; last;&#x2F;&#x2F; æ–°å»ºæ–°çš„èŠ‚ç‚¹ï¼Œåˆå§‹åŒ–å…¥å‚å«ä¹‰ï¼š &#x2F;&#x2F; l æ˜¯æ–°èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½“å‰å€¼æ˜¯å°¾èŠ‚ç‚¹å€¼    final Node&lt;E&gt; newNode &#x3D; new Node&lt;&gt;(l, e, null);    last &#x3D; newNode;&#x2F;&#x2F;å¦‚æœé“¾è¡¨ä¸ºç©ºï¼ˆl æ˜¯å°¾èŠ‚ç‚¹ï¼Œå°¾èŠ‚ç‚¹ä¸ºç©ºï¼Œé“¾è¡¨å³ç©ºï¼‰ï¼Œå¤´éƒ¨å’Œå°¾éƒ¨æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œéƒ½æ˜¯æ–°å»ºçš„èŠ‚    if (l &#x3D;&#x3D; null)        first &#x3D; newNode;&#x2F;&#x2F;å¦åˆ™æŠŠå‰å°¾èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒæŒ‡å‘å½“å‰å°¾èŠ‚ç‚¹ã€‚    else        l.next &#x3D; newNode;&#x2F;&#x2F;å¤§å°å’Œç‰ˆæœ¬æ›´æ”¹    size++;    modCount++;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»å¤´éƒ¨è¿½åŠ ï¼ˆaddFirstï¼‰</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">&#x2F;** * Links e as first element. *&#x2F;private void linkFirst(E e) &#123;    final Node&lt;E&gt; f &#x3D; first;    final Node&lt;E&gt; newNode &#x3D; new Node&lt;&gt;(null, e, f);    first &#x3D; newNode;    if (f &#x3D;&#x3D; null)        last &#x3D; newNode;    else        f.prev &#x3D; newNode;    size++;    modCount++;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3-4ï¼šlinkedliståˆ é™¤èŠ‚ç‚¹"><a href="#3-4ï¼šlinkedliståˆ é™¤èŠ‚ç‚¹" class="headerlink" title="3-4ï¼šlinkedliståˆ é™¤èŠ‚ç‚¹"></a>3-4ï¼šlinkedliståˆ é™¤èŠ‚ç‚¹</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java">private E unlinkLast(Node&lt;E&gt; l) &#123;    &#x2F;&#x2F; assert l &#x3D;&#x3D; last &amp;&amp; l !&#x3D; null;    final E element &#x3D; l.item;    final Node&lt;E&gt; prev &#x3D; l.prev;    l.item &#x3D; null;    l.prev &#x3D; null; &#x2F;&#x2F; help GC    last &#x3D; prev;    if (prev &#x3D;&#x3D; null)        first &#x3D; null;    else        prev.next &#x3D; null;    size--;    modCount++;    return element;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java">private E unlinkFirst(Node&lt;E&gt; f) &#123;    &#x2F;&#x2F; assert f &#x3D;&#x3D; first &amp;&amp; f !&#x3D; null;    final E element &#x3D; f.item;    final Node&lt;E&gt; next &#x3D; f.next;    f.item &#x3D; null;    f.next &#x3D; null; &#x2F;&#x2F; help GC    first &#x3D; next;    if (next &#x3D;&#x3D; null)        last &#x3D; null;    else        next.prev &#x3D; null;    size--;    modCount++;    return element;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> javaï¼Œé›†åˆï¼Œæºç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥Javaé›†åˆ---Vectoræºç ç¬”è®°</title>
      <link href="2020/11/17/%E9%9B%86%E5%90%88/Vector/"/>
      <url>2020/11/17/%E9%9B%86%E5%90%88/Vector/</url>
      
        <content type="html"><![CDATA[<p><code>VECTOR</code></p><p><code>ä¼‘æ¯äº†ä¸€ä¼šä¼šï¼Œæ¥ç€å†æ¥çœ‹çœ‹Vectorçš„æºç å§ï¼ŒåŠ æ²¹ï½ï½</code><br><img src='http://i1.fuimg.com/729820/166f5e5b5f18282c.png' width="25%" ><br><code>-----------------------------------------------------------------------------</code></p><h2 id="1-1ï¼švectoræ•°æ®ç»“æ„"><a href="#1-1ï¼švectoræ•°æ®ç»“æ„" class="headerlink" title="1-1ï¼švectoræ•°æ®ç»“æ„"></a>1-1ï¼švectoræ•°æ®ç»“æ„</h2><p>åº•å±‚æ•°æ®ç»“æ„ä¸º<code>æ•°ç»„</code>ï¼Œæ”¯æŒå¿«é€Ÿéšæœºè®¿é—®</p><h2 id="1-2ï¼švectoræ„é€ å™¨"><a href="#1-2ï¼švectoræ„é€ å™¨" class="headerlink" title="1-2ï¼švectoræ„é€ å™¨"></a>1-2ï¼švectoræ„é€ å™¨</h2><p><code>Vector</code>æœ‰å››ä¸ªä¸åŒçš„æ„é€ å‡½æ•°ã€‚ æ— å‚æ„é€ çš„å®¹é‡é»˜è®¤å€¼ä¸º10ï¼Œå®¹é‡å¢é•¿ç³»æ•°<code>CapacityIncrement</code>ä¸º0</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public Vector(int initialCapacity, int capacityIncrement) &#123;    super();    if (initialCapacity &lt; 0)        throw new IllegalArgumentException(&quot;Illegal Capacity: &quot;+                                           initialCapacity);    this.elementData &#x3D; new Object[initialCapacity];    this.capacityIncrement &#x3D; capacityIncrement;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="1-3ï¼švector-indexOf-object-o"><a href="#1-3ï¼švector-indexOf-object-o" class="headerlink" title="1-3ï¼švector  indexOf(object o)"></a>1-3ï¼švector  indexOf(object o)</h2><p>Vectoråœ¨æŸ¥æ‰¾ç»™å®šå…ƒç´ ç´¢å¼•å€¼æ–¹æ³•ä¸­ï¼Œ<code>indexOf(object o )</code>â€“&gt;<br>Vectorä¸­å…è®¸å…ƒç´ ä¸º<code>null</code><br>æºç éƒ½å°†è¯¥å…ƒç´ çš„å€¼åˆ†ä¸ºnullå’Œä¸ä¸ºnullä¸¤ç§æƒ…å†µå¤„ç†ï¼Œ</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public int indexOf(Object o) &#123;    return indexOf(o, 0);&#125;public synchronized int indexOf(Object o, int index) &#123;    if (o &#x3D;&#x3D; null) &#123;        for (int i &#x3D; index ; i &lt; elementCount ; i++)            if (elementData[i]&#x3D;&#x3D;null)                return i;    &#125; else &#123;        for (int i &#x3D; index ; i &lt; elementCount ; i++)            if (o.equals(elementData[i]))                return i;    &#125;    return -1;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="1-4ï¼šæ‰©å®¹æœºåˆ¶"><a href="#1-4ï¼šæ‰©å®¹æœºåˆ¶" class="headerlink" title="1-4ï¼šæ‰©å®¹æœºåˆ¶"></a>1-4ï¼šæ‰©å®¹æœºåˆ¶</h2><p>ä¸<code>ArrayList</code>ä¸åŒçš„æ˜¯ï¼Œ<br><code>Vector</code>åœ¨æ¯æ¬¡<code>add</code>å¢åŠ å…ƒç´ (å¯èƒ½æ˜¯1ä¸ªï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ç»„)æ—¶ï¼Œ</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public synchronized boolean add(E e) &#123;    modCount++;    ensureCapacityHelper(elementCount + 1);    elementData[elementCount++] &#x3D; e;    return true;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>éƒ½è¦è°ƒç”¨<code>ensureCapacityHelper</code>æ–¹æ³•æ¥ç¡®ä¿è¶³å¤Ÿçš„å®¹é‡ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">private void ensureCapacityHelper(int minCapacity) &#123;    &#x2F;&#x2F; overflow-conscious code    if (minCapacity - elementData.length &gt; 0)        grow(minCapacity);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å½“å®¹é‡ä¸è¶³ä»¥å®¹çº³å½“å‰çš„å…ƒç´ ä¸ªæ•°æ—¶ï¼Œå³<code>minCapacity</code>ï¼ˆæŒ‡çš„æ˜¯å½“å‰å…ƒç´ æ•°ç›®<code>elementCount + 1ï¼‰ - elementData.length &gt; 0</code>ï¼Œå°±ä¼š<code>grow(minCapacity)</code>æ‰©å®¹</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">private void grow(int minCapacity) &#123;    &#x2F;&#x2F; overflow-conscious code    int oldCapacity &#x3D; elementData.length;    int newCapacity &#x3D; oldCapacity + ((capacityIncrement &gt; 0) ?                                     capacityIncrement : oldCapacity);    if (newCapacity - minCapacity &lt; 0)        newCapacity &#x3D; minCapacity;    if (newCapacity - MAX_ARRAY_SIZE &gt; 0)        newCapacity &#x3D; hugeCapacity(minCapacity);    elementData &#x3D; Arrays.copyOf(elementData, newCapacity);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°±çœ‹æ„é€ æ–¹æ³•ä¸­ä¼ å…¥çš„å®¹é‡å¢é•¿ç³»æ•°<code>CapacityIncrement</code>æ˜¯å¦ä¸º0ï¼Œ<br>**å¦‚æœä¸ä¸º0ï¼Œå°±è®¾ç½®æ–°çš„å®¹é‡ä¸º æ—§å®¹é‡ + å®¹é‡å¢é•¿é‡ï¼›<br>å¦‚æœä¸º0ï¼Œè®¾ç½®æ–°çš„å®¹é‡ä¸ºæ—§çš„å®¹é‡çš„2å€ï¼Œ<br>å¦‚æœè®¾ç½®åçš„å®¹é‡è¿˜ä¸å¤Ÿï¼Œåˆ™ç›´æ¥æ–°çš„å®¹é‡è®¾ç½®ä¸ºä¼ å…¥å‚æ•°æ‰€éœ€è¦çš„å®¹é‡ **<br>è€ŒååŒæ ·ç”¨<code>Arrays.copyof()</code>æ–¹æ³•å°†å…ƒç´ æ‹·è´åˆ°æ–°çš„æ•°ç»„ã€‚</p><h2 id="1-5ï¼šVectoræ˜¯ä¿è¯çº¿ç¨‹å®‰å…¨çš„"><a href="#1-5ï¼šVectoræ˜¯ä¿è¯çº¿ç¨‹å®‰å…¨çš„" class="headerlink" title="1-5ï¼šVectoræ˜¯ä¿è¯çº¿ç¨‹å®‰å…¨çš„"></a>1-5ï¼šVectoræ˜¯ä¿è¯çº¿ç¨‹å®‰å…¨çš„</h2><p>ç”±äºvectorä¸­Addæ–¹æ³•åŠ äº†<code>synchronized</code>ï¼Œæ¥ä¿è¯addæ“ä½œæ˜¯çº¿ç¨‹å®‰å…¨çš„</p>]]></content>
      
      
      
        <tags>
            
            <tag> javaï¼Œé›†åˆï¼Œæºç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥å­¦ä¹ -----ArrayList</title>
      <link href="2020/11/17/%E9%9B%86%E5%90%88/ArrayList/"/>
      <url>2020/11/17/%E9%9B%86%E5%90%88/ArrayList/</url>
      
        <content type="html"><![CDATA[<hr><p>title: æ·±å…¥Javaé›†åˆâ€”ArrayListæºç ç¬”è®°<br>date: 2020-11-17 14:20:32<br>tags: javaï¼Œé›†åˆï¼Œæºç </p><hr><h1 id="ARRAYLIST"><a href="#ARRAYLIST" class="headerlink" title="ARRAYLIST"></a><font color=orange>ARRAYLIST</font></h1><!-- ![avatar](http://i1.fuimg.com/729820/166f5e5b5f18282c.png)   --><img src='http://i1.fuimg.com/729820/166f5e5b5f18282c.png' width="30%" ><p><code>å¯çˆ±çš„å°å§å§å¤´åƒé•‡æ¥¼ï½ï½ï½ï½ï½ï½ ä»Šå¤©æ‰“ç®—æŠŠçœ‹è¿‡çš„æºç æ€»ç»“ä¸€ä¸‹ã€‚ä»é›†åˆæ¡†æ¶å¼€å§‹å’¯ï½ï½ï½ï½ æ¥ä¸ªå¯çˆ±çš„åˆ†éš”ç¬¦ï½ï¼ è¯ä¸å¤šè¯´æ­£å¼å¼€å§‹æ€»ç»“å•¦ï¼ï¼ï¼ï¼</code><br><code>-------------------------------------------------------</code></p><h2 id="æ•°ç»„-Array-å’Œåˆ—è¡¨-ArrayList-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#æ•°ç»„-Array-å’Œåˆ—è¡¨-ArrayList-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="æ•°ç»„(Array)å’Œåˆ—è¡¨(ArrayList)æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>æ•°ç»„(Array)å’Œåˆ—è¡¨(ArrayList)æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><ol><li>å®šä¹‰ä¸Šï¼š Array å¯ä»¥åŒ…å«åŸºæœ¬ç±»å‹å’Œå¯¹è±¡ç±»å‹ï¼Œ ArrayList åªèƒ½åŒ…å«å¯¹è±¡ç±»å‹ã€‚ </li><li>å®¹é‡ä¸Šï¼š Array å¤§å°å›ºå®šï¼Œ ArrayList çš„å¤§å°æ˜¯åŠ¨æ€å˜åŒ–çš„ã€‚ </li><li>æ“ä½œä¸Šï¼š ArrayList æä¾›æ›´å¤šçš„æ–¹æ³•å’Œç‰¹æ€§ï¼Œ </li></ol><p>ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹æˆ–è€…çŸ¥é“æ•°æ®å…ƒç´ æ•°é‡çš„æ—¶å€™<br>å¯ä»¥è€ƒè™‘Array;<br>ArrayListå¤„ç†å›ºå®šæ•°é‡<br>çš„åŸºæœ¬ç±»å‹æ•°æ®ç±»å‹æ—¶<br>ä¼šè‡ªåŠ¨è£…ç®±æ¥å‡å°‘ç¼–ç å·¥ä½œé‡ï¼Œ<br>ä½†æ˜¯ç›¸å¯¹è¾ƒæ…¢ã€‚</p><h2 id="2-1ï¼šArrayListæ•°æ®ç»“æ„"><a href="#2-1ï¼šArrayListæ•°æ®ç»“æ„" class="headerlink" title="2-1ï¼šArrayListæ•°æ®ç»“æ„"></a>2-1ï¼šArrayListæ•°æ®ç»“æ„</h2><p>private transient Object[] elementData;<br>åº•å±‚ä½¿ç”¨<code>æ•°ç»„</code>å®ç°, å…¶ API éƒ½åšäº†ä¸€å±‚å¯¹æ•°ç»„åº•å±‚è®¿é—®çš„å°è£…</p><p>å¹¶å…è®¸åŒ…æ‹¬nullåœ¨å†…çš„æ‰€æœ‰å…ƒç´ ã€‚</p><h2 id="2-2-ï¼šæ„é€ å™¨"><a href="#2-2-ï¼šæ„é€ å™¨" class="headerlink" title="2-2 ï¼šæ„é€ å™¨"></a>2-2 ï¼šæ„é€ å™¨</h2><p>æœ‰ä¸‰ç§åˆå§‹åŒ–åŠæ³•ï¼šæ— å‚æ•°ç›´æ¥åˆå§‹åŒ–ã€æŒ‡å®šå¤§å°åˆå§‹åŒ–ã€æŒ‡å®šåˆå§‹æ•°æ®åˆå§‹åŒ–ï¼Œæºç å¦‚ ä¸‹ï¼š<br><code>æ— å‚æ•°ç›´æ¥åˆå§‹åŒ–:</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">private static final Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA &#x3D; &#123;&#125;;public ArrayList() &#123;    this.elementData &#x3D; DEFAULTCAPACITY_EMPTY_ELEMENTDATA;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ArrayList æ— å‚æ„é€ å™¨åˆå§‹åŒ–æ—¶ï¼Œé»˜è®¤å¤§å°æ˜¯ç©ºæ•°ç»„ï¼Œ10 æ˜¯åœ¨ç¬¬ä¸€æ¬¡ add çš„æ—¶å€™æ‰©å®¹çš„æ•°ç»„å€¼ã€‚<br><code>æŒ‡å®šåˆå§‹æ•°æ®åˆå§‹åŒ–</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public ArrayList(Collection&lt;? extends E&gt; c) &#123;    elementData &#x3D; c.toArray();    if ((size &#x3D; elementData.length) !&#x3D; 0) &#123;        &#x2F;&#x2F; c.toArray might (incorrectly) not return Object[] (see 6260652)&#x2F;&#x2F;æ˜¯å½“ç»™å®šé›†åˆå†…çš„å…ƒç´ ä¸æ˜¯ Object ç±»å‹æ—¶ï¼Œæˆ‘ä»¬ä¼šè½¬åŒ–æˆ Object çš„ç±»å‹        if (elementData.getClass() !&#x3D; Object[].class)            elementData &#x3D; Arrays.copyOf(elementData, size, Object[].class);    &#125; else &#123;        &#x2F;&#x2F; replace with empty array.&#x2F;&#x2F; ç»™å®šé›†åˆï¼ˆcï¼‰æ— å€¼ï¼Œåˆ™é»˜è®¤ç©ºæ•°ç»„        this.elementData &#x3D; EMPTY_ELEMENTDATA;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><font color=orange>ä¸ºä»€ä¹ˆè¦åˆ›å»ºç©ºæ•°ç»„ï¼Ÿ</font><br>å› ä¸ºå¼€å‘ä¸­å¾ˆå¤šæ—¶å€™ åˆ›å»ºäº†ArrayListå¯¹è±¡ï¼Œä½†æ˜¯æ²¡æœ‰è£…å…ƒç´ ï¼Œè¿™ä¸ªæ—¶å€™çš„è¯ï¼Œç›´æ¥åˆå§‹åŒ–ä¸º10ï¼Œå°±ä¼šæµªè´¹ç©ºé—´ã€‚</p><h2 id="2-3ï¼šArrayListçš„addæ“ä½œ-ä»¥åŠ-æ‰©å®¹"><a href="#2-3ï¼šArrayListçš„addæ“ä½œ-ä»¥åŠ-æ‰©å®¹" class="headerlink" title="2-3ï¼šArrayListçš„addæ“ä½œ  ä»¥åŠ æ‰©å®¹"></a>2-3ï¼šArrayListçš„addæ“ä½œ  ä»¥åŠ æ‰©å®¹</h2><p>æ–°å¢å°±æ˜¯å¾€æ•°ç»„ä¸­æ·»åŠ å…ƒç´ ï¼Œä¸»è¦åˆ†æˆä¸¤æ­¥ï¼š<br>åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹ï¼Œå¦‚æœéœ€è¦æ‰§è¡Œæ‰©å®¹æ“ä½œï¼›<br>ç›´æ¥èµ‹å€¼ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public boolean add(E e) &#123;&#x2F;&#x2F;ç¡®ä¿æ•°ç»„å¤§å°æ˜¯å¦è¶³å¤Ÿï¼Œä¸å¤Ÿæ‰§è¡Œæ‰©å®¹ï¼Œsize ä¸ºå½“å‰æ•°ç»„çš„å¤§å°    ensureCapacityInternal(size + 1);  &#x2F;&#x2F; Increments modCount!!    elementData[size++] &#x3D; e;    return true;&#125;private void ensureCapacityInternal(int minCapacity) &#123;    ensureExplicitCapacity(calculateCapacity(elementData, minCapacity));&#125;private static int calculateCapacity(Object[] elementData, int minCapacity) &#123;&#x2F;&#x2F;å¦‚æœåˆå§‹åŒ–æ•°ç»„å¤§å°æ—¶ï¼Œæœ‰ç»™å®šåˆå§‹å€¼ï¼Œä»¥ç»™å®šçš„å¤§å°ä¸ºå‡†ï¼Œä¸èµ° if é€»è¾‘    if (elementData &#x3D;&#x3D; DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123;        return Math.max(DEFAULT_CAPACITY, minCapacity);    &#125;    return minCapacity;&#125;private void ensureExplicitCapacity(int minCapacity) &#123;&#x2F;&#x2F;è®°å½•æ•°ç»„è¢«ä¿®æ”¹    modCount++;    &#x2F;&#x2F; overflow-conscious code&#x2F;&#x2F; å¦‚æœæˆ‘ä»¬æœŸæœ›çš„æœ€å°å®¹é‡å¤§äºç›®å‰æ•°ç»„çš„é•¿åº¦ï¼Œé‚£ä¹ˆå°±æ‰©å®¹    if (minCapacity - elementData.length &gt; 0)        grow(minCapacity);&#125;&#x2F;&#x2F; å¦‚æœæˆ‘ä»¬æœŸæœ›çš„æœ€å°å®¹é‡å¤§äºç›®å‰æ•°ç»„çš„é•¿åº¦ï¼Œé‚£ä¹ˆå°±æ‰©å®¹private void grow(int minCapacity) &#123;    &#x2F;&#x2F; overflow-conscious code    int oldCapacity &#x3D; elementData.length;    int newCapacity &#x3D; oldCapacity + (oldCapacity &gt;&gt; 1);&#x2F;&#x2F; å¦‚æœæ‰©å®¹åçš„å€¼ &lt; æˆ‘ä»¬çš„æœŸæœ›å€¼ï¼Œæ‰©å®¹åçš„å€¼å°±ç­‰äºæˆ‘ä»¬çš„æœŸæœ›å€¼    if (newCapacity - minCapacity &lt; 0)        newCapacity &#x3D; minCapacity;&#x2F;&#x2F; å¦‚æœæ‰©å®¹åçš„å€¼ &gt; jvm æ‰€èƒ½åˆ†é…çš„æ•°ç»„çš„æœ€å¤§å€¼ï¼Œé‚£ä¹ˆå°±ç”¨ Integer çš„æœ€å¤§å€¼    if (newCapacity - MAX_ARRAY_SIZE &gt; 0)        newCapacity &#x3D; hugeCapacity(minCapacity);    &#x2F;&#x2F; minCapacity is usually close to size, so this is a win:    elementData &#x3D; Arrays.copyOf(elementData, newCapacity);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œæ¯å½“å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ æ—¶ï¼Œ éƒ½è¦å»æ£€æŸ¥æ·»åŠ åå…ƒç´ çš„ä¸ªæ•°æ˜¯å¦ä¼šè¶…å‡ºå½“å‰æ•°ç»„çš„é•¿åº¦ï¼Œå¦‚æœè¶…å‡ºï¼Œæ•°ç»„å°†ä¼šè¿›è¡Œæ‰©å®¹ï¼Œ ä»¥æ»¡è¶³æ·»åŠ æ•°æ®çš„éœ€æ±‚ã€‚æ•°ç»„æ‰©å®¹é€šè¿‡ä¸€ä¸ªå…¬å¼€çš„æ–¹æ³• <code>ensureCapacity(int minCapacity)</code> æ¥ å®ç°ã€‚</p><ol><li><p><code>ArrayList</code>ç¬¬ä¸€æ¬¡<code>add</code>å…ƒç´ æ—¶ï¼Œæ‰©å®¹ä¸ºé•¿åº¦ä¸º10çš„æ•°ç»„ã€‚<br>  å½“å‰æ•°ç»„æ˜¯ç”±é»˜è®¤æ„é€ æ–¹æ³•ç”Ÿæˆçš„ç©ºæ•°ç»„å¹¶ä¸”ç¬¬ä¸€æ¬¡æ·»åŠ æ•°æ®ã€‚<br>æ­¤æ—¶<code>minCapacity</code>ç­‰äºé»˜è®¤çš„å®¹é‡ï¼ˆ<strong>10</strong>ï¼‰<br>é‚£ä¹ˆæ ¹æ®ä¸‹é¢é€»è¾‘å¯ä»¥çœ‹åˆ°æœ€åæ•°ç»„çš„å®¹é‡ä¼šä»0æ‰©å®¹æˆ10ã€‚<br>è€Œåçš„æ•°ç»„æ‰©å®¹æ‰æ˜¯æŒ‰ç…§å½“å‰å®¹é‡çš„1.5å€è¿›è¡Œæ‰©å®¹ï¼›</p></li><li><p>   æ‰©å®¹çš„è§„åˆ™å¹¶ä¸æ˜¯ç¿»å€ï¼Œæ˜¯åŸæ¥å®¹é‡å¤§å° + å®¹é‡å¤§å°çš„ä¸€åŠï¼Œç›´ç™½æ¥è¯´ï¼Œæ‰©å®¹åçš„å¤§å°æ˜¯åŸ æ¥å®¹é‡çš„ <strong>1.5</strong> å€ï¼›<br>å½“ArrayListæ•°ç»„è¶…è¿‡å½“å‰å®¹é‡æ—¶ï¼Œæ‰©å®¹è‡³1.5å€ï¼ˆé‡åˆ°è®¡ç®—ç»“æœä¸ºå°æ•°çš„ï¼Œå‘ä¸‹å–æ•´ï¼‰ï¼Œ<br>ç¬¬ä¸€æ¬¡æ‰©å®¹åï¼Œå®¹é‡ä¸º15ï¼Œç¬¬äºŒæ¬¡æ‰©å®¹è‡³22</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">private static int hugeCapacity(int minCapacity) &#123;    if (minCapacity &lt; 0) &#x2F;&#x2F; overflow        throw new OutOfMemoryError();    return (minCapacity &gt; MAX_ARRAY_SIZE) ?        Integer.MAX_VALUE :        MAX_ARRAY_SIZE;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ArrayList ä¸­çš„æ•°ç»„çš„æœ€å¤§å€¼æ˜¯ <code>Integer.MAX_VALUE</code>ï¼Œè¶…è¿‡è¿™ä¸ªå€¼ï¼ŒJVM å°±ä¸ä¼šç»™æ•°ç»„åˆ†é… å†…å­˜ç©ºé—´äº†ã€‚è¿™è¾¹ä¹Ÿå¯ä»¥çœ‹åˆ°ArrayListå…è®¸çš„æœ€å¤§å®¹é‡ï¼Œå°±æ˜¯Integerçš„æœ€å¤§å€¼ï¼ˆ-2çš„31æ¬¡æ–¹~2çš„31æ¬¡æ–¹å‡1ï¼‰ã€‚</p></li><li><p>   æ–°å¢æ—¶ï¼Œå¹¶æ²¡æœ‰å¯¹å€¼è¿›è¡Œä¸¥æ ¼çš„æ ¡éªŒï¼Œæ‰€ä»¥ ArrayList æ˜¯å…è®¸ <code>null</code> å€¼çš„ã€‚</p></li><li><p>   ä¸æ˜¯åŸå­æ“ä½œï¼Œï¼Œæ²¡æœ‰ä»»ä½•é”æ§åˆ¶ï¼Œæ‰€ä»¥è¿™é‡Œçš„æ“ä½œæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼ŒåŸå› ä¸»è¦æ˜¯<code>elementData[size++] = e</code>å¯ä»¥ç»§ç»­è¿›è¡Œæ‹†åˆ†</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">private static int hugeCapacity(int minCapacity) &#123;    if (minCapacity &lt; 0) &#x2F;&#x2F; overflow        throw new OutOfMemoryError();    return (minCapacity &gt; MAX_ARRAY_SIZE) ?        Integer.MAX_VALUE :        MAX_ARRAY_SIZE;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><p>æ‰©å®¹æ˜¯é€šè¿‡è¿™è¡Œä»£ç æ¥å®ç°çš„ï¼š <code>Arrays.copyOf(elementData, newCapacity); </code>è¿™è¡Œä»£ç æè¿°çš„ æœ¬è´¨æ˜¯æ•°ç»„ä¹‹é—´çš„æ‹·è´ï¼Œæ‰©å®¹æ˜¯ä¼šå…ˆæ–°å»ºä¸€ä¸ªç¬¦åˆæˆ‘ä»¬é¢„æœŸå®¹é‡çš„æ–°æ•°ç»„ï¼Œç„¶åæŠŠè€æ•°ç»„çš„æ•°æ® æ‹·è´è¿‡å»ï¼Œæˆ‘ä»¬é€šè¿‡ <code>System.arraycopy </code>æ–¹æ³•è¿›è¡Œæ‹·è´</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">&#x2F;** * @param src è¢«æ‹·è´çš„æ•°ç»„ * @param srcPos ä»æ•°ç»„é‚£é‡Œå¼€å§‹* @param dest ç›®æ ‡æ•°ç»„ * @param destPos ä»ç›®æ ‡æ•°ç»„é‚£ä¸ªç´¢å¼•ä½ç½®å¼€å§‹æ‹·è´ * @param length æ‹·è´çš„é•¿åº¦ * æ­¤æ–¹æ³•æ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼Œé€šè¿‡ dest çš„å¼•ç”¨è¿›è¡Œä¼ å€¼ *&#x2F;public static native void arraycopy(Object src,  int  srcPos,                                    Object dest, int destPos,                                    int length);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-4ï¼šremove"><a href="#2-4ï¼šremove" class="headerlink" title="2-4ï¼šremove"></a>2-4ï¼šremove</h2><p>ArrayList åˆ é™¤å…ƒç´ æœ‰å¾ˆå¤šç§æ–¹å¼ï¼Œæ¯”å¦‚æ ¹æ®æ•°ç»„ç´¢å¼•åˆ é™¤ã€æ ¹æ®å€¼åˆ é™¤æˆ–æ‰¹é‡åˆ é™¤ç­‰ç­‰ï¼ŒåŸç† å’Œæ€è·¯éƒ½å·®ä¸å¤šï¼Œæˆ‘ä»¬é€‰å–æ ¹æ®å€¼åˆ é™¤æ–¹å¼æ¥è¿›è¡Œæºç è¯´æ˜ï¼š</p><p>æˆ‘ä»¬éœ€è¦æ³¨æ„çš„ä¸¤ç‚¹æ˜¯ï¼š</p><p>æ–°å¢çš„æ—¶å€™æ˜¯æ²¡æœ‰å¯¹ <code>null</code> è¿›è¡Œæ ¡éªŒçš„ï¼Œæ‰€ä»¥åˆ é™¤çš„æ—¶å€™ä¹Ÿæ˜¯å…è®¸åˆ é™¤ <code>null</code> å€¼çš„ï¼› æ‰¾åˆ°å€¼åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®ï¼Œæ˜¯é€šè¿‡ <code>equals</code> æ¥åˆ¤æ–­çš„ï¼Œå¦‚æœæ•°ç»„å…ƒç´ ä¸æ˜¯åŸºæœ¬ç±»å‹ï¼Œéœ€è¦æˆ‘ ä»¬å…³æ³¨ <code>equals</code> çš„å…·ä½“å®ç°ã€‚</p><p>ä¸Šé¢ä»£ç å·²ç»æ‰¾åˆ°è¦åˆ é™¤å…ƒç´ çš„ç´¢å¼•ä½ç½®äº†ï¼Œä¸‹é¢ä»£ç æ˜¯æ ¹æ®ç´¢å¼•ä½ç½®è¿›è¡Œå…ƒç´ çš„åˆ é™¤ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public boolean remove(Object o) &#123;    if (o &#x3D;&#x3D; null) &#123;        for (int index &#x3D; 0; index &lt; size; index++)            if (elementData[index] &#x3D;&#x3D; null) &#123;                fastRemove(index);                return true;            &#125;    &#125; else &#123;        for (int index &#x3D; 0; index &lt; size; index++)            if (o.equals(elementData[index])) &#123;                fastRemove(index);                return true;            &#125;    &#125;    return false;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java">private void fastRemove(int index) &#123;    modCount++;    int numMoved &#x3D; size - index - 1;    if (numMoved &gt; 0)&#x2F;&#x2F; numMoved è¡¨ç¤ºåˆ é™¤ index ä½ç½®çš„å…ƒç´ åï¼Œéœ€è¦ä» index åç§»åŠ¨å¤šå°‘ä¸ªå…ƒç´ åˆ°å‰é¢å»&#x2F;&#x2F; ä» index +1 ä½ç½®å¼€å§‹è¢«æ‹·è´ï¼Œæ‹·è´çš„èµ·å§‹ä½ç½®æ˜¯ indexï¼Œé•¿åº¦æ˜¯ num        System.arraycopy(elementData, index+1, elementData, index,                         numMoved);&#x2F;&#x2F; removeæ–¹æ³•ä¼šè®©ä¸‹æ ‡åˆ°æ•°ç»„æœ«å°¾çš„å…ƒç´ å‘å‰ç§»åŠ¨ä¸€ä¸ªå•ä½ï¼Œå¹¶æŠŠæœ€åä¸€ä½çš„å€¼ç½®ç©ºï¼Œæ–¹ä¾¿GC    elementData[--size] &#x3D; null; &#x2F;&#x2F; clear to let GC do its work&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-5ï¼šArrayListçº¿ç¨‹ä¸å®‰å…¨"><a href="#2-5ï¼šArrayListçº¿ç¨‹ä¸å®‰å…¨" class="headerlink" title="2-5ï¼šArrayListçº¿ç¨‹ä¸å®‰å…¨"></a>2-5ï¼šArrayListçº¿ç¨‹ä¸å®‰å…¨</h2><p>åªæœ‰å½“ ArrayList ä½œä¸º<code>å…±äº«å˜é‡</code>æ—¶ï¼Œæ‰ä¼šæœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå½“ ArrayList æ˜¯ æ–¹æ³•å†…çš„å±€éƒ¨å˜é‡æ—¶ï¼Œæ˜¯æ²¡æœ‰çº¿ç¨‹å®‰å…¨çš„é—®é¢˜çš„ã€‚<br>ArrayList æœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜çš„æœ¬è´¨ï¼Œæ˜¯å› ä¸º ArrayList è‡ªèº«çš„ elementDataã€sizeã€modConut åœ¨è¿›è¡Œå„ç§æ“ä½œæ—¶ï¼Œéƒ½æ²¡æœ‰åŠ é”ï¼Œè€Œä¸”è¿™äº›å˜é‡çš„ç±»å‹å¹¶éæ˜¯å¯è§ï¼ˆvolatileï¼‰çš„ï¼Œ<strong>æ‰€ä»¥å¦‚æœå¤šä¸ªçº¿ç¨‹å¯¹è¿™äº›å˜é‡è¿›è¡Œæ“ä½œæ—¶ï¼Œå¯èƒ½ä¼šæœ‰å€¼è¢«è¦†ç›–çš„æƒ…å†µã€‚</strong></p><h2 id="2-6ï¼šé‚£å¦‚ä½•è§£å†³ArrayListçº¿ç¨‹ä¸å®‰å…¨é—®é¢˜å‘¢ï¼Ÿ"><a href="#2-6ï¼šé‚£å¦‚ä½•è§£å†³ArrayListçº¿ç¨‹ä¸å®‰å…¨é—®é¢˜å‘¢ï¼Ÿ" class="headerlink" title="2-6ï¼šé‚£å¦‚ä½•è§£å†³ArrayListçº¿ç¨‹ä¸å®‰å…¨é—®é¢˜å‘¢ï¼Ÿ"></a>2-6ï¼šé‚£å¦‚ä½•è§£å†³ArrayListçº¿ç¨‹ä¸å®‰å…¨é—®é¢˜å‘¢ï¼Ÿ</h2><ol><li>ç”¨Collections.synchronizedList<ul><li>å› ä¸ºCollections.synchronizedListå°è£…åçš„listï¼Œ<br> listçš„æ‰€æœ‰æ“ä½œæ–¹æ³•éƒ½æ˜¯å¸¦synchronizedå…³é”®å­—çš„ï¼Œ<br> ç›¸å½“äºæ‰€æœ‰æ“ä½œéƒ½ä¼šè¿›è¡ŒåŠ é”ï¼Œ<br> æ‰€ä»¥ä½¿ç”¨å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½†æ˜¯æ€§èƒ½å¤§å¤§é™ä½ï¼Œ</li></ul></li></ol><pre class="line-numbers language-java" data-language="java"><code class="language-java">SynchronizedCollection(Collection&lt;E&gt; c) &#123;    this.c &#x3D; Objects.requireNonNull(c);    mutex &#x3D; this;&#125;public boolean add(E e) &#123;    synchronized (mutex) &#123;return c.add(e);&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li><code>CopyOnWriteArrayList</code><ul><li>å†™æ“ä½œï¼šæ·»åŠ å…ƒç´ æ—¶ï¼Œ<pre><code>   ä¸ç›´æ¥å¾€å½“å‰å®¹å™¨æ·»åŠ ï¼Œè€Œæ˜¯å…ˆæ‹·è´ä¸€ä»½æ•°ç»„ï¼Œ   åœ¨æ–°çš„æ•°ç»„ä¸­æ·»åŠ å…ƒç´ åï¼Œ   åœ¨å°†åŸå®¹å™¨çš„å¼•ç”¨æŒ‡å‘æ–°çš„å®¹å™¨ã€‚   å› ä¸ºæ•°ç»„æ—¶ç”¨volatileå…³é”®å­—ä¿®é¥°çš„ï¼Œ   æ‰€ä»¥å½“arrayé‡æ–°èµ‹å€¼åï¼Œ   å…¶ä»–çº¿ç¨‹å¯ä»¥ç«‹å³çŸ¥é“ï¼ˆvolatileçš„å¯è§æ€§ï¼‰</code></pre></li><li>è¯»æ“ä½œï¼šè¯»å–æ•°ç»„æ—¶ï¼Œè¯»è€çš„æ•°ç»„ï¼Œä¸éœ€è¦åŠ é”ã€‚</li><li>è¯»å†™åˆ†ç¦»ï¼šå†™æ“ä½œæ˜¯copyäº†ä¸€ä»½æ–°çš„æ•°ç»„è¿›è¡Œå†™ï¼Œ<pre><code>     è¯»æ“ä½œæ˜¯è¯»è€çš„æ•°ç»„ï¼Œæ‰€ä»¥æ˜¯è¯»å†™åˆ†ç¦»ã€‚</code></pre>é‡‡ç”¨äº†<code>Fail-Fast</code>æœºåˆ¶ï¼Œ<br>é¢å¯¹å¹¶å‘çš„ä¿®æ”¹æ—¶ï¼Œè¿­ä»£å™¨å¾ˆå¿«å°±ä¼šå®Œå…¨å¤±è´¥ï¼Œ<br>è€Œä¸æ˜¯å†’ç€åœ¨å°†æ¥æŸä¸ªä¸ç¡®å®šæ—¶é—´å‘ç”Ÿä»»æ„ä¸ç¡®å®šè¡Œä¸ºçš„é£é™©</li></ul></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> javaåŸºç¡€ï¼Œæºç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+Githubåšå®¢ï¼šç½‘ç«™å†…å›¾ç‰‡ä¸èƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œä½†æœ¬åœ°æ–‡ä»¶å¯ä»¥æ˜¾ç¤º</title>
      <link href="2020/09/07/hexo%E5%8D%9A%E5%AE%A2/pic/"/>
      <url>2020/09/07/hexo%E5%8D%9A%E5%AE%A2/pic/</url>
      
        <content type="html"><![CDATA[<p>åœ¨åŒçº§çš„imgä¸‹æ”¾å›¾ç‰‡ï¼Œmdå¼•ç”¨å³å¯</p><p>å‚è€ƒæ–‡ç« ï¼š<br>ç½‘ä¸Šæµä¼ çš„å¦ä¸€ä»½ä»£ç  npm install <a href="https://github.com/CodeFalling/hexo-asset-image">https://github.com/CodeFalling/hexo-asset-image</a> â€“save å¹¶ä¸èƒ½ä½¿ç”¨ã€‚</p><p><a href="https://cpper.blog.csdn.net/article/details/104117319?utm_medium=distribute.pc_relevant.none-task-blog-OPENSEARCH-6.not_use_machine_learn_pai&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-OPENSEARCH-6.not_use_machine_learn_pai">https://cpper.blog.csdn.net/article/details/104117319?utm_medium=distribute.pc_relevant.none-task-blog-OPENSEARCH-6.not_use_machine_learn_pai&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-OPENSEARCH-6.not_use_machine_learn_pai</a></p><p><img src="a.png"></p><img src="/2020/09/07/hexo%E5%8D%9A%E5%AE%A2/pic/a.png" class="" title="hi"><p><img src="1.png"></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ’åºç®—æ³•-çœ‹å›¾äº†è§£æ€æƒ³</title>
      <link href="2020/08/27/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/Sort/"/>
      <url>2020/08/27/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/Sort/</url>
      
        <content type="html"><![CDATA[<font color = 'gold' size = 5>ä»Šå¤©çœ‹äº†bilibiliå·¦ç¥çš„æ’åºç®—æ³•çš„å…¬å¼€è¯¾ï¼ï¼ï¼  <p>å­¦åˆ°äº†å­¦åˆ°äº†  </p><p>æ¥ç€æƒ³ç»ƒä¹ ä¸€ä¸‹   </p><p>åšäº†leedcode912. æ’åºæ•°ç»„    </p><p>ä¸‹é¢æ¥æ€»ç»“ä¸€ä¸‹å¸¸è§çš„æ’åºç®—æ³•æŠŠï½ï½ï½<br></font ><br><font color = 'pink' size = 3>(é‡Œé¢çš„åŠ¨æ€å›¾å‚è€ƒ<a href="https://www.cnblogs.com/onepixel/p/7674659.html%E5%A4%A7%E4%BD%AC%E7%9A%84">https://www.cnblogs.com/onepixel/p/7674659.htmlå¤§ä½¬çš„</a>)<br></font></p><hr><p>   <font color = 'pink' size = 3> ä»¥ä¸‹æ˜¯æ—¶é—´å¤æ‚åº¦ï¼šo(n2)  ç©ºé—´å¤æ‚åº¦ï¼šo(1)ä¸‰å…„å¼Ÿ<br>   å…¶ä¸­å†’æ³¡ æ’å…¥ ç¨³å®šçš„<br>   é€‰æ‹©ä¸ç¨³å®š<br>   å…·ä½“åˆ†æçœ‹ä¸‹é¢è¯¦è§£<br>   </font></p><h2 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h2><p>è¿›è¡Œn-1æ¬¡æ’åº,ä¾æ¬¡é€‰æ‹©æœ€å¤§çš„æ•°å­—æµ®åˆ°æ•°ç»„çš„åé¢<br>æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢å®ƒä»¬ä¸¤ä¸ªï¼›å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ï¼Œè¿™æ ·åœ¨æœ€åçš„å…ƒç´ åº”è¯¥ä¼šæ˜¯æœ€å¤§çš„æ•°ï¼›</p><img src=https://images2017.cnblogs.com/blog/849589/201710/849589-20171015223238449-2146169197.gif alt="bubbleSort" /><p><code>æ—¶é—´ï¼šo(n2)   ç©ºé—´o(1) ç¨³å®šçš„</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public int[] sortArray(int[] nums) &#123;                for(int i &#x3D; 0 ; i&lt;nums.length-1;i++)&#123;            for(int j &#x3D; 0 ;j &lt; nums.length-1-i;j++)&#123;                if(nums[j]&gt;nums[j+1])&#123;                    int tmp &#x3D; nums[j];                    nums[j]&#x3D;nums[j+1];                    nums[j+1]&#x3D;tmp;                &#125;            &#125;        &#125;        return nums;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h2><p>æ¯æ¬¡é€‰æ‹©æœ€å°å€¼æ”¾åœ¨å‰é¢ï¼Œ<br>çœ‹å›¾è¯´è¯</p><p><img src=https://images2017.cnblogs.com/blog/849589/201710/849589-20171015224719590-1433219824.gifalt="selectSort" /></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public int[] sortArray(int[] nums) &#123;        &#x2F;&#x2F;selctSort        for(int i &#x3D; 0 ; i&lt;nums.length-1;i++)&#123;            int minindex &#x3D; i;            for(int j &#x3D; i+1;j&lt;nums.length;j++)&#123;                if(nums[minindex]&gt;nums[j])&#123;                    minindex &#x3D; j;                &#125;            &#125;            int tmp &#x3D; nums[i];nums[i]&#x3D;nums[minindex];nums[minindex]&#x3D;tmp;        &#125;        return nums;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>æ—¶é—´ï¼šo(n2)   ç©ºé—´o(1) ä¸ç¨³å®šçš„</code><br><strong>æ³¨æ„æ³¨æ„</strong><br>æ¯”å¦‚ç»™ç¬¬ä¸€ä¸ªä½ç½®é€‰æ‹©æœ€å°çš„ï¼Œåœ¨å‰©ä½™å…ƒç´ é‡Œé¢ç»™ç¬¬äºŒä¸ªå…ƒç´ é€‰æ‹©ç¬¬äºŒå°çš„ï¼Œä¾æ¬¡ç±»æ¨ï¼Œç›´åˆ°ç¬¬n - 1ä¸ªå…ƒç´ ï¼Œç¬¬nä¸ªå…ƒç´ ä¸ç”¨é€‰æ‹©äº†ï¼Œå› ä¸ºåªå‰©ä¸‹å®ƒä¸€ä¸ªæœ€å¤§çš„å…ƒç´ äº†ã€‚é‚£ä¹ˆï¼Œåœ¨ä¸€è¶Ÿé€‰æ‹©ï¼Œå¦‚æœå½“å‰å…ƒç´ æ¯”ä¸€ä¸ªå…ƒç´ å°ï¼Œè€Œè¯¥å°çš„å…ƒç´ åˆå‡ºç°åœ¨ä¸€ä¸ªå’Œå½“å‰å…ƒç´ ç›¸ç­‰ çš„å…ƒç´ åé¢ï¼Œé‚£ä¹ˆäº¤æ¢åç¨³å®šæ€§å°±è¢«ç ´åäº†ã€‚æ¯”è¾ƒæ‹—å£ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œåºåˆ—<strong>5 8 5 2 9</strong>ï¼Œæˆ‘ä»¬çŸ¥é“ç¬¬ä¸€éé€‰æ‹©ç¬¬1ä¸ªå…ƒç´ 5ä¼šå’Œ2äº¤æ¢ï¼Œé‚£ä¹ˆåŸåºåˆ—ä¸­2ä¸ª5çš„ç›¸å¯¹å‰åé¡ºåºå°±è¢«ç ´åäº†ï¼Œæ‰€ä»¥é€‰æ‹©æ’åº<strong>ä¸æ˜¯ä¸€ä¸ªç¨³å®šçš„æ’åºç®—æ³•</strong>ã€‚<br>æ‰§è¡Œç»“æœï¼š<br>[5, 8, 5, 2, 9]<br>[2, 8, 5, 5, 9]<br>[2, 5, 8, 5, 9]<br>[2, 5, 5, 8, 9]</p><h2 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h2><p>ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¯¥å…ƒç´ å¯ä»¥è®¤ä¸ºå·²ç»è¢«æ’åºï¼›<br>å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å·²ç»æ’åºçš„å…ƒç´ åºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼›<br>å¦‚æœè¯¥å…ƒç´ ï¼ˆå·²æ’åºï¼‰å¤§äºæ–°å…ƒç´ ï¼Œå°†è¯¥å…ƒç´ ç§»åˆ°ä¸‹ä¸€ä½ç½®ï¼›<br>é‡å¤æ­¥éª¤3ï¼Œç›´åˆ°æ‰¾åˆ°å·²æ’åºçš„å…ƒç´ å°äºæˆ–è€…ç­‰äºæ–°å…ƒç´ çš„ä½ç½®ï¼›<br>å°†æ–°å…ƒç´ æ’å…¥åˆ°è¯¥ä½ç½®åï¼›</p><p><img src=https://images2017.cnblogs.com/blog/849589/201710/849589-20171015225645277-1151100000.gifalt="insertSort" /></p><p><code>æ—¶é—´ï¼šo(n2)   ç©ºé—´o(1)  ç¨³å®šçš„</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public int[] sortArray(int[] nums) &#123;        &#x2F;&#x2F;&#x2F;selectsort        for(int i &#x3D; 1; i &lt; nums.length;i++)&#123;            int current &#x3D; nums[i];            int preIndex &#x3D; i-1;            &#x2F;&#x2F;æ‰¾ä½ç½®æ’å…¥               while(preIndex&gt;&#x3D;0&amp;&amp;nums[preIndex]&gt;current)&#123;                nums[preIndex+1]&#x3D;nums[preIndex];                preIndex--;            &#125;            nums[preIndex+1]&#x3D;current;        &#125;        return nums;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h2 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h2><p>æŠŠé•¿åº¦ä¸ºnçš„è¾“å…¥åºåˆ—åˆ†æˆä¸¤ä¸ªé•¿åº¦ä¸ºn/2çš„å­åºåˆ—ï¼›<br>å¯¹è¿™ä¸¤ä¸ªå­åºåˆ—åˆ†åˆ«é‡‡ç”¨å½’å¹¶æ’åºï¼›<br>å°†ä¸¤ä¸ªæ’åºå¥½çš„å­åºåˆ—åˆå¹¶æˆä¸€ä¸ªæœ€ç»ˆçš„æ’åºåºåˆ—ã€‚</p><p><img src=https://images2017.cnblogs.com/blog/849589/201710/849589-20171015230557043-37375010.gifalt="mergeSort" /><br><code>æ—¶é—´å¤æ‚åº¦O(N*logN)ï¼Œé¢å¤–ç©ºé—´å¤æ‚åº¦O(N) ç¨³å®š</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public int[] sortArray(int[] nums) &#123;        &#x2F;&#x2F;å½’å¹¶æ’åº        if(nums&#x3D;&#x3D;null||nums.length&lt;2) return nums;        mergeSort(nums,0,nums.length-1);        return nums;    &#125;    public void mergeSort(int[] nums,int l,int r)&#123;        if(l&#x3D;&#x3D;r) return;        int mid &#x3D; l + ((r-l)&gt;&gt;1);        mergeSort(nums,l,mid);        mergeSort(nums,mid+1,r);        merge(nums,l,mid,r);    &#125;    public void merge(int[] nums,int l, int mid, int r)&#123;        int[] help &#x3D; new int[r-l+1];        int p1 &#x3D; l;        int p2 &#x3D; mid+1;        int i &#x3D; 0;        while(p1&lt;&#x3D;mid&amp;&amp;p2&lt;&#x3D;r)&#123;            help[i++] &#x3D; (nums[p1]&lt;nums[p2])?nums[p1++]:nums[p2++];        &#125;        while(p1&lt;&#x3D;mid)&#123;            help[i++]&#x3D;nums[p1++];        &#125;        while(p2&lt;&#x3D;r)&#123;            help[i++]&#x3D;nums[p2++];        &#125;        for(int j &#x3D; 0 ; j &lt; help.length;j++)&#123;            nums[j+l] &#x3D; help[j];        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h2><p>å¿«é€Ÿæ’åºä½¿ç”¨åˆ†æ²»æ³•æ¥æŠŠä¸€ä¸ªä¸²ï¼ˆlistï¼‰åˆ†ä¸ºä¸¤ä¸ªå­ä¸²ï¼ˆsub-listsï¼‰ã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š</p><p>ä»æ•°åˆ—ä¸­æŒ‘å‡ºä¸€ä¸ªå…ƒç´ ï¼Œç§°ä¸º â€œåŸºå‡†â€ï¼ˆpivotï¼‰ï¼›<br>é‡æ–°æ’åºæ•°åˆ—ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å°çš„æ‘†æ”¾åœ¨åŸºå‡†å‰é¢ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å¤§çš„æ‘†åœ¨åŸºå‡†çš„åé¢ï¼ˆç›¸åŒçš„æ•°å¯ä»¥åˆ°ä»»ä¸€è¾¹ï¼‰ã€‚åœ¨è¿™ä¸ªåˆ†åŒºé€€å‡ºä¹‹åï¼Œè¯¥åŸºå‡†å°±å¤„äºæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚è¿™ä¸ªç§°ä¸ºåˆ†åŒºï¼ˆpartitionï¼‰æ“ä½œï¼›<br>é€’å½’åœ°ï¼ˆrecursiveï¼‰æŠŠå°äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—æ’åºã€‚<br><code>æ—¶é—´å¤æ‚åº¦O(N*logN)ï¼Œé¢å¤–ç©ºé—´å¤æ‚åº¦O(logN) ä¸ç¨³å®š</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    public int[] sortArray(int[] nums) &#123;        if(nums&#x3D;&#x3D;null||nums.length&lt;2) return nums;        &#x2F;&#x2F;quickSort        quickSort(nums,0,nums.length-1);        return nums;    &#125;    public void quickSort(int[] nums, int l , int r)&#123;        if(l&gt;&#x3D;r) return ;        &#x2F;&#x2F; pivot: æ ‡æ†ä½ç½®ï¼Œcur: å°äºpivotçš„å…ƒç´ çš„ä¸ªæ•°        int pivot &#x3D; partition(nums,l,r);        quickSort(nums,l,pivot-1);        quickSort(nums,pivot+1,r);    &#125;    public int  partition(int[] nums, int l,int r)&#123;        int pivot &#x3D; r;        int cur &#x3D; l;        for(int i &#x3D; l ; i &lt; r;i++)&#123;            if(nums[i]&lt;nums[pivot])&#123;                int tmp &#x3D; nums[i];nums[i]&#x3D;nums[cur];nums[cur]&#x3D;tmp;                cur++;            &#125;        &#125;        int tmp &#x3D; nums[cur];nums[cur]&#x3D;nums[pivot];nums[pivot]&#x3D;tmp;        return cur;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ’åºç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åºç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å½’å¹¶æ’åºå¼•å‡ºçš„é€†åºå¯¹å’Œå°æ•°å’Œé—®é¢˜</title>
      <link href="2020/08/27/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E5%BC%95%E5%87%BA%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>2020/08/27/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E5%BC%95%E5%87%BA%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<font color = 'pink' size = 5>ï¼ï¼ï¼  çœ‹äº†å½’å¹¶æ’åºé‚£æ¥ç€æ¥çœ‹çœ‹å‡ é“é¢˜æŠŠ  è¶çƒ­æ‰“é“</font >---<h2 id="é€†åºå¯¹"><a href="#é€†åºå¯¹" class="headerlink" title="é€†åºå¯¹"></a>é€†åºå¯¹</h2><p><code>å‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹</code><br>åœ¨æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ•°å­—ï¼Œå¦‚æœå‰é¢ä¸€ä¸ªæ•°å­—å¤§äºåé¢çš„æ•°å­—ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªé€†åºå¯¹ã€‚è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ±‚å‡ºè¿™ä¸ªæ•°ç»„ä¸­çš„é€†åºå¯¹çš„æ€»æ•°ã€‚<br>ç¤ºä¾‹ 1:<br>è¾“å…¥: [7,5,6,4]<br>è¾“å‡º: 5</p><hr><pre class="line-numbers language-java" data-language="java"><code class="language-java">class Solution &#123;    int sum &#x3D; 0;    public int reversePairs(int[] nums) &#123;        if(nums&#x3D;&#x3D;null||nums.length&lt;2) return 0;        mergeSort(nums,0,nums.length-1);        return sum;    &#125;    public int mergeSort(int[] nums,int l,int r)&#123;        if(l&#x3D;&#x3D;r) return 0;        int mid &#x3D; l + ((r-l)&gt;&gt;2);        return mergeSort(nums,l,mid)+mergeSort(nums,mid+1,r)+merge(nums,l,mid,r);    &#125;    public int merge(int[] nums,int l ,int mid,int r)&#123;        int i &#x3D; 0;        int[] help &#x3D; new int[r-l+1];        int p1&#x3D;l;        int p2&#x3D;mid+1;        while(p1&lt;&#x3D;mid&amp;&amp;p2&lt;&#x3D;r)&#123;            sum +&#x3D; nums[p1]&gt;nums[p2]?(mid-p1+1):0;            help[i++]&#x3D;nums[p1]&gt;nums[p2]?nums[p2++]:nums[p1++];        &#125;        while(p1&lt;&#x3D;mid)&#123;            help[i++]&#x3D;nums[p1++];        &#125;        while(p2&lt;&#x3D;r)&#123;            help[i++]&#x3D;nums[p2++];        &#125;        for(i &#x3D; 0;i&lt;help.length;i++)&#123;            nums[l+i]&#x3D;help[i];        &#125;        return sum;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h2 id="å°å’Œé—®é¢˜"><a href="#å°å’Œé—®é¢˜" class="headerlink" title="å°å’Œé—®é¢˜"></a>å°å’Œé—®é¢˜</h2><p><code>å°å’Œé—®é¢˜</code></p><p>åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ¯ä¸€ä¸ªæ•°å·¦è¾¹æ¯”å½“å‰æ•°å°çš„æ•°ç´¯åŠ èµ·æ¥ï¼Œå«åšè¿™ä¸ªæ•°ç»„çš„å°å’Œã€‚æ±‚ä¸€ä¸ªæ•°ç»„ çš„å°å’Œã€‚</p><p>ä¾‹å­ï¼š [1,3,4,2,5] 1å·¦è¾¹æ¯”1å°çš„æ•°ï¼Œæ²¡æœ‰ï¼›<br> 3å·¦è¾¹æ¯”3å°çš„æ•°ï¼Œ1ï¼›<br> 4å·¦è¾¹æ¯”4å°çš„æ•°ï¼Œ1ã€3ï¼›<br>2å·¦è¾¹æ¯”2å°çš„æ•°ï¼Œ1ï¼›<br>5å·¦è¾¹æ¯”5å°çš„æ•°ï¼Œ1ã€3ã€4ã€2ï¼›<br>   æ‰€ä»¥å°å’Œä¸º1+1+3+1+1+3+4+2=16</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public static int smallSum(int[] arr) &#123;if (arr &#x3D;&#x3D; null || arr.length &lt; 2) &#123;return 0;&#125;return mergeSort(arr, 0, arr.length - 1);&#125;public static int mergeSort(int[] arr, int l, int r) &#123;if (l &#x3D;&#x3D; r) &#123;return 0;&#125;int mid &#x3D; l + ((r - l) &gt;&gt; 1);return mergeSort(arr, l, mid) + mergeSort(arr, mid + 1, r) + merge(arr, l, mid, r);&#125;public static int merge(int[] arr, int l, int m, int r) &#123;int[] help &#x3D; new int[r - l + 1];int i &#x3D; 0;int p1 &#x3D; l;int p2 &#x3D; m + 1;int res &#x3D; 0;while (p1 &lt;&#x3D; m &amp;&amp; p2 &lt;&#x3D; r) &#123;res +&#x3D; arr[p1] &lt; arr[p2] ? (r - p2 + 1) * arr[p1] : 0;help[i++] &#x3D; arr[p1] &lt; arr[p2] ? arr[p1++] : arr[p2++];&#125;while (p1 &lt;&#x3D; m) &#123;help[i++] &#x3D; arr[p1++];&#125;while (p2 &lt;&#x3D; r) &#123;help[i++] &#x3D; arr[p2++];&#125;for (i &#x3D; 0; i &lt; help.length; i++) &#123;arr[l + i] &#x3D; help[i];&#125;return res;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰‘æŒ‡offer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åºç®—æ³• </tag>
            
            <tag> å½’å¹¶æ’åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çº¿ç¨‹æ˜¯ä»€ä¹ˆ-ä¸çº¿ç¨‹çš„åˆç›¸è¯†</title>
      <link href="2019/09/07/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E6%98%AF%E4%BB%80%E4%B9%88/"/>
      <url>2019/09/07/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E6%98%AF%E4%BB%80%E4%B9%88/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆå«åšçº¿ç¨‹"><a href="#ä»€ä¹ˆå«åšçº¿ç¨‹" class="headerlink" title="ä»€ä¹ˆå«åšçº¿ç¨‹"></a>ä»€ä¹ˆå«åšçº¿ç¨‹</h2><p><img src="/img/b.png"></p><p><code>ç¨‹åº(program)</code>ï¼šæ˜¯ä¸ºå®Œæˆç‰¹å®šä»»åŠ¡ã€ç”¨æŸç§è¯­è¨€ç¼–å†™çš„ä¸€ç»„æŒ‡ä»¤çš„é›†åˆã€‚å³æŒ‡ä¸€ æ®µé™æ€çš„ä»£ç ï¼Œé™æ€å¯¹è±¡ã€‚</p><p><code>è¿›ç¨‹(process)</code>æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ–æ˜¯æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªç¨‹åºã€‚æ˜¯ä¸€ä¸ªåŠ¨æ€ çš„è¿‡ç¨‹ï¼šæœ‰å®ƒè‡ªèº«çš„äº§ç”Ÿã€å­˜åœ¨å’Œæ¶ˆäº¡çš„è¿‡ç¨‹ã€‚â€”â€”ç”Ÿå‘½å‘¨æœŸ<br>å¦‚ï¼šè¿è¡Œä¸­çš„QQï¼Œè¿è¡Œä¸­çš„MP3æ’­æ”¾å™¨ ç¨‹åºæ˜¯é™æ€çš„ï¼Œè¿›ç¨‹æ˜¯åŠ¨æ€çš„<br>è¿›ç¨‹ä½œä¸º<code>èµ„æºåˆ†é…çš„å•ä½</code>ï¼Œç³»ç»Ÿåœ¨è¿è¡Œæ—¶ä¼šä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸åŒçš„å†…å­˜åŒºåŸŸï¼Œæ¯ä¸ªè¿›ç¨‹ä¼šæœ‰ç‹¬ç«‹çš„æ–¹æ³•åŒºå’Œå †ç©ºé—´</p><p><code>çº¿ç¨‹(thread)</code>ï¼Œè¿›ç¨‹å¯è¿›ä¸€æ­¥ç»†åŒ–ä¸ºçº¿ç¨‹ï¼Œ<strong>æ˜¯ä¸€ä¸ªç¨‹åºå†…éƒ¨çš„ä¸€æ¡æ‰§è¡Œè·¯å¾„ã€‚</strong></p><p>è‹¥<strong>ä¸€ä¸ªè¿›ç¨‹åŒä¸€æ—¶é—´å¹¶è¡Œæ‰§è¡Œå¤šä¸ªçº¿ç¨‹</strong>ï¼Œå°±æ˜¯æ”¯æŒ<strong>å¤šçº¿ç¨‹</strong>çš„<br>çº¿ç¨‹ä½œä¸º<code>è°ƒåº¦å’Œæ‰§è¡Œçš„å•ä½</code>ï¼Œæ¯ä¸ªçº¿ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„è¿è¡Œæ ˆå’Œç¨‹åºè®¡æ•°å™¨(pc)ï¼Œçº¿ç¨‹åˆ‡æ¢çš„å¼€é”€å°<br>ä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹<code>å…±äº«ç›¸åŒçš„å†…å­˜å•å…ƒ/å†…å­˜åœ°å€ç©ºé—´</code> ï¼Œå®ƒä»¬ä»åŒä¸€å †ä¸­åˆ†é…å¯¹è±¡ï¼Œå¯ä»¥ è®¿é—®ç›¸åŒçš„å˜é‡å’Œå¯¹è±¡ã€‚è¿™å°±ä½¿å¾—<code>çº¿ç¨‹é—´é€šä¿¡æ›´ç®€ä¾¿ã€é«˜æ•ˆ</code>ã€‚<br>ä½†å¤šä¸ªçº¿ç¨‹æ“ä½œå…±äº«çš„ç³»ç»Ÿèµ„æºå¯èƒ½å°±ä¼šå¸¦æ¥<code>å®‰å…¨</code>çš„éšæ‚£ã€‚</p><p><code>å¹¶è¡Œä¸å¹¶å‘</code></p><ol><li>å¹¶å‘ï¼š åŒâ¼€æ—¶é—´æ®µï¼Œå¤šä¸ªä»»åŠ¡éƒ½åœ¨æ‰§â¾ï¼›</li><li>å¹¶â¾ï¼š å•ä½æ—¶é—´å†…ï¼Œå¤šä¸ªä»»åŠ¡åŒæ—¶æ‰§â¾ã€‚</li></ol><h2 id="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"></a>çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</h2><p>æ–°å»ºï¼š å½“ä¸€ä¸ªThreadç±»æˆ–å…¶å­ç±»çš„å¯¹è±¡è¢«å£°æ˜å¹¶åˆ›å»ºæ—¶ï¼Œæ–°ç”Ÿçš„çº¿ç¨‹å¯¹è±¡å¤„äºæ–°å»ºçŠ¶æ€</p><p>å°±ç»ªï¼šå¤„äºæ–°å»ºçŠ¶æ€çš„çº¿ç¨‹è¢«start()åï¼Œå°†è¿›å…¥çº¿ç¨‹é˜Ÿåˆ—ç­‰å¾…CPUæ—¶é—´ç‰‡ï¼Œ<strong>æ­¤æ—¶å®ƒå·² å…·å¤‡äº†è¿è¡Œçš„æ¡ä»¶</strong>ï¼Œåªæ˜¯æ²¡åˆ†é…åˆ°CPUèµ„æº</p><p>è¿è¡Œï¼šå½“å°±ç»ªçš„çº¿ç¨‹è¢«è°ƒåº¦å¹¶è·å¾—CPUèµ„æºæ—¶,ä¾¿è¿›å…¥è¿è¡ŒçŠ¶æ€ï¼Œ run()æ–¹æ³•å®šä¹‰äº†çº¿ ç¨‹çš„æ“ä½œå’ŒåŠŸèƒ½</p><p>é˜»å¡ï¼šåœ¨æŸç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œè¢«äººä¸ºæŒ‚èµ·æˆ–æ‰§è¡Œè¾“å…¥è¾“å‡ºæ“ä½œæ—¶ï¼Œè®©å‡º CPU å¹¶ä¸´æ—¶ä¸­æ­¢è‡ªå·±çš„æ‰§è¡Œï¼Œè¿›å…¥é˜»å¡çŠ¶æ€</p><p>æ­»äº¡ï¼šçº¿ç¨‹å®Œæˆäº†å®ƒçš„å…¨éƒ¨å·¥ä½œæˆ–çº¿ç¨‹è¢«æå‰å¼ºåˆ¶æ€§åœ°ä¸­æ­¢æˆ–å‡ºç°å¼‚å¸¸å¯¼è‡´ç»“æŸ</p><p> -&gt; åˆ›å»ºçŠ¶æ€ï¼šä¸€ä¸ªæ–°è¿›ç¨‹è¢«åˆ›å»ºæ—¶çš„ç¬¬ä¸€ä¸ªçŠ¶æ€ï¼›<br>åˆ›å»ºçŠ¶æ€ -&gt; å°±ç»ªçŠ¶æ€ï¼šå½“è¿›ç¨‹è¢«åˆ›å»ºå®Œæˆå¹¶åˆå§‹åŒ–åï¼Œ<br>                     ä¸€åˆ‡å°±ç»ªå‡†å¤‡è¿è¡Œæ—¶ï¼Œ<br>                     å˜ä¸ºå°±ç»ªçŠ¶æ€ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ˆå¿«çš„ï¼›<br>å°±ç»ªæ€ -&gt; è¿è¡ŒçŠ¶æ€ï¼šå¤„äºå°±ç»ªçŠ¶æ€çš„è¿›ç¨‹è¢«æ“ä½œç³»ç»Ÿçš„è¿›ç¨‹è°ƒåº¦å™¨é€‰ä¸­åï¼Œ<br>                    å°±åˆ†é…ç»™ CPU æ­£å¼è¿è¡Œè¯¥è¿›ç¨‹ï¼›<br>è¿è¡ŒçŠ¶æ€ -&gt; ç»“æŸçŠ¶æ€ï¼šå½“è¿›ç¨‹å·²ç»è¿è¡Œå®Œæˆæˆ–å‡ºé”™æ—¶ï¼Œ<br>                      ä¼šè¢«æ“ä½œç³»ç»Ÿä½œç»“æŸçŠ¶æ€å¤„ç†ï¼›<br>è¿è¡ŒçŠ¶æ€ -&gt; å°±ç»ªçŠ¶æ€ï¼šå¤„äºè¿è¡ŒçŠ¶æ€çš„è¿›ç¨‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œ<br>                      ç”±äºåˆ†é…ç»™å®ƒçš„è¿è¡Œæ—¶é—´ç‰‡ç”¨å®Œï¼Œ<br>                      <strong>yield( )æˆ–å¤±å»cpuèµ„æº</strong><br>                      æ“ä½œç³»ç»Ÿä¼šæŠŠè¯¥è¿›ç¨‹å˜ä¸ºå°±ç»ªæ€ï¼Œ<br>                      æ¥ç€ä»å°±ç»ªæ€é€‰ä¸­å¦å¤–ä¸€ä¸ªè¿›ç¨‹è¿è¡Œï¼›<br>è¿è¡ŒçŠ¶æ€ -&gt; é˜»å¡çŠ¶æ€ï¼šå½“è¿›ç¨‹è¯·æ±‚æŸä¸ªäº‹ä»¶ä¸”å¿…é¡»ç­‰å¾…æ—¶ï¼Œä¾‹å¦‚è¯·æ±‚ I/O äº‹ä»¶ï¼›<br>                    sleep(long time) join  wait ç­‰å¾…åŒæ­¥é”</p><p>é˜»å¡çŠ¶æ€ -&gt; å°±ç»ªçŠ¶æ€ï¼šå½“è¿›ç¨‹è¦ç­‰å¾…çš„äº‹ä»¶å®Œæˆæ—¶ï¼Œå®ƒä»é˜»å¡çŠ¶æ€å˜åˆ°å°±ç»ªçŠ¶æ€ï¼›<br>                    sleepæ—¶é—´åˆ°  joinç»“æŸ  notify/notifyAll è·å–åˆ°äº†åŒæ­¥é”</p><h2 id="waitå’Œsleepçš„å¼‚åŒ"><a href="#waitå’Œsleepçš„å¼‚åŒ" class="headerlink" title="waitå’Œsleepçš„å¼‚åŒ"></a>waitå’Œsleepçš„å¼‚åŒ</h2><p>ç›¸åŒç‚¹ï¼š<br>ä¸€æ—¦æ‰§è¡Œæ–¹æ³•éƒ½å¯ä»¥ä½¿å½“å‰çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€</p><p>ä¸åŒç‚¹ï¼š</p><ol><li><p><code>æ¥è‡ªä¸åŒçš„ç±»</code>ï¼ŒThreadç±»ä¸­å£°æ˜äº†sleep,objectç±»ä¸­å£°æ˜wait</p></li><li><p><code>è°ƒç”¨çš„è¦æ±‚ä¸åŒ</code>ï¼šsleepå¯ä»¥åœ¨ä»»æ„éœ€è¦çš„åœºæ™¯ä¸‹è°ƒç”¨ï¼Œwaitå¿…é¡»åœ¨åŒæ­¥ä»£ç å—æˆ–è€…åŒæ­¥æ–¹æ³•ä¸­è°ƒç”¨</p></li><li><p><code>å…³äºæ˜¯å¦é‡Šæ”¾åŒæ­¥ç›‘è§†å™¨çš„é—®é¢˜</code>ï¼šå¦‚æœä¸¤ä¸ªæ–¹æ³•éƒ½åœ¨åŒæ­¥ä»£ç å—å½“ä¸­ï¼Œsleepä¸ä¼šé‡Šæ”¾é”ï¼Œwaitä¼šé‡Šæ”¾é”</p></li><li><p>Wait é€šå¸¸è¢«ç”¨äºçº¿ç¨‹é—´äº¤äº’/é€šä¿¡ï¼Œsleep é€šå¸¸è¢«ç”¨äºæš‚åœæ‰§è¡Œã€‚<br>wait() æ–¹æ³•è¢«è°ƒç”¨åï¼Œçº¿ç¨‹ä¸ä¼šè‡ªåŠ¨è‹é†’ï¼Œéœ€è¦åˆ«çš„çº¿ç¨‹è°ƒç”¨åŒä¸€ä¸ªå¯¹è±¡ä¸Šçš„ notify() æˆ–è€… notifyAll() æ–¹æ³•ã€‚sleep() æ–¹æ³•æ‰§è¡Œå®Œæˆåï¼Œçº¿ç¨‹ä¼šè‡ªåŠ¨è‹é†’ã€‚æˆ–è€…å¯ä»¥ä½¿ç”¨ wait(long timeout)è¶…æ—¶åçº¿ç¨‹ä¼šè‡ªåŠ¨è‹é†’ã€‚</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> å¹¶å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹¶å‘åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¹¶å‘å®‰å…¨åŒ…</title>
      <link href="2019/09/07/%E5%A4%9A%E7%BA%BF%E7%A8%8B/juc%E7%9A%84%E5%AD%A6%E4%B9%A0/"/>
      <url>2019/09/07/%E5%A4%9A%E7%BA%BF%E7%A8%8B/juc%E7%9A%84%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h2 id="CountDownLatch"><a href="#CountDownLatch" class="headerlink" title="CountDownLatch"></a>CountDownLatch</h2><p>ä¸»è¦æœ‰ä¿©ä¸ªæ–¹æ³•</p><p>æ˜‚ä¸€ä¸ªçº¿ç¨‹æˆ–è€…å¤šä¸ªçº¿ç¨‹è°ƒç”¨<code>await</code>æ–¹æ³•çš„æ—¶å€™ï¼Œè¿™äº›çº¿ç¨‹ä¼šè¢«é˜»å¡ï¼Œ</p><p>è°ƒç”¨<code>countDown</code>æ–¹æ³•ä¼šå°†è®¡æ•°å™¨å‡1ï¼Œè°ƒç”¨countDownæ–¹æ³•çš„çº¿ç¨‹ä¸ä¼šè¢«é˜»å¡</p><p>å½“è®¡æ•°å™¨çš„å€¼å˜ä¸º0çš„æ—¶å€™ï¼Œå› ä¸º<code>await</code>é˜»å¡çš„çº¿ç¨‹å°±ä¼šè¢«å”¤é†’ï¼Œç»§ç»­æ‰§è¡Œ</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">public static void main(String[] args) throws InterruptedException &#123;        CountDownLatch countDownLatch &#x3D; new CountDownLatch(3);        for (int i &#x3D; 0 ; i &lt; 3;i++)&#123;            new Thread(()-&gt;&#123;                System.out.println(Thread.currentThread().getName()+&quot;:&quot;);                countDownLatch.countDown();            &#125;,String.valueOf(i)).start();        &#125;    countDownLatch.await();        System.out.println(&quot;mainå®Œæˆ&quot;);    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="CyclicBarrier"><a href="#CyclicBarrier" class="headerlink" title="CyclicBarrier"></a>CyclicBarrier</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java">CyclicBarrier cyclicBarrier &#x3D; new CyclicBarrier(3,()-&gt;&#123;            System.out.println(&quot;ç­‰åˆ°3ä¸ªçº¿ç¨‹å®Œæˆä¹‹åæ‰ä¼šæ‰“å°&quot;);        &#125;);        for (int i &#x3D; 0 ; i &lt; 3;i++)&#123;            final int tmp &#x3D; i ;            new Thread(()-&gt;&#123;                System.out.println(Thread.currentThread().getName()+&quot;:&quot;+tmp);                try &#123;                    cyclicBarrier.await();                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125; catch (BrokenBarrierException e) &#123;                    e.printStackTrace();                &#125;            &#125;,String.valueOf(i)).start();        &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Semaphore"><a href="#Semaphore" class="headerlink" title="Semaphore"></a>Semaphore</h2><p><code>acquire</code>:å½“ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨acquireæ“ä½œçš„æ—¶å€™ï¼Œè¦ä¹ˆé€šè¿‡æˆåŠŸè·å–ä¿¡å·é‡ï¼ˆ<code>ä¿¡å·é‡å‡1</code>ï¼‰ï¼Œ<strong>è¦ä¹ˆä¸€ç›´ç­‰å¾…ä¸‹å»ï¼ŒçŸ¥é“æœ‰çº¿ç¨‹é‡Šæ”¾ä¿¡å·é‡æˆ–è€…è¶…æ—¶</strong><br><code>release</code>ï¼šå®é™…ä¸Šä¼šå°†<code>ä¿¡å·é‡åŠ 1</code>ï¼Œç„¶åç­‰å¾…<code>å”¤é†’ç­‰å¾…çš„çº¿ç¨‹</code></p><p><code>ä¿¡å·é‡ä¸»è¦ç›®çš„</code><br>ä¸€ä¸ªæ˜¯ç”¨äº<code>å…±äº«èµ„æºçš„äº’æ–¥ä½¿ç”¨</code>ï¼Œ<br>ä¸€ä¸ªæ˜¯ç”¨äº<code>å¹¶å‘çº¿ç¨‹æ•°çš„æ§åˆ¶</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java">Semaphore semaphore &#x3D; new Semaphore(3);        for(int i &#x3D; 0;i&lt;6;i++)&#123;            new Thread(()-&gt;&#123;                try &#123;                    semaphore.acquire();                    System.out.println(Thread.currentThread().getName()+&quot;æŠ¢åˆ°äº†&quot;);                    try &#123;TimeUnit.SECONDS.sleep(1);&#125; catch (InterruptedException e) &#123; e.printStackTrace();&#125;                    System.out.println(Thread.currentThread().getName()+&quot;ç¦»å¼€äº†&quot;);                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;finally &#123;                    semaphore.release();                &#125;            &#125;,String.valueOf(i)).start();        &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h2 id="ReentrantLock"><a href="#ReentrantLock" class="headerlink" title="ReentrantLock"></a>ReentrantLock</h2><p>ä¸ºäº†ä¿è¯å¹¶å‘é‡ï¼Œ<br>å¸Œæœ›è¯»è¯»å…±å­˜<br>è¯»å†™ä¸èƒ½å…±å­˜<br>å†™è¯»ä¸èƒ½å…±å­˜</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">static class MyCache &#123;        private volatile Map&lt;String, Object&gt; map &#x3D; new HashMap&lt;&gt;();        private ReadWriteLock readWriteLock &#x3D; new ReentrantReadWriteLock();        public void put(String key, Object value)  &#123;            readWriteLock.writeLock().lock();  &#x2F;&#x2F;ä¸Šå†™é”            try &#123;                System.out.println(Thread.currentThread().getName() + &quot;\t-----å†™å…¥æ•°æ®key&quot;);&#x2F;&#x2F;            Thread.sleep(3000);                map.put(key, value);                System.out.println(Thread.currentThread().getName() + &quot;\t-----å†™å…¥æ•°æ®æˆåŠŸ&quot;);            &#125; catch (Exception e) &#123;                e.printStackTrace();            &#125; finally &#123;                readWriteLock.writeLock().unlock();            &#125;        &#125;        public void get(String key)  &#123;            readWriteLock.readLock().lock();  &#x2F;&#x2F;ä¸Šè¯»é”            try &#123;                System.out.println(Thread.currentThread().getName() + &quot;\tè¯»å–æ•°æ®key&quot;);&#x2F;&#x2F;            Thread.sleep(3000);                Object result &#x3D; map.get(key);                System.out.println(Thread.currentThread().getName() + &quot;\tè¯»å–æ•°æ®æˆåŠŸ&quot; + result);            &#125; catch (Exception e) &#123;                e.printStackTrace();            &#125; finally &#123;                readWriteLock.readLock().unlock();            &#125;        &#125;    &#125;    public static void main(String[] args) throws InterruptedException &#123;        MyCache myCache &#x3D; new MyCache();        for (int i &#x3D; 0; i &lt; 5; i++) &#123;            final int tmp &#x3D; i ;            new Thread(()-&gt;&#123;                myCache.put(tmp+&quot;&quot;,tmp+&quot;&quot;);            &#125;,String.valueOf(i)).start();        &#125;        for (int i &#x3D; 0; i &lt; 5; i++) &#123;            final int tmp &#x3D; i ;            new Thread(()-&gt;&#123;                myCache.get(tmp+&quot;&quot;);            &#125;,String.valueOf(i)).start();        &#125;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å¹¶å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹¶å‘å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç±»å¦‚ä½•è®©åŠ è½½ï¼Œå¸¸è§çš„ç±»åŠ è½½å™¨ï¼Œå¦‚ä½•è‡ªå®šä¹‰ç±»åŠ è½½å™¨</title>
      <link href="2019/09/07/%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/jvm/%E7%B1%BB%E5%8A%A0%E8%BD%BD/load/"/>
      <url>2019/09/07/%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/jvm/%E7%B1%BB%E5%8A%A0%E8%BD%BD/load/</url>
      
        <content type="html"><![CDATA[<p><code>ç±»åŠ è½½è¿è¡Œå…¨è¿‡ç¨‹</code></p><p>å½“æˆ‘ä»¬ç”¨javaå‘½ä»¤è¿è¡ŒæŸä¸ªç±»çš„mainå‡½æ•°å¯åŠ¨ç¨‹åºæ—¶ï¼Œé¦–å…ˆéœ€è¦é€šè¿‡ç±»åŠ è½½å™¨æŠŠä¸»ç±»åŠ è½½åˆ° JVMã€‚</p><p>é€šè¿‡Javaå‘½ä»¤æ‰§è¡Œä»£ç çš„å¤§ä½“æµç¨‹å¦‚ä¸‹ï¼š<br>å…¶ä¸­loadClassçš„ç±»åŠ è½½è¿‡ç¨‹æœ‰å¦‚ä¸‹å‡ æ­¥ï¼š åŠ è½½ &gt;&gt; éªŒè¯ &gt;&gt; å‡†å¤‡ &gt;&gt; è§£æ &gt;&gt; åˆå§‹åŒ– </p><p><code>åŠ è½½ï¼š</code></p><p>é€šè¿‡å…¨ç±»åè·å–å®šä¹‰æ­¤ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµ<br>å°†å­—èŠ‚æµæ‰€ä»£è¡¨çš„é™æ€å­˜å‚¨ç»“æ„è½¬æ¢ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„<br>åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¯¥ç±»çš„ Class å¯¹è±¡,ä½œä¸ºæ–¹æ³•åŒºè¿™äº›æ•°æ®çš„è®¿é—®å…¥å£</p><p><code>éªŒè¯ï¼š</code>æ ¡éªŒå­—èŠ‚ç æ–‡ä»¶çš„æ­£ç¡®æ€§</p><p><code>å‡†å¤‡ï¼š</code>ç»™ç±»çš„<code>é™æ€å˜é‡</code>åˆ†é…å†…å­˜ï¼Œå¹¶èµ‹äºˆé»˜è®¤å€¼<br>è¿™æ—¶å€™è¿›è¡Œå†…å­˜åˆ†é…çš„ä»…åŒ…æ‹¬ç±»å˜é‡ï¼ˆstaticï¼‰ï¼Œè€Œä¸åŒ…æ‹¬å®ä¾‹å˜é‡ï¼Œå®ä¾‹å˜é‡ä¼šåœ¨å¯¹è±¡å®ä¾‹åŒ–æ—¶éšç€å¯¹è±¡ä¸€å—åˆ†é…åœ¨ Java å †ä¸­ã€‚<br>    <code>ç‰¹æ®Šæƒ…å†µ</code>ï¼šæ¯”å¦‚ç»™ value å˜é‡åŠ ä¸Šäº† fianl å…³é”®å­—public static final int value=1 ï¼Œé‚£ä¹ˆå‡†å¤‡é˜¶æ®µ value çš„å€¼å°±è¢«å¤åˆ¶ä¸º 1ã€‚<br><code>è§£æï¼š</code>å°†ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨ï¼Œè¯¥é˜¶æ®µä¼šæŠŠä¸€äº›é™æ€æ–¹æ³•(ç¬¦å·å¼•ç”¨ï¼Œæ¯”å¦‚ main()æ–¹æ³•)æ›¿æ¢ä¸ºæŒ‡å‘æ•°æ®æ‰€å­˜å†…å­˜çš„æŒ‡é’ˆæˆ–å¥æŸ„ç­‰(ç›´æ¥å¼•ç”¨)ï¼Œè¿™æ˜¯æ‰€è°“çš„é™æ€é“¾æ¥è¿‡ ç¨‹(ç±»åŠ è½½æœŸé—´å®Œæˆ)ï¼ŒåŠ¨æ€é“¾æ¥æ˜¯åœ¨ç¨‹åºè¿è¡ŒæœŸé—´å®Œæˆçš„å°†ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨ï¼Œä¸‹ èŠ‚è¯¾ä¼šè®²åˆ°åŠ¨æ€é“¾æ¥</p><p>åˆå§‹åŒ–ï¼šå¯¹ç±»çš„<code>é™æ€å˜é‡åˆå§‹åŒ–ä¸ºæŒ‡å®šçš„å€¼</code>ï¼Œ<code>æ‰§è¡Œé™æ€ä»£ç å—</code><br>ä¹Ÿæ˜¯çœŸæ­£æ‰§è¡Œç±»ä¸­å®šä¹‰çš„ Java ç¨‹åºä»£ç (å­—èŠ‚ç )ï¼Œåˆå§‹åŒ–é˜¶æ®µæ˜¯æ‰§è¡Œç±»æ„é€ å™¨ <clinit> ()æ–¹æ³•çš„è¿‡ç¨‹ã€‚<br>å¯¹äºåˆå§‹åŒ–é˜¶æ®µï¼Œè™šæ‹Ÿæœºä¸¥æ ¼è§„èŒƒäº†æœ‰ä¸”åªæœ‰5ç§æƒ…å†µä¸‹ï¼Œå¿…é¡»å¯¹ç±»è¿›è¡Œåˆå§‹åŒ–ï¼š<br>å½“é‡åˆ° new ã€ getstaticã€putstaticæˆ–invokestatic è¿™4æ¡ç›´æ¥ç æŒ‡ä»¤æ—¶ï¼Œæ¯”å¦‚ new ä¸€ä¸ªç±»ï¼Œè¯»å–ä¸€ä¸ªé™æ€å­—æ®µ(æœªè¢« final ä¿®é¥°)ã€æˆ–è°ƒç”¨ä¸€ä¸ªç±»çš„é™æ€æ–¹æ³•æ—¶ã€‚<br>ä½¿ç”¨ java.lang.reflect åŒ…çš„æ–¹æ³•å¯¹ç±»è¿›è¡Œåå°„è°ƒç”¨æ—¶ ï¼Œå¦‚æœç±»æ²¡åˆå§‹åŒ–ï¼Œéœ€è¦è§¦å‘å…¶åˆå§‹åŒ–ã€‚<br>åˆå§‹åŒ–ä¸€ä¸ªç±»ï¼Œå¦‚æœå…¶çˆ¶ç±»è¿˜æœªåˆå§‹åŒ–ï¼Œåˆ™å…ˆè§¦å‘è¯¥çˆ¶ç±»çš„åˆå§‹åŒ–ã€‚<br>å½“è™šæ‹Ÿæœºå¯åŠ¨æ—¶ï¼Œç”¨æˆ·éœ€è¦å®šä¹‰ä¸€ä¸ªè¦æ‰§è¡Œçš„ä¸»ç±» (åŒ…å« main æ–¹æ³•çš„é‚£ä¸ªç±»)ï¼Œè™šæ‹Ÿæœºä¼šå…ˆåˆå§‹åŒ–è¿™ä¸ªç±»ã€‚<br>å½“ä½¿ç”¨ JDK1.7 çš„åŠ¨æ€åŠ¨æ€è¯­è¨€æ—¶ï¼Œå¦‚æœä¸€ä¸ª MethodHandle å®ä¾‹çš„æœ€åè§£æç»“æ„ä¸º REF_getStaticã€REF_putStaticã€REF_invokeStaticã€çš„æ–¹æ³•å¥æŸ„ï¼Œå¹¶ä¸”è¿™ä¸ªå¥æŸ„æ²¡æœ‰åˆå§‹åŒ–ï¼Œåˆ™éœ€è¦å…ˆè§¦å‘å™¨åˆå§‹åŒ–ã€‚</p><p><strong>æ³¨æ„</strong>ï¼Œ<br>ä¸»ç±»åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å¦‚æœä½¿ç”¨åˆ°å…¶å®ƒç±»ï¼Œä¼šé€æ­¥åŠ è½½è¿™äº›ç±»ã€‚<br>jaråŒ…æˆ–waråŒ…é‡Œçš„ç±»ä¸æ˜¯ä¸€æ¬¡æ€§å…¨éƒ¨åŠ è½½çš„ï¼Œæ˜¯ <strong>ä½¿ç”¨åˆ°æ—¶æ‰åŠ è½½</strong>ã€‚</p><p><code>ç±»åŠ è½½å™¨å’ŒåŒäº²å§”æ´¾æœºåˆ¶</code></p><p>ä¸Šé¢çš„ç±»åŠ è½½è¿‡ç¨‹ä¸»è¦æ˜¯é€šè¿‡ç±»åŠ è½½å™¨æ¥å®ç°çš„ï¼ŒJavaé‡Œæœ‰å¦‚ä¸‹å‡ ç§ç±»åŠ è½½å™¨</p><p><code>å¼•å¯¼ç±»åŠ è½½å™¨</code>ï¼šè´Ÿè´£åŠ è½½æ”¯æ’‘JVMè¿è¡Œçš„ä½äºJREçš„libç›®å½•ä¸‹çš„æ ¸å¿ƒç±»åº“ï¼Œæ¯”å¦‚ rt.jarã€charsets.jarç­‰<br><code>æ‰©å±•ç±»åŠ è½½å™¨</code>ï¼šè´Ÿè´£åŠ è½½æ”¯æ’‘JVMè¿è¡Œçš„ä½äºJREçš„libç›®å½•ä¸‹çš„extæ‰©å±•ç›®å½•ä¸­çš„JAR ç±»åŒ…<br>åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼šè´Ÿè´£åŠ è½½ClassPathè·¯å¾„ä¸‹çš„ç±»åŒ…ï¼Œä¸»è¦å°±æ˜¯åŠ è½½ä½ è‡ªå·±å†™çš„é‚£ äº›ç±» è‡ªå®šä¹‰åŠ è½½å™¨ï¼šè´Ÿè´£åŠ è½½ç”¨æˆ·è‡ªå®šä¹‰è·¯å¾„ä¸‹çš„ç±»åŒ…</p><p><code>ç±»åŠ è½½å™¨åˆå§‹åŒ–è¿‡ç¨‹</code>ï¼š</p><p>å‚è§ç±»è¿è¡ŒåŠ è½½å…¨è¿‡ç¨‹å›¾å¯çŸ¥å…¶ä¸­ä¼šåˆ›å»ºJVMå¯åŠ¨å™¨å®ä¾‹sun.misc.Launcherã€‚ sun.misc.Launcheråˆå§‹åŒ–ä½¿ç”¨äº†å•ä¾‹æ¨¡å¼è®¾è®¡ï¼Œä¿è¯ä¸€ä¸ªJVMè™šæ‹Ÿæœºå†…åªæœ‰ä¸€ä¸ª sun.misc.Launcherå®ä¾‹ã€‚ åœ¨Launcheræ„é€ æ–¹æ³•å†…éƒ¨ï¼Œå…¶åˆ›å»ºäº†ä¸¤ä¸ªç±»åŠ è½½å™¨ï¼Œåˆ†åˆ«æ˜¯ sun.misc.Launcher.ExtClassLoader(æ‰©å±•ç±»åŠ è½½å™¨)å’Œsun.misc.Launcher.AppClassLoader(åº” ç”¨ç±»åŠ è½½å™¨)ã€‚ JVMé»˜è®¤ä½¿ç”¨Launcherçš„getClassLoader()æ–¹æ³•è¿”å›çš„ç±»åŠ è½½å™¨AppClassLoaderçš„å®ä¾‹åŠ è½½æˆ‘ä»¬ çš„åº”ç”¨ç¨‹åºã€‚</p><p><code>åŒäº²å§”æ´¾æœºåˆ¶</code><br>åŒäº²å§”æ´¾æœºåˆ¶è¯´ç®€å•ç‚¹å°±æ˜¯ï¼Œå…ˆæ‰¾çˆ¶äº²åŠ è½½ï¼Œä¸è¡Œå†ç”±å„¿å­è‡ªå·±åŠ è½½</p><p>æˆ‘ä»¬æ¥çœ‹ä¸‹åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨AppClassLoaderåŠ è½½ç±»çš„åŒäº²å§”æ´¾æœºåˆ¶æºç ï¼ŒAppClassLoader çš„loadClassæ–¹æ³•æœ€ç»ˆä¼šè°ƒç”¨å…¶çˆ¶ç±»ClassLoaderçš„loadClassæ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„å¤§ä½“é€»è¾‘å¦‚ä¸‹ï¼š</p><ol><li><p>é¦–å…ˆï¼Œæ£€æŸ¥ä¸€ä¸‹æŒ‡å®šåç§°çš„ç±»æ˜¯å¦å·²ç»åŠ è½½è¿‡ï¼Œå¦‚æœåŠ è½½è¿‡äº†ï¼Œå°±ä¸éœ€è¦å†åŠ è½½ï¼Œç›´æ¥ è¿”å›ã€‚</p></li><li><p>å¦‚æœæ­¤ç±»æ²¡æœ‰åŠ è½½è¿‡ï¼Œé‚£ä¹ˆï¼Œå†åˆ¤æ–­ä¸€ä¸‹æ˜¯å¦æœ‰çˆ¶åŠ è½½å™¨ï¼›å¦‚æœæœ‰çˆ¶åŠ è½½å™¨ï¼Œåˆ™ç”±çˆ¶åŠ  è½½å™¨åŠ è½½ï¼ˆå³è°ƒç”¨parent.loadClass(name, false);ï¼‰.æˆ–è€…æ˜¯è°ƒç”¨bootstrapç±»åŠ è½½å™¨æ¥åŠ  è½½ã€‚</p></li><li><p>å¦‚æœçˆ¶åŠ è½½å™¨åŠbootstrapç±»åŠ è½½å™¨éƒ½æ²¡æœ‰æ‰¾åˆ°æŒ‡å®šçš„ç±»ï¼Œé‚£ä¹ˆè°ƒç”¨å½“å‰ç±»åŠ è½½å™¨çš„ findClassæ–¹æ³•æ¥å®Œæˆç±»åŠ è½½ã€‚</p></li></ol><p><code>ä¸ºä»€ä¹ˆè¦è®¾è®¡åŒäº²å§”æ´¾æœºåˆ¶ï¼Ÿ</code></p><p>æ²™ç®±å®‰å…¨æœºåˆ¶ï¼šè‡ªå·±å†™çš„java.lang.String.classç±»ä¸ä¼šè¢«åŠ è½½ï¼Œè¿™æ ·ä¾¿å¯ä»¥é˜²æ­¢æ ¸å¿ƒ APIåº“è¢«éšæ„ç¯¡æ”¹</p><p>é¿å…ç±»çš„é‡å¤åŠ è½½ï¼šå½“çˆ¶äº²å·²ç»åŠ è½½äº†è¯¥ç±»æ—¶ï¼Œå°±æ²¡æœ‰å¿…è¦å­ClassLoaderå†åŠ è½½ä¸€ æ¬¡ï¼Œä¿è¯è¢«åŠ è½½ç±»çš„å”¯ä¸€æ€§</p><p><code>è‡ªå®šä¹‰ç±»åŠ è½½å™¨ç¤ºä¾‹</code>ï¼š</p><p>è‡ªå®šä¹‰ç±»åŠ è½½å™¨åªéœ€è¦ç»§æ‰¿ java.lang.ClassLoader ç±»ï¼Œè¯¥ç±»æœ‰ä¸¤ä¸ªæ ¸å¿ƒæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯ loadClass(String, boolean)ï¼Œå®ç°äº†åŒäº²å§”æ´¾æœºåˆ¶ï¼Œè¿˜æœ‰ä¸€ä¸ªæ–¹æ³•æ˜¯findClassï¼Œé»˜è®¤å®ç°æ˜¯ç©ºæ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬è‡ªå®šä¹‰ç±»åŠ è½½å™¨ä¸»è¦æ˜¯é‡å†™</p>]]></content>
      
      
      <categories>
          
          <category> jvm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç±»çš„åŠ è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ—¥å¿—è®¾ç½®</title>
      <link href="2019/09/07/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%E6%97%A5%E5%BF%97/"/>
      <url>2019/09/07/%E5%A4%A9%E5%A4%A9%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/%E6%97%A5%E5%BF%97/</url>
      
        <content type="html"><![CDATA[<h2 id="Spring-bootä½¿ç”¨logbackå®ç°æ—¥å¿—é…ç½®"><a href="#Spring-bootä½¿ç”¨logbackå®ç°æ—¥å¿—é…ç½®" class="headerlink" title="Spring bootä½¿ç”¨logbackå®ç°æ—¥å¿—é…ç½®"></a>Spring bootä½¿ç”¨logbackå®ç°æ—¥å¿—é…ç½®</h2><p>åœ¨pom.xmlä¸­æ·»åŠ ä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- lombok --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åˆ›å»ºæ—¥å¿—æ–‡ä»¶ï¼šLoggerTest-java"><a href="#åˆ›å»ºæ—¥å¿—æ–‡ä»¶ï¼šLoggerTest-java" class="headerlink" title="åˆ›å»ºæ—¥å¿—æ–‡ä»¶ï¼šLoggerTest.java"></a>åˆ›å»ºæ—¥å¿—æ–‡ä»¶ï¼šLoggerTest.java</h3><p>åœ¨é‡Œé¢æœ‰ä¸¤ç§å†™æ³•<br><code>ç¬¬ä¸€ç§æ–¹æ³•</code>ï¼šåœ¨æ—¥å¿—ç±»é‡Œé¢éƒ½å¿…é¡»æ·»åŠ ä¸Šï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">private final Logger logger &#x3D; LoggerFactory.getLogger(LoggerTest.class);@RunWith(SpringRunner.class)@SpringBootTestpublic class LoggerTest &#123;private final Logger logger &#x3D; LoggerFactory.getLogger(LoggerTest.class);@Testpublic void test()&#123;logger.debug(&quot;debug&quot;);logger.info(&quot;info&quot;);logger.error(&quot;error&quot;);&#125; &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨ï¼šè¿™ç§æ–¹æ³•æ¯æ¬¡ç”¨æ—¥å¿—çš„æ—¶å€™éƒ½å¾—å†™å½“å‰ç±»</p><p><code>ç¬¬äºŒç§æ–¹æ³•</code>ï¼šåŠ ä¸Š<code>@Slf4j</code>è¿™ä¸ªæ³¨è§£</p><p>å¦‚æœåœ¨info/warn/â€¦.ä¸­åŠ ä¸Šå†…å®¹ï¼Œæœ‰ä¸¤ç§æ–¹æ³•<br>ç¬¬ä¸€ç§æ–¹æ³•ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">@RunWith(SpringRunner.class)@SpringBootTest@Slf4jpublic class LoggerTest &#123;@Testpublic void test()&#123;String name &#x3D; &quot;jack&quot;;String password &#x3D; &quot;123456&quot;;log.info(&quot;name: &quot;+ name+&quot;, &quot;+&quot;password: &quot;+password);        log.debug(&quot;debug&quot;);        log.error(&quot;error &quot;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½†æ˜¯å¦‚æœæ˜¯éœ€è¦è¾“å‡ºå¤šä¸ªnameå’Œpasswordï¼Œä¼šæ¯”è¾ƒéº»çƒ¦</p><p>ç¬¬äºŒç§æ–¹æ³•ï¼š<code>log.info(&quot;name: &#123;&#125;,password:&#123;&#125;&quot;,name,password);</code></p><h3 id="æ—¥å¿—é…ç½®"><a href="#æ—¥å¿—é…ç½®" class="headerlink" title="æ—¥å¿—é…ç½®"></a>æ—¥å¿—é…ç½®</h3><ol><li>éœ€è¦æ»¡è¶³çš„éœ€æ±‚æ˜¯åŒºåˆ†infoå’Œerroræ—¥å¿—ï¼Œ</li><li>æ¯å¤©äº§ç”Ÿä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œé‡‡ç”¨ä¸¤ç§æ–¹å¼é…ç½®ï¼Œ<br>ä¸€ç§æ˜¯é€šè¿‡application.ymlï¼Œå¦ä¸€ç§æ˜¯é€šè¿‡logback-spring.xmlé…ç½®ã€‚</li><li>1 application.yml<pre class="line-numbers language-none"><code class="language-none">logging:  pattern:    console: &quot;%d - %msg%n&quot;  file:    path: D:\0log  level: debug  #æŒ‡å®šæ—¥å¿—çº§åˆ«<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>åœ¨è¿›è¡Œç¬¬äºŒç§é…ç½®æ–¹å¼ä¹‹å‰ï¼Œå…ˆæŠŠapplication.ymlä¸­çš„é…ç½®æ³¨é‡Šæ‰</li><li>2  logback-spring.xmlé…ç½®<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- é…ç½®æ§åˆ¶å°æ—¥å¿—è¾“å‡º --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>consolelog<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.PatternLayout<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%d -%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--  é…ç½®æ–‡ä»¶æ—¥å¿—è¾“å‡º--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileInfoLog<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.filter.LevelFilter<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span><span class="token punctuation">></span></span>ERROR<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>level</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onMatch</span><span class="token punctuation">></span></span>DENY<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>onMatch</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onMismatch</span><span class="token punctuation">></span></span>ACCEPT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>onMismatch</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- æ»šåŠ¨ç­–ç•¥ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.TimeBasedRollingPolicy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- è·¯å¾„ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">></span></span>è‡ªå·±çš„è·¯å¾„/info.%d.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileErrorLog<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.filter.ThresholdFilter<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span><span class="token punctuation">></span></span>ERROR<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>level</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- æ»šåŠ¨ç­–ç•¥ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.TimeBasedRollingPolicy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- è·¯å¾„ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">></span></span>è‡ªå·±çš„è·¯å¾„/error.%d.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>consolelog<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileInfoLog<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileErrorLog<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>å‰©ä½™çš„å‚è€ƒä¸‹<a href="https://www.bilibili.com/read/cv4547836/">https://www.bilibili.com/read/cv4547836/</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç‚¹é¤é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç‚¹é¤é¡¹ç›® </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
